{"version":3,"sources":["../node_modules/@iobroker/adapter-react/assets/rooms sync /^/.*$","../node_modules/@iobroker/adapter-react/assets/devices sync /^/.*$","Devices/SmartDetector.js","icons/Jalousie.js","icons/PushButton.js","icons/DoorOpened.js","icons/FireOn.js","icons/FloodOn.js","icons/Gate.js","icons/Humidity.js","icons/MotionOn.js","icons/RGB.js","icons/Socket.js","icons/Thermometer.js","icons/Thermostat.js","icons/HeatValve.js","icons/WindowOpened.js","icons/WindowTilted.js","Components/icons/Cleaner.js","Components/TypeIcon.js","Components/icons/WindowTilted.js","Components/icons/Material.js","Components/TypeOptions.js","Components/UploadImage.js","Dialogs/DialogEditProperties.js","Dialogs/DialogAddState.js","Dialogs/DialogEditStates.js","Dialogs/DialogEditDevice.js","Components/helpers/search.js","Dialogs/DialogNewDevice.js","Components/helpers/LocalUtils.js","Dialogs/DialogEditEnums.js","Dialogs/DialogDeleteFolder.js","Dialogs/DialogEditFolder.js","Components/DragWrapper.js","Components/DropWrapper.js","Components/TreeView.js","Dialogs/DialogImporter.js","Components/helpers/hooks/useStateLocal.js","Tabs/ListDevices.js","App.js","serviceWorker.js","index.js"],"names":["map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","module","exports","IOBChannelDetector","this","detector","ChannelDetector","getPatterns","options","_keysOptional","forceRebuildKeys","JSON","stringify","objects","sort","detect","Jalousie","props","viewBox","d","fill","PushButton","DoorOpened","FireOn","FloodOn","Gate","Humidity","MotionOn","cx","cy","r","RGB","style","stroke","fillRule","fillOpacity","Socket","width","height","Thermometer","Thermostat","HeatValve","WindowOpened","strokeWidth","strokeMiterlimit","WindowTilted","Cleaner","x","y","TYPE_ICONS","Types","airCondition","TypeIconAC","blind","TypeIconBlinds","button","TypeIconButton","buttonSensor","TypeIconButtonSensor","camera","TypeIconCamera","chart","TypeIconChart","url","TypeIconURL","image","TypeIconImage","dimmer","TypeIconDimmer","door","TypeIconDoor","fireAlarm","TypeIconFireAlarm","floodAlarm","TypeIconFloodAlarm","gate","TypeIconGate","humidity","TypeIconHumidity","info","TypeIconInfo","light","TypeIconLight","lock","TypeIconLock","location","TypeIconLocation","media","TypeIconMedia","motion","TypeIconMotion","rgb","TypeIconRGB","ct","TypeIconCT","rgbSingle","TypeIconRGBSingle","hue","TypeIconHUE","slider","TypeIconSlider","socket","TypeIconSocket","temperature","TypeIconTemperature","thermostat","TypeIconThermostat","valve","TypeIconValve","vacuumCleaner","TypeIconVacuumCleaner","volume","TypeIconVolume","volumeGroup","TypeIconVolumeGroup","window","TypeIconWindow","windowTilt","TypeIconWindowTilt","weatherCurrent","TypeIconWeather","weatherForecast","warning","TypeIconWarning","defaultStyle","marginTop","marginLeft","TypeIcon","src","assign","className","alt","Icon","type","Component","Material","rx","ry","TYPE_OPTIONS","alexa","alisa","google","material","blindButtons","ICONS_TYPE","margin","STATES_NAME_ICONS","SET","AiOutlineAppstoreAdd","WORKING","MdWork","UNREACH","IconUnreach","LOWBAT","IconLowbat","MAINTAIN","IconMaintain","ERROR","IconError","DIRECTION","MdDirections","CONNECTED","ACTUAL","IconWorking","SECOND","BiLastPage","PRESS_LONG","FaCompressArrowsAlt","PRESS","FaCompress","MUTE","FaVolumeMute","ACCURACY","GiLaserPrecision","RADIUS","AiOutlineRadiusBottomleft","ELEVATION","AiOutlineColumnHeight","LATITUDE","AiOutlineColumnWidth","LONGITUDE","AiOutlineSwap","GPS","MdGpsFixed","ON_ACTUAL","FaToggleOn","ON_SET","OPEN","FaDoorOpen","STOP","GiStopSign","WATER_ALARM","IoIosWater","WASTE_ALARM","GiNuclearWaste","PAUSE","AiFillPauseCircle","STATE","GiMatterStates","BATTERY","WASTE","WATER","WORK_MODE","MODE","MdDeveloperMode","POWER","AiOutlinePoweroff","BOOST","SiBoost","HUMIDITY","WiHumidity","TEMPERATURE","WiThermometer","BRIGHTNESS","WiDaySunny","MOTION","FaRunning","FIRE","WiFire","WINDOW","SMOKE","WiSmoke","SWING","GiTreeSwing","SPEED","GiSpeedometer","DIMMER","HiOutlineLightBulb","ON","FiPower","COLOR_TEMP","FaSun","ELECTRIC_POWER","ImPower","CURRENT","GiElectric","VOLTAGE","GiElectricalResistance","CONSUMPTION","FcElectricalSensor","FREQUENCY","GiLightningFrequency","HUE","IoIosColorPalette","UploadImage","state","anchorEl","cropHandler","cropperRef","createRef","disabled","classes","icon","t","crop","onChange","position","buttonCropWrapper","Tooltip","title","IconButton","onClick","setState","currentTarget","stopPropagation","color","Menu","keepMounted","open","onClose","MenuItem","imageElement","current","cropper","getCroppedCanvas","toDataURL","label","customClasses","iconPickerLabel","iconPickerIcon","base64","value","ref","initialAspectRatio","viewMode","guides","minCropBoxHeight","minCropBoxWidth","background","checkOrientation","defaultProps","maxSize","removeIconFunc","accept","error","console","log","el","withStyles","theme","objectFit","display","zIndex","right","top","buttonIconsWrapper","border","fontSize","fontWeight","DialogEditProperties","checkedName","name","initName","parts","channelId","split","pop","join","replace","Utils","FORBIDDEN_CHARS","channelObj","common","getObjectNameFromObj","language","I18n","getLanguage","functions","enumIDs","filter","startsWith","obj","members","includes","rooms","smartName","getSmartName","changeProperties","length","prevProps","prevState","realParent","ids","find","enums","objs","getObjectName","getObjectIcon","Select","oidField","fullWidth","multiple","renderValue","arrId","newArr","renderValueWrapper","renderValueCurrent","enumIcon","target","custom","iotNoCommon","iot","en","file","newValue","data","divOids","divOidField","oidName","TextField","FormControlLabel","disableSwitchLabel","control","Switch","disableSwitch","checked","placeholder","helperText","renderSelectEnum","wrapperColorFields","clsx","colorButton","dropZone","divDialogContent","renderProperties","React","PureComponent","paddingTop","paddingBottom","marginBottom","verticalAlign","divDevice","palette","divIndicators","fontFamily","buttonPen","headerButtons","textAlign","marginRight","alignItems","funcDivEdit","funcEditName","funcEdit","tableIconImg","opacity","spacing","flexDirection","node","useStyles","makeStyles","root","backgroundColor","paper","maxWidth","overflowHidden","pre","overflow","whiteSpace","showDialog","nameField","roleField","typeField","unitField","minField","maxField","minMax","overflowText","textOverflow","maxHeight","typeArray","DialogAddState","callback","arrayStateDefault","editState","useState","setOpen","role","setRole","roleInput","setRoleInput","roles","setRoles","setName","unit","setUnit","setType","checkedRead","setCheckedRead","checkedWrite","setCheckedWrite","min","setMin","max","setMax","step","setStep","checkedStates","setCheckedStates","useEffect","rolesArr","forEach","key","push","newObj","states","read","write","document","body","removeChild","ThemeProvider","getThemeName","Dialog","DialogTitle","DialogContent","dividers","Paper","padding","p","item","toUpperCase","Autocomplete","freeSolo","event","onInputChange","renderInput","params","FormControl","InputLabel","Checkbox","DialogActions","Button","variant","autoFocus","a","_id","parse","parseFloat","toString","setObject","startIcon","addStateCallBack","createElement","appendChild","ReactDOM","render","DragHandle","SortableHandle","cursor","SortableItem","SortableElement","ownIndex","onDelete","TableRow","TableCell","component","scope","align","undefined","SortableList","SortableContainer","items","TableBody","index","DialogEditStates","i","splice","onSortEnd","oldIndex","newIndex","result","disableBackdropClick","disableEscapeKeyDown","Fab","size","val","TableContainer","Table","table","TableHead","useDragHandle","TabPanel","children","other","hidden","wrapperTabPanel","Typography","DialogEditDevice","handleClose","updateNewState","array","addedStates","stateObj","alias","fx","handleOk","startTheProcess","initChangeProperties","onSaveProperties","onCopyDevice","delObject","onToggleTypeStates","stateDevice","newIds","channelInfo","attr","parentId","defaultRole","updateFx","getAddedChannelStates","indicatorsAvailable","indicator","indicatorsVisible","extendedAvailable","idsInit","showIndicators","localStorage","getItem","expertMode","selectIdFor","newState","selectIdPrefix","editFxFor","newChannelId","newChannelError","disabledButton","tab","editStates","pattern","patterns","newStates","added","getObject","then","_sortedKeys","channelPrefix","channelPrefixEnd","getChannelItems","objOriginal","noType","required","nextProps","selected","imagePrefix","dialogName","findRealDevice","statesOnly","onOk","isAlias","native","deviceIconStyle","themeType","checkIndicators","header","divExtended","menuWrapperIcons","setItem","transform","prefix","fxRead","fxWrite","titleBackground","titleColor","defaultValue","isAddedName","dName","titleTooltip","linkedDevices","IconsState","getStateIcon","divOidFieldObj","displayFlex","displayFlexRow","wrapperOidName","wrapperOidNameIcon","oidNameIcon","addedName","indicators","stateSubCategory","wrapperButtonsAndOidField","width100","FormHelperTextProps","wrapperItemButtons","emptyButton","divCollapsed","renderVariable","wrapperHeaderIndicators","headerIndicatorsLine","headerIndicatorsName","mobileWidth","renderSelectDialog","renderEditFxDialog","titleHead","content","AppBar","LinearProgress","wrapperIconHead","iconStyle","showDeviceIcon","deviceText","Tabs","_","newTab","indicatorColor","textColor","scrollButtons","Tab","a11yProps","initState","renderHeader","renderVariables","renderEditStates","MdHelpOutline","textTransform","minWidth","lineHeight","headerButton","float","idEditName","idEdit","justifyContent","flexGrow","borderTop","flex","wrapperTitleAndId","UNSUPPORTED_TYPES","unknown","instance","getLastPart","pos","lastIndexOf","substring","DialogNewDevice","copyDevice","generateId","handleCancel","getParentId","typesWords","typeId","types","b","stateIds","nondeletable","checkIdSelected","newPart","notUnique","rootCheck","Promise","tasks","defaultChannelRole","desc","concat","processTasks","setStateAsync","container","blockFields","newRootCheck","newRoot","onKeyPress","ev","preventDefault","itemChildrenWrapper","selectIcon","selectText","iconWrapper","emptyIcon","nameDiv","viewDiv","input","paddingRight","overflowX","flexFlow","treeDiv","direction","LocalUtils","channelName","enumNames","reg","RegExp","newName","trim","toLowerCase","CapitalWords","DialogEditEnums","values","slice","isRefresh","indexOf","List","list","ListItem","onToggle","ListItemIcon","ListItemText","primary","ListItemSecondaryAction","edge","deviceName","DialogDeleteFolder","cb","device","setChecked","Date","getTime","deleteFolderAndDeviceCallBack","time","fiveMin","emptyObj","DialogEditFolder","devices","deleteDevice","newFolder","dataEdit","setDataEdit","arrayObjects","setArrayObjects","setStartTheProcess","newId","setId","setRootCheck","getNonEmptyName","lang","idsObject","onCloseLocal","changed","newDataEdit","onChangeCopy","addNewFolder","dataFolder","getIdFromName","newDevices","deleteFolderID","delObjects","icons","sizeDropZone","DragWrapper","openFolder","backgroundRow","deviceIdx","useRef","useDrag","canDrag","end","monitor","getDropResult","targetId","getTargetIds","didDrop","collect","isDragging","dragRef","setError","useDrop","canDrop","partsId","handlerId","getHandlerId","isOver","drop","hover","dropRef","DropWrapper","transition","prepareList","modified","depth","parent","engine","parseInt","regEx","it","parentIndex","images","IconTypeDimmer","IconTypeLight","IconTypeSwitch","def","IconTypeGeneric","TreeView","addNewName","expanded","listItems","renaming","deleting","errorText","filterMenuOpened","addNew","typeFilter","searchText","newExp","ensureSelectedIsVisible","filterTimer","dialogNew","addNewFolderTitle","dialogNewForm","noValidate","autoComplete","onAddNew","toggleExpanded","dialogNewInput","saveExpanded","onlyOpen","isExpanded","expandButton","onCollapse","onExpand","onSelect","childrenFiltered","isFilteredOut","depthPx","paddingLeft","borderRadius","reorder","filteredPartly","secondary","dark","countSpan","childrenCount","onDoubleClick","folder","element","itemIcon","iconCommon","getTextStyle","fontStyle","renderOneItem","dragging","dense","disablePadding","buttonWrapper","onExpandAll","onCollapseAll","renderAllItems","wrapperFoldersBlock","renderAddButton","renderTree","renderNewItemDialog","addButton","overflowY","userSelect","deviceWrapper","fontStyleId","alignSelf","tableIcon","wrapperDevices","wrapperItems","wrapperCloning","wrapperNameAndId","wrapperCheckbox","enumsWrapper","wrapperIconEnumCell","nameEnumCell","backgroundRed","emptyList","enumsStyle","formControlLabel","headerWrapElement","backgroundSilver","RenderNewItemDialog","object","checkDeviceInObjects","DialogImporter","arrayDevice","setArrayDevice","useStateLocal","cloningMethod","setCloningMethod","idsFolder","setSdsFolder","selectFolder","setSelectFolder","checkedSelect","setCheckedSelect","openEdit","setOpenEdit","skipElement","setSkipElement","originalIds","originalId","newArray","selectId","objName","addDevice","arrayDeviceFunction","s","checkEnumsScip","newObjFolder","renderEnumCell","generateFolders","indexDevice","newDevice","newArrayDevice","getThemeType","indeterminate","indexCurrent","colorOn","colorOff","colorSet","colorRead","colorLinkedDevices","colorNativeDevices","actionsMapping","turnOn","IconOn","turnOff","setTargetTemperature","IconTemperature","incrementTargetTemperature","IconUp","decrementTargetTemperature","IconDown","setPercentage","IconPercentage","incrementPercentage","decrementPercentage","setColor","IconColor","setColorTemperature","IconBulb","incrementColorTemperature","decrementColorTemperature","getTargetTemperature","IconThermometer","getTemperatureReading","setLockState","IconLock","getLockState","TYPES_MAPPING","level","action","WIDTHS","ALIAS","LINKEDDEVICES","IS_CHROME","test","navigator","userAgent","vendor","ListDevices","onHashChange","Router","getLocation","dialog","editId","disabledButtons","onObjectChanged","loading","updateTimeout","clearTimeout","setTimeout","updateListItems","onResize","resizeTimer","windowWidth","innerWidth","idsInEnums","enumObj","_usedIdsOptional","funcEnums","roomsEnums","updateEnumsForOneDevice","onObjectsGenerate","expandedIDs","applyFilter","browse","editCreatedId","doNavigate","j","searchIcon","noEdit","showId","devicesArr","adapter","instances","inst","extIcon","importer","linkeddevices","devicesArrLinkeddevices","partsLinkedDevices","deviceId","arrayParent","deviceObj","cIcon","addToEnum","enumId","removeFromEnum","task","alert","onEditFinished","refresh","somethingChanged","defaultStates","defaultMin","defaultMax","defaultUnit","attrs","enabled","isLinked","parentType","detectDevices","oldName","oldSmartName","setSmartName","setEnumsOfDevice","sid","mainStateId","renderImporterDialog","showImporterDialog","renderEditFolder","showEditFolder","translated","copyId","deleteId","editEnum","showAddDialog","showConfirmation","message","lastChanged","func","room","text","noInfo","onlyAliases","updating","inputRef","timerChanged","waitForUpdateID","subscribes","onUpdateBound","onUpdate","bind","SmartDetector","getAdapterInstances","catch","noCommon","addEventListener","subscribeObject","getElementById","scrollIntoView","block","removeEventListener","unsubscribeObject","getAdapters","getObjects","getEnums","stateId","statesCount","usedStates","functionsNames","roomsNames","elem","updateState","names","ButtonBase","focusRipple","onEditEnum","enumsEdit","focusVisibleClassName","enumsEditFocusVisible","wrapperButtonEnum","spaceBetween","typeCellNameAndIcon","iconStyleType","visible","someFilterActive","someChanges","folders","f","hasVisibleChildren","_item","searchId","searchStyle","invertColor","WrapperRow","inner","hoverRow","colSpan","cell","cellMobile","iconOpen","textStyle","renderTypeCell","buttonsCell","wrapperButton","onCopy","onEdit","emptyBlock","changeFilter","iconInSelect","unshift","paperTable","stickyHeader","tableExpandIconCell","tableIconCell","headerCell","tableNameCell","renderHeaderFunction","renderHeaderRoom","renderHeaderType","buttonsCellHeader","group","newSmartName","copiedDevice","createDevice","CircularProgress","small","DndProvider","backend","TouchBackend","HTML5Backend","Toolbar","wrapperHeadButtons","viewCategory","InputLabelProps","shrink","hide700","setFilter","InputProps","endAdornment","InputAdornment","emptyClear","emptyBlockFlex","wrapperName","themeName","renderDevices","renderMessage","renderEditDialog","renderAddDialog","renderEditEnumDialog","withWidth","column","columnDiv","buttonLinkedDevices","devLineExpand","devLineEnabled","devLineEdit","devLineDelete","devLineName","devLineNumber","editedId","enumLineSubName","devLine","devLineDescription","devLineActions","devLineProgress","left","channelLineActions","devLineNameBlock","columnHeader","contrastText","devModified","actionIcon","devSubLine","devSubLineName","devSubSubLineName","devSubLineByOn","devSubLineDelete","devSubLineEdit","devSubLineTypeTitle","orderSelector","tableLine","tableSmartName","tableIdCell","tableEditButtonCell","tableGroup","main","tableGroupCell","tableExpandIcon","tableGroupIcon","minHeight","pointerEvents","filterType","App","extendedProps","bottomButtons","adapterName","translations","require","toggleTheme","currentThemeName","newThemeName","setThemeName","createTheme","selectedTab","loaded","square","elevation","tabContent","onError","onLoad","onLoadConfig","updateNativeValue","renderError","renderSaveCloseButtons","GenericApp","wrapperMenu","wrapperIconHeader","Boolean","hostname","match","version","host","Sentry","dsn","integrations","SentryIntegrations","build","onThemeChange","_themeName","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.5f0e1936.chunk.js","sourcesContent":["var map = {\n\t\"./Anteroom.svg\": 520,\n\t\"./Attic.svg\": 521,\n\t\"./Balcony.svg\": 522,\n\t\"./Barn.svg\": 523,\n\t\"./Basement.svg\": 524,\n\t\"./Bathroom.svg\": 525,\n\t\"./Bedroom.svg\": 526,\n\t\"./Boiler Room.svg\": 527,\n\t\"./Carport.svg\": 528,\n\t\"./Cellar.svg\": 529,\n\t\"./Chamber.svg\": 530,\n\t\"./Corridor.svg\": 531,\n\t\"./Dining Area.svg\": 532,\n\t\"./Dining Room.svg\": 533,\n\t\"./Dining.svg\": 534,\n\t\"./Dressing Room.svg\": 535,\n\t\"./Driveway.svg\": 536,\n\t\"./Entrance.svg\": 537,\n\t\"./Equipment Room.svg\": 538,\n\t\"./Front Yard.svg\": 539,\n\t\"./Gallery.svg\": 540,\n\t\"./Garage.svg\": 541,\n\t\"./Garden.svg\": 542,\n\t\"./Ground Floor.svg\": 543,\n\t\"./Guest Bathroom.svg\": 544,\n\t\"./Guest Room.svg\": 545,\n\t\"./Gym.svg\": 546,\n\t\"./Hall.svg\": 547,\n\t\"./Home Theater.svg\": 548,\n\t\"./Kitchen.svg\": 549,\n\t\"./Laundry Room.svg\": 550,\n\t\"./Living Area.svg\": 551,\n\t\"./Living Room.svg\": 552,\n\t\"./Locker Room.svg\": 553,\n\t\"./Nursery.svg\": 554,\n\t\"./Office.svg\": 555,\n\t\"./Outdoors.svg\": 556,\n\t\"./Playroom.svg\": 557,\n\t\"./Pool.svg\": 558,\n\t\"./Rear Wall.svg\": 559,\n\t\"./Second Floor.svg\": 560,\n\t\"./Shed.svg\": 561,\n\t\"./Sleeping Area.svg\": 562,\n\t\"./Stairway.svg\": 563,\n\t\"./Stairwell.svg\": 564,\n\t\"./Storeroom.svg\": 565,\n\t\"./Summer House.svg\": 566,\n\t\"./Swimming Pool.svg\": 567,\n\t\"./Terrace.svg\": 568,\n\t\"./Toilet.svg\": 569,\n\t\"./Upstairs.svg\": 570,\n\t\"./Wardrobe.svg\": 571,\n\t\"./Washroom.svg\": 572,\n\t\"./Wc.svg\": 573,\n\t\"./Windscreen.svg\": 574,\n\t\"./Workshop.svg\": 575,\n\t\"./Workspace.svg\": 576,\n\t\"./list\": 265,\n\t\"./list.json\": 265,\n\t\"./names.txt\": 577,\n\t\"./parseNames\": 380,\n\t\"./parseNames.d.ts\": 578,\n\t\"./parseNames.js\": 380\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 519;","var map = {\n\t\"./Alarm Systems.svg\": 580,\n\t\"./Amplifier.svg\": 581,\n\t\"./Awnings.svg\": 582,\n\t\"./Battery Status.svg\": 583,\n\t\"./Ceiling Spotlights.svg\": 584,\n\t\"./Chandelier.svg\": 585,\n\t\"./Climate.svg\": 586,\n\t\"./Coffee Makers.svg\": 587,\n\t\"./Cold Water.svg\": 588,\n\t\"./Computer.svg\": 589,\n\t\"./Consumption.svg\": 590,\n\t\"./Curtains.svg\": 591,\n\t\"./Dishwashers.svg\": 592,\n\t\"./Doors.svg\": 593,\n\t\"./Doorstep.svg\": 594,\n\t\"./Dryer.svg\": 595,\n\t\"./Fan.svg\": 596,\n\t\"./Floor Lamps.svg\": 597,\n\t\"./Garage Doors.svg\": 598,\n\t\"./Gates.svg\": 599,\n\t\"./Hairdryer.svg\": 600,\n\t\"./Handle.svg\": 601,\n\t\"./Hanging Lamps.svg\": 602,\n\t\"./Heater.svg\": 603,\n\t\"./Hoods.svg\": 604,\n\t\"./Hot Water.svg\": 605,\n\t\"./Humidity.svg\": 606,\n\t\"./Iron.svg\": 607,\n\t\"./Irrigation.svg\": 608,\n\t\"./Led Strip.svg\": 609,\n\t\"./Light.svg\": 610,\n\t\"./Lightings.svg\": 611,\n\t\"./Lock.svg\": 612,\n\t\"./Louvre.svg\": 613,\n\t\"./Mowing Machine.svg\": 614,\n\t\"./Music.svg\": 615,\n\t\"./Outdoor Blinds.svg\": 616,\n\t\"./People.svg\": 617,\n\t\"./Pool.svg\": 618,\n\t\"./Power Consumption.svg\": 619,\n\t\"./Printer.svg\": 620,\n\t\"./Pump.svg\": 621,\n\t\"./Receiver.svg\": 622,\n\t\"./Sconces.svg\": 623,\n\t\"./Security.svg\": 624,\n\t\"./Shading.svg\": 625,\n\t\"./Shutters.svg\": 626,\n\t\"./SmokeDetector.svg\": 627,\n\t\"./Sockets.svg\": 628,\n\t\"./Speaker.svg\": 629,\n\t\"./Stove.svg\": 630,\n\t\"./Table Lamps.svg\": 631,\n\t\"./Temperature Sensors.svg\": 632,\n\t\"./Tv.svg\": 633,\n\t\"./Vacuum Cleaner.svg\": 634,\n\t\"./Ventilation.svg\": 635,\n\t\"./Washing Machines.svg\": 636,\n\t\"./Water Consumption.svg\": 637,\n\t\"./Water Heater.svg\": 638,\n\t\"./Water.svg\": 639,\n\t\"./Weather.svg\": 640,\n\t\"./Window.svg\": 641,\n\t\"./list\": 264,\n\t\"./list.json\": 264,\n\t\"./names.txt\": 642,\n\t\"./parseNames\": 381,\n\t\"./parseNames.d.ts\": 643,\n\t\"./parseNames.js\": 381\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 579;","/**\r\n * Copyright 2019-2021 bluefox <dogafox@gmail.com>\r\n *\r\n * MIT License\r\n *\r\n **/\r\n\r\nimport ChannelDetector from 'iobroker.type-detector';\r\n\r\nclass IOBChannelDetector {\r\n    constructor() {\r\n        this.detector = new ChannelDetector.ChannelDetector();\r\n    }\r\n\r\n    getPatterns() {\r\n        return this.detector.getPatterns();\r\n    }\r\n\r\n    detect(options) {\r\n        if (!options._keysOptional || options.forceRebuildKeys) {\r\n            if (JSON.stringify(this.objects) !== JSON.stringify(options.objects) || options.forceRebuildKeys) {\r\n                this.objects = options.objects;\r\n                this.keys = Object.keys(this.objects).sort();\r\n            }\r\n            options._keysOptional = this.keys;\r\n        }\r\n\r\n        return this.detector.detect(options);\r\n    }\r\n}\r\n\r\nexport default IOBChannelDetector;\r\n","import React from \"react\";\r\n\r\nconst Jalousie = props => (\r\n  <svg viewBox=\"0 0 508.16 508.16\" {...props}>\r\n    <path\r\n      d=\"M504.18 13.67a3.924 3.924 0 0 0-.42.02H4a4 4 0 0 0-4 4v47.28a4 4 0 0 0 4 4h19.72l-13.44 42.04a4 4 0 0 0 3.8 5.24h9.64l-13.44 42.04a4 4 0 0 0 3.8 5.24h9.64l-13.44 42.04a4 4 0 0 0 3.8 5.24h9.64l-13.44 42.04a4 4 0 0 0 3.8 5.24h9.64l-13.44 42.08a4 4 0 0 0 .56 3.56 4 4 0 0 0 3.24 1.64h9.64l-13.44 42.08a4 4 0 0 0 .56 3.56 4 4 0 0 0 3.24 1.64h9.64l-13.44 42.08a4 4 0 0 0 .56 3.56 4 4 0 0 0 3.24 1.64h9.64l-13.44 42.16a4 4 0 0 0 .56 3.56 4 4 0 0 0 3.24 1.64h9.64l-13.44 42a4 4 0 0 0 .56 3.56 4 4 0 0 0 3.24 1.64h479.8a4 4 0 0 0 3.24-1.64 4 4 0 0 0 .56-3.56l-13.44-42.08h9.64a4 4 0 0 0 3.24-1.64 4 4 0 0 0 .56-3.56l-13.44-42.08h9.64a4 4 0 0 0 3.24-1.64 4 4 0 0 0 .56-3.56l-13.44-42.08h9.64a4 4 0 0 0 3.24-1.64 4 4 0 0 0 .56-3.56l-13.44-42.08h9.64a4 4 0 0 0 3.24-1.64 4 4 0 0 0 .56-3.56l-13.64-42.08h9.84a4 4 0 0 0 4-5.24l-13.44-42.04h9.44a4 4 0 0 0 4-5.24l-13.44-42.04h9.44a4 4 0 0 0 4-5.24l-13.44-42.04h9.44a4 4 0 0 0 4-5.24l-13.44-42.04h19.72a4 4 0 0 0 4-4V17.69a4 4 0 0 0-3.98-4.02zM99.08 486.49H19.56l12.56-39.28h66.96v39.28zm0-47.28H19.56l12.56-39.28h66.96v39.28zm0-47.28H19.56l12.56-39.28h66.96v39.28zm0-47.28H19.56l12.56-39.28h66.96v39.28zm0-47.28H19.56l12.56-39.28h66.96v39.28zm0-47.28H19.56l12.56-39.28h66.96v39.28zm0-47.28H19.56l12.56-39.28h66.96v39.28zm0-47.28H19.56l12.56-39.28h66.96v39.28zm0-47.28H19.56l12.56-39.28h66.96v39.28zm26.8 378.24h-18.8v-39.28h18.8v39.28zm0-47.28h-18.8v-39.28h18.8v39.28zm0-47.28h-18.8v-39.28h18.8v39.28zm0-47.28h-18.8v-39.28h18.8v39.28zm0-47.28h-18.8v-39.28h18.8v39.28zm0-47.28h-18.8v-39.28h18.8v39.28zm0-47.28h-18.8v-39.28h18.8v39.28zm0-47.28h-18.8v-39.28h18.8v39.28zm.16-47.28h-18.96V68.97h18.96v39.28zm247.84 378.24h-240v-39.28h240v39.28zm-240-47.28v-39.28h239.68v39.28H133.88zm240-47.28h-240v-39.28h240v39.28zm0-47.28h-240v-39.28h240v39.28zm0-47.28h-240v-39.28h240v39.28zm0-47.28h-240v-39.28h240v39.28zm0-47.28h-240v-39.28h240v39.28zm0-47.28h-240v-39.28h240v39.28zm-240-47.28V68.97h239.84v39.28H133.88zm266.64 378.24h-18.64l-.32-39.28h18.96v39.28zm0-47.28h-18.96v-39.28h18.96v39.28zm0-47.28h-18.96v-39.28h18.96v39.28zm0-47.28h-18.96v-39.28h18.96v39.28zm.32-47.28h-18.96v-39.28h18.96v39.28zm0-47.28h-18.96v-39.28h18.96v39.28zm0-47.28h-18.96v-39.28h18.96v39.28zm0-47.28h-18.96v-39.28h18.96v39.28zm-18.96-47.28V68.97h18.8v39.28h-18.8zm63.56 8v39.28h-36.92v-39.28h36.92zm-36.76-8V68.97h36.92v39.28h-36.92zm36.76 55.28v39.28h-36.92v-39.28h36.92zm0 47.28v39.28h-36.92v-39.28h36.92zm0 47.28v39.28h-36.92v-39.28h36.92zm0 47.28v39.28h-36.76l-.16-39.28h36.92zm42.68 181.12h-79.44v-39.28h66.96l12.48 39.28zm0-47.28h-79.44v-39.28h66.96l12.48 39.28zm0-47.28h-79.44v-39.28h36.92v17.44a4 4 0 0 0 8 0v-17.44h22.04l12.48 39.28zm0-47.28h-34.6v-39.28h22.04l12.56 39.28zm0-47.28h-34.6v-39.28h22.04l12.56 39.28zm0-47.28h-34.6v-39.28h22.04l12.56 39.28zm0-47.28h-34.6v-39.28h22.04l12.56 39.28zm0-47.28h-34.6v-39.28h22.04l12.56 39.28zm0-47.28h-34.6V68.97h22.04l12.56 39.28zm11.56-47.28H8V21.69h491.76l-.08 39.28z\"\r\n      fill=\"currentColor\"\r\n    />\r\n    <path\r\n      d=\"M454.32 37.33h-13.76a4 4 0 0 0 0 8h13.76a4 4 0 0 0 0-8zM414.84 37.33h-96a4 4 0 0 0 0 8h96a4 4 0 0 0 0-8z\"\r\n      fill=\"currentColor\"\r\n    />\r\n  </svg>\r\n);\r\n\r\nexport default Jalousie;\r\n","import React from \"react\";\r\n\r\nconst PushButton = props => (\r\n    <svg viewBox=\"0 0 285 285\" {...props}>\r\n        <g>\r\n            <path fill=\"currentColor\" d=\"M88.4,87.996c2.525-2.146,2.832-5.933,0.687-8.458C82.801,72.144,79.34,62.719,79.34,53c0-22.607,18.393-41,41-41\r\n              c22.607,0,41,18.393,41,41c0,9.729-3.467,19.161-9.761,26.557c-2.148,2.523-1.843,6.311,0.681,8.458\r\n              c1.129,0.961,2.511,1.431,3.886,1.431c1.698,0,3.386-0.717,4.572-2.111C168.858,77.77,173.34,65.576,173.34,53\r\n              c0-29.225-23.775-53-53-53c-29.225,0-53,23.775-53,53c0,12.563,4.476,24.748,12.602,34.31C82.089,89.835,85.873,90.141,88.4,87.996\r\n              z\"/>\r\n            <path fill=\"currentColor\" d=\"M120.186,41.201c13.228,0,23.812,8.105,27.313,19.879c0.761-2.562,1.176-5.271,1.176-8.08\r\n                  c0-15.649-12.685-28.335-28.335-28.335c-15.648,0-28.334,12.686-28.334,28.335c0,2.623,0.364,5.16,1.031,7.571\r\n                  C96.691,49.076,107.152,41.201,120.186,41.201z\"/>\r\n            <path fill=\"currentColor\" d=\"M234.21,169.856c-3.769-22.452-19.597-26.04-27.034-26.462c-2.342-0.133-4.516-1.32-5.801-3.282\r\n                  c-5.388-8.225-12.609-10.4-18.742-10.4c-4.405,0-8.249,1.122-10.449,1.932c-0.275,0.102-0.559,0.15-0.837,0.15\r\n                  c-0.87,0-1.701-0.47-2.163-1.262c-5.472-9.387-13.252-11.809-19.822-11.809c-3.824,0-7.237,0.82-9.548,1.564\r\n                  c-0.241,0.077-0.764,0.114-1.001,0.114c-1.256,0-2.637-1.03-2.637-2.376V69.753c0-11.035-8.224-16.552-16.5-16.552\r\n                  c-8.276,0-16.5,5.517-16.5,16.552v84.912c0,4.989-3.811,8.074-7.918,8.074c-2.495,0-4.899-1.138-6.552-3.678l-7.937-12.281\r\n                  c-3.508-5.788-8.576-8.188-13.625-8.189c-11.412-0.001-22.574,12.258-14.644,25.344l62.491,119.692\r\n                  c0.408,0.782,1.225,1.373,2.108,1.373h87.757c1.253,0,2.289-1.075,2.365-2.325l2.196-35.816c0.025-0.413,0.162-0.84,0.39-1.186\r\n                  C231.591,212.679,237.828,191.414,234.21,169.856z\"/>\r\n        </g>\r\n    </svg>);\r\n\r\nexport default PushButton;\r\n","import React from \"react\";\r\n\r\nconst DoorOpened = props => (\r\n  <svg viewBox=\"0 0 512 512\" {...props}>\r\n    <path fill=\"currentColor\" d=\"M298.667 298.667c17.643 0 32-14.357 32-32s-14.357-32-32-32-32 14.357-32 32c0 17.642 14.357 32 32 32zm0-42.667c5.867 0 10.667 4.779 10.667 10.667s-4.8 10.667-10.667 10.667S288 272.555 288 266.667 292.8 256 298.667 256z\" />\r\n    <path fill=\"currentColor\" d=\"M448 490.667h-32v-480C416 4.779 411.221 0 405.333 0H106.667c-.597 0-1.131.256-1.707.341-.555.085-1.088.149-1.621.32-.939.32-1.749.789-2.56 1.344-.32.213-.704.277-1.003.533-.107.085-.149.213-.256.32-.768.704-1.365 1.579-1.899 2.496-.213.341-.512.619-.661.981-.597 1.345-.96 2.774-.96 4.332v480H64c-5.888 0-10.667 4.779-10.667 10.667C53.333 507.221 58.112 512 64 512h42.667c.576 0 1.173-.043 1.749-.149l256-42.667a10.672 10.672 0 0 0 8.917-10.517V53.333c0-5.227-3.776-9.664-8.917-10.517L235.541 21.333h159.125v480c0 5.888 4.779 10.667 10.667 10.667H448c5.888 0 10.667-4.779 10.667-10.667s-4.779-10.666-10.667-10.666zm-96-428.31v387.264l-234.667 39.125V23.253L352 62.357z\" />\r\n  </svg>\r\n);\r\n\r\nexport default DoorOpened;\r\n","import React from \"react\";\r\n\r\nconst FireOn = props => (\r\n  <svg viewBox=\"0 0 512.006 512.006\" {...props}>\r\n    <path\r\n      d=\"M502.379 211.249c0 74.656-60.52 135.176-135.176 135.176-6.469.01-12.919-.473-19.311-1.448-66.487-9.598-115.837-66.555-115.866-133.728-.019-67.212 49.349-124.227 115.866-133.825a142.128 142.128 0 0 1 19.311-1.352c74.656 0 135.176 60.521 135.176 135.177z\"\r\n      fill=\"#c52828\"\r\n    />\r\n    <path\r\n      d=\"M463.757 211.249c-.029 67.173-49.378 124.131-115.865 133.728-66.487-9.598-115.837-66.555-115.866-133.728-.019-67.212 49.349-124.227 115.866-133.825 66.516 9.598 115.875 66.613 115.865 133.825z\"\r\n      fill=\"#f44335\"\r\n    />\r\n    <g fill=\"#fdd834\">\r\n      <path d=\"M380.527 230.56h-26.649a8.208 8.208 0 0 1-8.4-7.242l-7.242-90.472c-.212-4.47 3.235-8.275 7.705-8.497.232-.01.463-.01.695 0h41.036a8.105 8.105 0 0 1 8.4 7.802c.01.232.01.463 0 .695l-7.242 90.472c-.501 4.181-4.093 7.319-8.303 7.242zM362.085 269.181h10.235c7.84 0 14.194 6.353 14.194 14.194v10.235c0 7.84-6.353 14.194-14.194 14.194h-10.235c-7.84 0-14.194-6.353-14.194-14.194v-10.235c.001-7.84 6.354-14.194 14.194-14.194z\" />\r\n    </g>\r\n    <path\r\n      d=\"M308.015 332.714a132.057 132.057 0 0 1-24.332-15.256 138.367 138.367 0 0 1-25.587-26.456 134.123 134.123 0 0 1-26.07-79.754 136.453 136.453 0 0 1 3.09-28.966 129.801 129.801 0 0 1 9.655-28.966c-24.428-39.201-50.691-78.113-85.547-108.334-2.607-2.221-5.214-4.442-7.917-6.566a161.051 161.051 0 0 0-14.387-10.621 80.965 80.965 0 0 0-13.807-7.145c1.641 7.338 3.476 14.773 4.731 22.208a180.355 180.355 0 0 1 2.993 26.939v7.145a192.012 192.012 0 0 1-60.829 139.521 202.647 202.647 0 0 0-43.836 52.719 149.063 149.063 0 0 0-6.566 120.017 152.006 152.006 0 0 0 22.208 40.167 164.926 164.926 0 0 0 106.21 61.891 86.874 86.874 0 0 1-44.801-32.249 51.315 51.315 0 0 1-3.669-5.6 77.46 77.46 0 0 1-6.469-13.325 79.464 79.464 0 0 1 3.766-63.726 111.914 111.914 0 0 1 23.463-28.387 101.983 101.983 0 0 0 32.442-74.25v-3.862a97.875 97.875 0 0 0-4.731-27.132 112.539 112.539 0 0 1 10.911 6.566 108.053 108.053 0 0 1 30.222 30.801 100.963 100.963 0 0 1 15.835 46.443v8.4a100.92 100.92 0 0 1-18.249 57.933c22.98 13.035 38.622-8.593 44.994-28.966a60.067 60.067 0 0 0 2.51-12.842 88.458 88.458 0 0 1 28.966 61.312v5.214c-2.704 33.678-25.346 62.451-57.45 72.995 73.353-11.789 128.717-72.889 133.245-147.053a131.977 131.977 0 0 1-30.994-10.815z\"\r\n      fill=\"#f57c00\"\r\n    />\r\n    <path\r\n      d=\"M263.117 417.489v-5.214a88.462 88.462 0 0 0-28.966-61.312 60.129 60.129 0 0 1-2.51 12.842c-5.986 20.47-22.014 42.098-44.994 28.966a100.923 100.923 0 0 0 18.249-57.933v-.966-7.338a100.971 100.971 0 0 0-15.835-46.443 108.027 108.027 0 0 0-30.222-30.801 108.949 108.949 0 0 0-39.877-35.532 97.838 97.838 0 0 1 4.731 27.132v3.862a101.988 101.988 0 0 1-32.442 74.25 111.924 111.924 0 0 0-23.366 28.387 79.491 79.491 0 0 0-3.573 63.726 83.948 83.948 0 0 0 35.436 42.291 51.315 51.315 0 0 0 3.669 5.6 86.886 86.886 0 0 0 44.415 32.249 164.927 164.927 0 0 1-106.21-61.892 152.082 152.082 0 0 1-22.014-40.167 149.055 149.055 0 0 1 6.564-120.015 202.714 202.714 0 0 1 44.029-53.202A192.012 192.012 0 0 0 131.03 76.458v-7.145a180.486 180.486 0 0 0-2.993-26.939c-1.255-7.435-3.09-14.869-4.731-22.208a80.965 80.965 0 0 1 13.807 7.145 159.446 159.446 0 0 1 14.773 10.718c2.704 2.124 5.311 4.345 7.917 6.566 34.856 30.222 61.119 69.133 85.547 108.334a129.75 129.75 0 0 0-9.655 28.966 136.634 136.634 0 0 0-3.669 29.353 134.116 134.116 0 0 0 26.07 79.754 138.396 138.396 0 0 0 25.587 26.456 132.164 132.164 0 0 0 24.332 15.256 152.203 152.203 0 0 1-44.898 84.775z\"\r\n      fill=\"#ff9801\"\r\n    />\r\n    <path d=\"M147.831 500.912h-1.448c-61.756-8.7-113.963-50.15-136.432-108.334a158.725 158.725 0 0 1 7.338-127.355 212.528 212.528 0 0 1 45.96-55.809 181.787 181.787 0 0 0 57.933-132.473v-6.759a171.298 171.298 0 0 0-2.8-25.587c-.966-5.697-2.221-11.2-3.476-16.704l-1.159-5.117c-1.178-5.204 2.076-10.37 7.28-11.548a9.663 9.663 0 0 1 5.948.541 89.473 89.473 0 0 1 15.449 8.014 172.47 172.47 0 0 1 15.449 11.2c41.036 32.732 70.871 77.244 95.589 117.314a9.673 9.673 0 0 1 .483 9.655 121.056 121.056 0 0 0-9.655 26.842 128.158 128.158 0 0 0-2.607 26.456c.01 59.198 41.374 110.333 99.258 122.721a9.655 9.655 0 0 1 7.628 9.655c-3.186 77.244-61.216 141.742-141.163 156.129-5.253.927-10.254-2.588-11.181-7.84a9.65 9.65 0 0 1 6.353-10.795c29.99-9.8 50.517-37.492 51.174-69.037a67.618 67.618 0 0 0-14.387-40.746 56.78 56.78 0 0 1-24.139 31.091 33.122 33.122 0 0 1-33.408-1.448c-4.644-2.626-6.276-8.516-3.659-13.16.145-.261.299-.502.473-.743a91.187 91.187 0 0 0 16.511-52.429v-.772a90.743 90.743 0 0 0-14.58-48.277 98.107 98.107 0 0 0-19.311-21.532v9.945a111.13 111.13 0 0 1-35.436 81.299 103.445 103.445 0 0 0-21.532 25.78 69.873 69.873 0 0 0-3.09 56.002 76.304 76.304 0 0 0 49.533 44.512c5.33.801 9.009 5.774 8.207 11.104-.801 5.328-5.774 8.997-11.103 8.205zM137.113 39.478v1.738a188.136 188.136 0 0 1 3.09 28.194v7.435A200.926 200.926 0 0 1 76.38 223.318a192.998 192.998 0 0 0-42.098 50.498 139.414 139.414 0 0 0-6.469 111.907 148.682 148.682 0 0 0 65.561 76.568 89.522 89.522 0 0 1-15.159-49.726 91.25 91.25 0 0 1 9.655-40.167 119.46 119.46 0 0 1 25.394-31.091 92.026 92.026 0 0 0 29.449-67.588v-3.09a88.799 88.799 0 0 0-4.248-24.911 9.653 9.653 0 0 1 6.237-12.147 9.638 9.638 0 0 1 7.473.657 119.392 119.392 0 0 1 44.705 40.649 110.062 110.062 0 0 1 17.669 58.898v1.159a110.343 110.343 0 0 1-13.035 52.139 12.555 12.555 0 0 0 4.731-1.448c9.655-5.31 17.283-22.497 18.345-35.436.434-5.31 5.088-9.269 10.409-8.844a9.61 9.61 0 0 1 6.006 2.761 95.586 95.586 0 0 1 32.153 68.168 89.528 89.528 0 0 1-13.711 47.408 146.774 146.774 0 0 0 69.133-108.817c-62.77-17.37-106.22-74.492-106.21-139.618a146.655 146.655 0 0 1 3.283-30.994 139.876 139.876 0 0 1 8.497-26.263c-23.27-37.077-51.27-78.402-88.541-108.045a113.049 113.049 0 0 0-8.496-6.467z\" />\r\n    <path d=\"M367.203 356.081a144.841 144.841 0 0 1-89.506-30.994 143.882 143.882 0 0 1-55.326-113.838 146.655 146.655 0 0 1 3.283-30.994 140.652 140.652 0 0 1 10.814-31.091c23.965-50.498 74.839-82.699 130.735-82.747 79.986.019 144.813 64.875 144.803 144.861a144.848 144.848 0 0 1-55.297 113.809 143.543 143.543 0 0 1-89.506 30.994zm0-270.353c-48.47.019-92.586 27.943-113.355 71.74a121.83 121.83 0 0 0-9.655 26.939 127.805 127.805 0 0 0-2.51 26.842c.01 59.198 41.374 110.333 99.258 122.721a125.763 125.763 0 0 0 26.263 2.8c69.326 0 125.521-56.195 125.521-125.521S436.519 85.728 367.203 85.728z\" />\r\n    <path d=\"M380.527 240.215h-26.649c-9.279.097-17.109-6.894-18.056-16.125l-7.242-90.085a17.201 17.201 0 0 1 4.538-13.035 18.38 18.38 0 0 1 13.518-5.89h41.036a18.375 18.375 0 0 1 13.518 5.89 17.204 17.204 0 0 1 4.635 13.035l-7.242 90.472c-1.139 9.076-8.912 15.854-18.056 15.738zm-25.49-19.311h24.525l6.952-86.899h-38.622l7.145 86.899zM372.32 317.459h-10.235c-13.151-.048-23.801-10.698-23.849-23.849v-10.235c.048-13.151 10.698-23.801 23.849-23.849h10.138c13.189 0 23.888 10.66 23.946 23.849v10.138c0 13.18-10.669 23.888-23.849 23.946zm-10.138-38.622a4.635 4.635 0 0 0-4.538 4.538v10.138a4.635 4.635 0 0 0 4.538 4.538h10.138a4.635 4.635 0 0 0 4.538-4.538v-10.138a4.635 4.635 0 0 0-4.538-4.538h-10.138z\" />\r\n  </svg>\r\n);\r\n\r\nexport default FireOn;\r\n","import React from \"react\";\r\n\r\nconst FloodOn = props => (\r\n  <svg viewBox=\"0 0 512.002 512.002\" {...props}>\r\n    <path\r\n      d=\"M481.929 324.35c0 65.951-53.464 119.415-119.415 119.415a111.938 111.938 0 0 1-17.059-1.279c-58.735-8.478-102.33-58.795-102.356-118.135-.017-59.375 43.595-109.742 102.356-118.221a125.333 125.333 0 0 1 17.059-1.194c65.951-.001 119.415 53.462 119.415 119.414z\"\r\n      fill=\"#c52828\"\r\n    />\r\n    <path\r\n      d=\"M447.81 324.35c-.026 59.341-43.621 109.657-102.356 118.135-58.735-8.478-102.33-58.795-102.356-118.135-.017-59.375 43.595-109.742 102.356-118.221 58.77 8.487 102.373 58.846 102.356 118.221z\"\r\n      fill=\"#f44335\"\r\n    />\r\n    <g fill=\"#fdd834\">\r\n      <path d=\"M374.285 341.409h-23.542a7.251 7.251 0 0 1-7.421-6.397l-6.397-79.923a7.174 7.174 0 0 1 6.807-7.506c.205-.009.409-.009.614 0h36.251a7.16 7.16 0 0 1 7.421 6.892c.009.205.009.409 0 .614l-6.397 79.923a7.249 7.249 0 0 1-7.336 6.397zM357.993 375.527h9.041c6.926 0 12.539 5.612 12.539 12.539v9.041c0 6.926-5.612 12.539-12.539 12.539h-9.041c-6.926 0-12.539-5.612-12.539-12.539v-9.041c0-6.926 5.621-12.539 12.539-12.539z\" />\r\n    </g>\r\n    <path\r\n      d=\"M318.415 435.235a153.553 153.553 0 0 1-19.192 22.859 157.081 157.081 0 0 1-50.154 33.095 159.575 159.575 0 0 1-61.413 12.283 149.268 149.268 0 0 1-20.556-1.365 155.17 155.17 0 0 1-40.857-10.833 156.698 156.698 0 0 1-84.017-82.311 152.753 152.753 0 0 1-12.368-60.219 150.27 150.27 0 0 1 17.059-69.005 752.602 752.602 0 0 1 42.648-68.237c15.268-22.774 29.513-46.145 44.013-69.346l34.119-54.504 7.335-11.771c4.504-7.353 14.117-9.656 21.469-5.143a15.525 15.525 0 0 1 5.143 5.143l34.716 55.869c-2.644 4.18-5.032 8.53-7.335 12.709a96.424 96.424 0 0 0-11.515 44.439 98.026 98.026 0 0 0 8.018 38.725 100.313 100.313 0 0 0 21.921 31.56 106.83 106.83 0 0 0 9.98 8.53 115.344 115.344 0 0 0-11.6 31.048 120.546 120.546 0 0 0-2.729 25.589c.041 48.9 29.878 92.828 75.315 110.885z\"\r\n      fill=\"#0377bc\"\r\n    />\r\n    <path\r\n      d=\"M277.217 435.235a153.553 153.553 0 0 1-19.192 22.859 157.081 157.081 0 0 1-50.154 33.095 158.847 158.847 0 0 1-40.772 10.833 155.17 155.17 0 0 1-40.857-10.833 156.698 156.698 0 0 1-84.017-82.311 152.657 152.657 0 0 1-12.368-60.134 150.27 150.27 0 0 1 17.059-69.005 752.602 752.602 0 0 1 42.648-68.237c15.268-22.774 29.513-46.145 44.013-69.346l34.119-54.504c9.212 14.671 18.339 29.427 27.465 44.098-2.644 4.18-5.032 8.53-7.335 12.709a96.502 96.502 0 0 0-10.833 44.354 98.026 98.026 0 0 0 8.018 38.725 100.313 100.313 0 0 0 21.921 31.56 106.83 106.83 0 0 0 9.98 8.53 115.323 115.323 0 0 0-12.283 31.133 120.546 120.546 0 0 0-2.729 25.589c.043 48.9 29.88 92.828 75.317 110.885z\"\r\n      fill=\"#02a9f4\"\r\n    />\r\n    <path\r\n      d=\"M411.388 144.545a477.911 477.911 0 0 0-27.636-43.842c-9.894-14.586-19.192-29.598-28.489-44.525L328.395 13.53c-3.037-4.708-9.323-6.065-14.031-3.028a10.259 10.259 0 0 0-3.028 3.028l-12.794 20.215-14.074 22.433c-9.297 14.927-18.595 29.939-28.489 44.525-6.994 10.236-13.989 20.471-20.301 31.133-2.644 4.18-5.032 8.53-7.335 12.709a96.502 96.502 0 0 0-10.833 44.354 98.758 98.758 0 0 0 29.939 70.284 106.83 106.83 0 0 0 9.98 8.53 119.423 119.423 0 0 1 84.017-60.902 114.9 114.9 0 0 1 21.068-1.877c5.186.009 10.372.324 15.524.938a119.369 119.369 0 0 1 39.578 12.539 96.462 96.462 0 0 0-6.228-73.866z\"\r\n      fill=\"#0377bc\"\r\n    />\r\n    <path\r\n      d=\"M379.573 188.899a93.046 93.046 0 0 1-1.535 17.059 131.537 131.537 0 0 0-15.524-1.024 114.797 114.797 0 0 0-21.068 1.877 119.425 119.425 0 0 0-84.017 60.902 106.96 106.96 0 0 1-9.98-8.53c-31.099-29.743-38.878-76.417-19.106-114.638 2.303-4.35 4.691-8.53 7.335-12.709 6.312-10.662 13.306-20.898 20.301-31.133 9.894-14.586 19.192-29.598 28.489-44.525l14.074-22.433 14.074 22.433c9.297 14.927 18.595 29.939 28.489 44.525a477.911 477.911 0 0 1 27.636 43.842 96.401 96.401 0 0 1 10.832 44.354z\"\r\n      fill=\"#02a9f4\"\r\n    />\r\n    <path d=\"M187.656 512.002a167.398 167.398 0 0 1-64.655-12.88 165.226 165.226 0 0 1-88.623-86.746 160.466 160.466 0 0 1-13.05-63.631 158.81 158.81 0 0 1 17.656-72.928 698.388 698.388 0 0 1 39.663-63.887l3.412-5.032c12.027-17.998 23.627-36.677 34.886-54.76L167.1 71.531c6.986-11.353 21.861-14.893 33.214-7.898a24.1 24.1 0 0 1 7.898 7.898l17.059 27.38 17.827 28.404a8.521 8.521 0 0 1 0 9.383c-2.559 4.009-4.777 8.018-6.994 12.112a87.69 87.69 0 0 0-10.065 40.089 89.456 89.456 0 0 0 7.335 35.398 92.438 92.438 0 0 0 20.045 28.83 99.608 99.608 0 0 0 9.212 7.847 8.534 8.534 0 0 1 2.303 10.918 106.955 106.955 0 0 0-10.747 28.745 112.483 112.483 0 0 0-2.559 23.712c.009 45.429 27.721 86.26 69.943 103.038 4.393 1.706 6.559 6.653 4.853 11.046a8.584 8.584 0 0 1-.93 1.749 162.407 162.407 0 0 1-20.301 24.139 164.29 164.29 0 0 1-52.884 34.886 167.489 167.489 0 0 1-64.653 12.795zm0-435.012a6.99 6.99 0 0 0-6.056 3.412l-50.154 80.69c-11.344 18.168-23.03 37.019-35.227 55.187l-3.412 5.032a687.543 687.543 0 0 0-38.725 62.266 141.613 141.613 0 0 0-15.695 65.166 143.56 143.56 0 0 0 11.686 56.893 148.16 148.16 0 0 0 79.411 77.79 152.855 152.855 0 0 0 116.344 0 147.616 147.616 0 0 0 47.425-31.133 143.446 143.446 0 0 0 12.027-13.306c-43.322-21.802-70.668-66.139-70.711-114.638a129.576 129.576 0 0 1 2.9-27.38 124.357 124.357 0 0 1 9.212-26.954 136.293 136.293 0 0 1-5.203-4.691 109.87 109.87 0 0 1-23.798-34.119 106.411 106.411 0 0 1-8.53-42.136c0-16.803 4.035-33.359 11.771-48.278 1.621-3.071 3.241-5.971 4.862-8.53l-14.927-24.054-17.059-27.38a7.087 7.087 0 0 0-6.141-3.837z\" />\r\n    <path d=\"M99.971 442.4A8.521 8.521 0 0 1 94 439.926a129.631 129.631 0 0 1-28.318-41.113 126.28 126.28 0 0 1-10.236-50.069 124.503 124.503 0 0 1 13.818-57.234c1.868-4.325 6.883-6.32 11.208-4.452s6.32 6.883 4.452 11.208c-.162.375-.35.742-.563 1.092a107.494 107.494 0 0 0-11.856 49.387 109.211 109.211 0 0 0 8.53 43.331 112.626 112.626 0 0 0 24.565 35.739c3.344 3.318 3.369 8.717.051 12.061a8.549 8.549 0 0 1-6.022 2.525l.342-.001zM257.428 276.242a8.526 8.526 0 0 1-5.118-1.706 115.222 115.222 0 0 1-10.747-9.212 109.87 109.87 0 0 1-23.798-34.119 106.411 106.411 0 0 1-8.53-42.136c0-16.803 4.035-33.359 11.771-48.278 2.559-4.862 5.118-9.212 7.677-13.306 6.312-10.662 13.392-21.068 20.386-31.218 9.041-13.903 17.912-27.807 26.442-41.881L304 8.753c5.485-8.734 17.017-11.379 25.751-5.894a18.698 18.698 0 0 1 5.894 5.894l28.574 45.634c8.53 13.733 17.059 27.977 26.612 41.539l1.706 2.474a457.473 457.473 0 0 1 26.442 42.136 104.968 104.968 0 0 1 6.824 80.434c-1.433 4.487-6.235 6.969-10.722 5.536a8.282 8.282 0 0 1-1.39-.589 112.612 112.612 0 0 0-106.535 2.388 110.28 110.28 0 0 0-42.136 43.416 8.52 8.52 0 0 1-5.715 4.265l-1.877.256zm62.437-258.959a1.541 1.541 0 0 0-1.365.768l-28.489 45.378c-8.53 13.903-17.571 28.233-26.954 42.051-6.909 10.065-13.903 20.301-20.045 30.707-2.644 4.18-4.947 8.53-7.165 12.368a87.722 87.722 0 0 0-9.809 40.345 89.456 89.456 0 0 0 7.335 35.398 92.438 92.438 0 0 0 20.045 28.83l1.791 1.706a127.216 127.216 0 0 1 43.331-41.369 129.73 129.73 0 0 1 113.359-7.25 87.904 87.904 0 0 0-8.53-57.831 444.102 444.102 0 0 0-25.589-40.516l-1.706-2.474c-9.383-13.818-18.339-28.148-26.954-42.051L321.23 18.05a1.532 1.532 0 0 0-1.365-.767z\" />\r\n    <path d=\"M271.246 243.233a8.519 8.519 0 0 1-5.971-2.388 75.502 75.502 0 0 1-16.292-23.456 71.923 71.923 0 0 1-5.885-28.489 70.537 70.537 0 0 1 7.933-32.498c1.877-3.582 4.009-7.25 6.227-10.833l.512-.768a8.538 8.538 0 0 1 11.609-3.284 8.538 8.538 0 0 1 3.284 11.609 6.997 6.997 0 0 1-.392.631l-.512.853c-2.132 3.327-3.924 6.568-5.63 9.724a53.307 53.307 0 0 0-5.971 24.565 54.816 54.816 0 0 0 4.435 21.665 58.198 58.198 0 0 0 12.624 18.083c3.395 3.267 3.489 8.666.222 12.061a8.518 8.518 0 0 1-6.193 2.61v-.085z\" />\r\n    <path d=\"M362.514 452.294c-70.66 0-127.945-57.285-127.945-127.945a129.576 129.576 0 0 1 2.9-27.38 123.98 123.98 0 0 1 12.453-33.351 127.15 127.15 0 0 1 48.619-50.154c37.94-21.495 84.136-22.518 122.997-2.729 62.744 32.489 87.275 109.7 54.777 172.452-22.005 42.512-65.916 69.184-113.801 69.107zm0-238.83c-40.763.009-78.234 22.382-97.579 58.257a107.238 107.238 0 0 0-10.747 28.83 112.818 112.818 0 0 0-2.559 23.798c0 61.243 49.643 110.885 110.885 110.885s110.885-49.642 110.885-110.885-49.643-110.885-110.885-110.885z\" />\r\n    <path d=\"M374.285 349.939h-23.542c-8.231.085-15.157-6.141-15.95-14.33l-6.397-79.496a15.26 15.26 0 0 1 4.009-11.515 16.312 16.312 0 0 1 11.942-5.203h36.251a16.31 16.31 0 0 1 11.941 5.203 15.27 15.27 0 0 1 4.094 11.515l-6.397 79.923c-.999 8.026-7.865 14.013-15.951 13.903zm-22.519-17.06h21.665l6.141-76.767h-34.119l6.313 76.767zM367.034 418.176h-9.041c-11.617-.043-21.026-9.451-21.068-21.068v-9.041c.043-11.617 9.451-21.026 21.068-21.068h8.956c11.651 0 21.102 9.417 21.153 21.068v8.956c.001 11.651-9.416 21.11-21.068 21.153zm-8.956-34.119a4.095 4.095 0 0 0-4.009 4.009v8.956a4.095 4.095 0 0 0 4.009 4.009h8.956a4.095 4.095 0 0 0 4.009-4.009v-8.956a4.095 4.095 0 0 0-4.009-4.009h-8.956z\" />\r\n  </svg>\r\n);\r\n\r\nexport default FloodOn;\r\n","import React from \"react\";\r\n\r\nconst Gate = props => (\r\n    <svg viewBox=\"0 0 512 512\" {...props}>\r\n    <path fill=\"currentColor\" d=\"M462,226c-5.52,0-10,4.48-10,10s4.48,10,10,10c5.52,0,10-4.48,10-10S467.52,226,462,226z\"/>\r\n    <path fill=\"currentColor\" d=\"M50,226c-5.52,0-10,4.48-10,10s4.48,10,10,10s10-4.48,10-10S55.52,226,50,226z\"/>\r\n\t<path fill=\"currentColor\" d=\"M502,126h-0.027C508.265,117.637,512,107.248,512,96c0-27.57-22.43-50-50-50s-50,22.43-50,50\r\n\t\tc0,11.248,3.735,21.637,10.027,30H422c-5.522,0-10,4.478-10,10v50.03c-7.399,0.025-17.158,0.065-23,0.113V166.63\r\n\t\tc0-5.522-4.478-10-10-10c-5.522,0-10,4.478-10,10v12.435c-0.931-0.964-1.899-2.045-2.923-3.258\r\n\t\tc-10.745-12.754-24.515-23.761-40.077-32.106V121.83c0-5.522-4.478-10-10-10c-5.522,0-10,4.478-10,10v12.983\r\n\t\tc-12.92-4.643-26.438-7.5-40-8.448V96c0-5.522-4.478-10-10-10c-5.522,0-10,4.478-10,10v30.365\r\n\t\tc-13.565,0.948-27.084,3.807-40,8.452V120.17c0-5.522-4.477-10-10-10s-10,4.478-10,10v23.542\r\n\t\tc-15.764,8.457-29.695,19.652-40.55,32.652c-0.758,0.908-1.587,1.755-2.45,2.566v-12.3c0-5.522-4.477-10-10-10s-10,4.478-10,10\r\n\t\tv20.385c-4.189,0.067-14.913,0.05-23,0.024V136c0-5.522-4.477-10-10-10h-0.027C96.265,117.637,100,107.248,100,96\r\n\t\tc0-27.57-22.43-50-50-50S0,68.43,0,96c0,11.248,3.735,21.637,10.027,30H10c-5.523,0-10,4.478-10,10v320c0,5.522,4.477,10,10,10h80\r\n\t\tc5.523,0,10-4.478,10-10v-11h312v11c0,5.522,4.478,10,10,10h80c5.522,0,10-4.478,10-10V136C512,130.478,507.522,126,502,126z\r\n\t\t M80,446H20V146h20v50c0,5.522,4.477,10,10,10s10-4.478,10-10v-50h20V446z M50,126c-16.542,0-30-13.458-30-30s13.458-30,30-30\r\n\t\ts30,13.458,30,30S66.542,126,50,126z M123,425h-23v-19h23V425z M123,386h-23V247h23V386z M123,227h-23v-19.959\r\n\t\tc3.808,0.011,8.197,0.022,12.244,0.022c4.378,0,8.351-0.012,10.756-0.046V227z M186,425h-43v-19h43V425z M186,276v40v70h-43\r\n\t\tV244.817c16.149-3.513,31.29-11.046,43-21.321V276z M186,194.605c-2.373,2.327-4.659,4.785-6.815,7.365\r\n\t\tc-8.521,10.2-21.771,18.214-36.185,22.224v-21.525c6.846-3.098,13.007-7.736,17.806-13.49c7.006-8.391,15.56-15.917,25.194-22.232\r\n\t\tV194.605z M206,156.285c12.757-5.415,26.344-8.765,40-9.871v20.099c-14.162,1.416-27.777,5.83-40,12.895V156.285z M206,203.562\r\n\t\tc11.538-9.26,25.37-15.088,40-16.922V266h-40V203.562z M246,425h-40v-19h40V425z M246,386h-40v-60h40V386z M306,425h-40v-19h40\r\n\t\tV425z M306,386h-40v-60h40V386z M306,306H206v-20h100V306z M306,266h-40v-79.359c14.617,1.835,28.449,7.664,40,16.924V266z\r\n\t\t M306,179.418c-12.232-7.071-25.847-11.487-40-12.904v-20.1c13.651,1.106,27.238,4.454,40,9.865V179.418z M369,425h-43v-19h43V425\r\n\t\tz M369,386h-43v-70v-40v-52.635c11.722,10.137,26.674,17.329,43,20.634V386z M369,223.458\r\n\t\tc-14.663-3.788-27.83-11.575-36.517-21.887c-2.039-2.417-4.216-4.742-6.483-6.965v-27.672c9.465,6.201,17.88,13.567,24.789,21.767\r\n\t\tc4.64,5.496,10.324,11.234,18.211,14.57V223.458z M412,425h-23v-19h23V425z M412,386h-23V246h23V386z M412,226h-23v-19.856\r\n\t\tc5.683-0.048,15.526-0.088,23-0.113V226z M492,446h-60V146h20v50c0,5.522,4.478,10,10,10c5.522,0,10-4.478,10-10v-50h20V446z\r\n\t\t M462,126c-16.542,0-30-13.458-30-30s13.458-30,30-30s30,13.458,30,30S478.542,126,462,126z\"/>\r\n</svg>\r\n);\r\n\r\nexport default Gate;","import React from \"react\";\r\n\r\nconst Humidity = props => (\r\n  <svg viewBox=\"0 0 511.448 511.448\" {...props}>\r\n    <path\r\n      d=\"M344.556 112.216C318.38 78.84 291.34 44.344 269.516 7.32c-5.76-9.76-21.824-9.76-27.552 0-21.856 37.024-48.896 71.52-75.072 104.896-53.056 67.68-103.168 131.616-103.168 207.232 0 105.888 86.112 192 192 192s192-86.112 192-192c0-75.616-50.112-139.552-103.168-207.232z\"\r\n      fill=\"#2196f3\"\r\n    />\r\n    <g fill=\"#fafafa\">\r\n      <path d=\"M207.724 287.448c-26.464 0-48-21.536-48-48s21.536-48 48-48 48 21.536 48 48-21.536 48-48 48zm0-64c-8.832 0-16 7.168-16 16s7.168 16 16 16 16-7.168 16-16-7.168-16-16-16zM303.724 447.448c-26.464 0-48-21.536-48-48s21.536-48 48-48 48 21.536 48 48-21.536 48-48 48zm0-64c-8.8 0-16 7.2-16 16s7.2 16 16 16 16-7.2 16-16-7.2-16-16-16zM175.724 415.448a16.07 16.07 0 0 1-11.328-4.672c-6.24-6.24-6.24-16.384 0-22.624l160-160c6.24-6.24 16.384-6.24 22.624 0s6.24 16.384 0 22.624l-160 160a15.943 15.943 0 0 1-11.296 4.672z\" />\r\n    </g>\r\n  </svg>\r\n);\r\n\r\nexport default Humidity;\r\n","import React from \"react\";\r\n\r\nconst MotionOn = props => (\r\n  <svg viewBox=\"0 0 63.907 63.907\" fill=\"currentColor\" {...props}>\r\n    <circle fill=\"currentColor\" cx={30.515} cy={6.136} r={6.136} />\r\n    <path fill=\"currentColor\" d=\"M47.399 27.455C42.346 24.53 38.2 20.579 34.71 15.931c-2.193-3.084-7.991-2.923-10.347-.097-3.584 3.487-6.625 7.081-9.037 10.677a3.209 3.209 0 0 0 5.329 3.573 54.205 54.205 0 0 1 3.59-4.734c-.051 3.333.116 9.347.2 12.05.028.9-.177 1.78-.595 2.579-3.308 6.317-5.424 12.294-7.572 19.606a3.37 3.37 0 1 0 6.465 1.901c1.982-6.742 3.897-12.201 6.884-17.981.152.006.304.006.458-.001 1.907 5.69 3.815 11.383 5.725 17.073 1.387 4.147 7.822 1.993 6.431-2.155-2.087-6.221-4.171-12.439-6.251-18.659-.121-.357-.414-1.755-.455-2.211-.344-3.832-.469-7.652-.432-11.477a51.027 51.027 0 0 0 9.782 7.328c3.597 2.088 6.063-3.891 2.514-5.948z\" />\r\n  </svg>\r\n);\r\n\r\nexport default MotionOn;\r\n","import React from \"react\";\r\n\r\nconst RGB = props => (\r\n    <svg viewBox=\"1 -10 511.99999 511\" {...props}>\r\n      <g fill=\"currentColor\" >\r\n        <path d=\"M 405.5 150 C 405.5 232.566406 338.566406 299.5 256 299.5 C 173.433594 299.5 106.5 232.566406 106.5 150 C 106.5 67.433594 173.433594 0.5 256 0.5 C 338.566406 0.5 405.5 67.433594 405.5 150 Z M 405.5 150 \" style={{stroke: 'none', fillRule: 'nonzero', fill: 'rgb(25.882353%,75.294118%,88.627451%)', fillOpacity: 1}} />\r\n        <path d=\"M 512 342.921875 C 512 425.488281 445.066406 492.421875 362.5 492.421875 C 279.933594 492.421875 213 425.488281 213 342.921875 C 213 260.355469 279.933594 193.421875 362.5 193.421875 C 445.066406 193.421875 512 260.355469 512 342.921875 Z M 512 342.921875 \" style={{stroke: 'none', fillRule: 'nonzero', fill: 'rgb(100%,81.568627%,38.039216%)', fillOpacity: 1}} />\r\n        <path d=\"M 220.746094 295.308594 C 232.050781 298.039062 243.855469 299.5 256 299.5 C 321.917969 299.5 377.871094 256.835938 397.753906 197.613281 C 386.449219 194.878906 374.644531 193.421875 362.5 193.421875 C 296.582031 193.421875 240.628906 236.085938 220.746094 295.308594 Z M 220.746094 295.308594 \" style={{stroke: 'none', fillRule: 'nonzero', fill: 'rgb(28.627451%,74.117647%,56.470588%)', fillOpacity: 1}} />\r\n        <path d=\"M 299 342.921875 C 299 425.488281 232.066406 492.421875 149.5 492.421875 C 66.933594 492.421875 0 425.488281 0 342.921875 C 0 260.355469 66.933594 193.421875 149.5 193.421875 C 232.066406 193.421875 299 260.355469 299 342.921875 Z M 299 342.921875 \" style={{stroke: 'none', fillRule: 'nonzero', fill: 'rgb(98.039216%,43.921569%,69.803922%)', fillOpacity: 1}} />\r\n        <path d=\"M 114.246094 197.613281 C 134.128906 256.835938 190.082031 299.5 256 299.5 C 268.144531 299.5 279.949219 298.039062 291.253906 295.308594 C 271.371094 236.085938 215.417969 193.421875 149.5 193.421875 C 137.355469 193.421875 125.550781 194.878906 114.246094 197.613281 Z M 114.246094 197.613281 \" style={{stroke: 'none', fillRule: 'nonzero', fill: 'rgb(68.627451%,48.235294%,77.647059%)', fillOpacity: 1}} />\r\n        <path d=\"M 213 342.921875 C 213 383.800781 229.414062 420.839844 256 447.828125 C 282.585938 420.839844 299 383.800781 299 342.921875 C 299 302.042969 282.585938 265.003906 256 238.015625 C 229.414062 265.003906 213 302.042969 213 342.921875 Z M 213 342.921875 \" style={{stroke: 'none', fillRule: 'nonzero', fill: 'rgb(93.72549%,38.039216%,13.333333%)', fillOpacity: 1}} />\r\n        <path d=\"M 291.253906 295.320312 C 279.949219 298.046875 268.140625 299.5 256 299.5 C 243.859375 299.5 232.050781 298.046875 220.746094 295.320312 C 228.058594 273.542969 240.242188 254.015625 256 238.015625 C 271.757812 254.015625 283.941406 273.542969 291.253906 295.320312 Z M 291.253906 295.320312 \" style={{stroke: 'none', fillRule: 'nonzero', fill: 'rgb(100%,100%,100%)', fillOpacity: 1}} />\r\n      </g>\r\n    </svg>\r\n);\r\n\r\nexport default RGB;\r\n","import React from \"react\";\r\n\r\nconst Socket = props => (\r\n  <svg\r\n    width={32}\r\n    height={32}\r\n    viewBox=\"0 0 365.445 365.445\"\r\n    {...props}\r\n  >\r\n    <g fill=\"currentColor\">\r\n      <path d=\"M146.7 162.775h-26.8a6.655 6.655 0 0 0-6.647 6.647v26.602a6.653 6.653 0 0 0 6.647 6.646h26.8a6.654 6.654 0 0 0 6.647-6.646v-26.602a6.655 6.655 0 0 0-6.647-6.647zM245.547 162.775h-26.801a6.653 6.653 0 0 0-6.646 6.647v26.602a6.652 6.652 0 0 0 6.646 6.646h26.801a6.654 6.654 0 0 0 6.646-6.646v-26.602a6.655 6.655 0 0 0-6.646-6.647z\" />\r\n    </g>\r\n    <path\r\n      d=\"M345.445 1.204H20c-11.046 0-20 8.954-20 20v323.037c0 11.045 8.954 20 20 20h325.445c11.045 0 20-8.955 20-20V21.204c0-11.045-8.953-20-20-20zM182.723 287.66c-57.955 0-104.937-46.981-104.937-104.937 0-57.957 46.982-104.938 104.937-104.938S287.66 124.767 287.66 182.723 240.678 287.66 182.723 287.66z\"\r\n      fill=\"currentColor\"\r\n    />\r\n  </svg>\r\n);\r\n\r\nexport default Socket;\r\n","import React from \"react\";\r\n\r\nconst Thermometer = props => (\r\n  <svg width={32} height={32} viewBox=\"0 0 45.659 45.659\" {...props}>\r\n    <path fill=\"currentColor\" d=\"M30.619 27.309V7.781C30.619 3.49 27.124 0 22.833 0c-4.29 0-7.785 3.491-7.785 7.78v19.528a10.722 10.722 0 0 0-3.05 7.522c0 5.972 4.857 10.828 10.829 10.828 5.97 0 10.834-4.856 10.834-10.828 0-2.918-1.141-5.572-3.042-7.521zM22.825 42.66c-4.316 0-7.824-3.512-7.824-7.828 0-2.527 1.174-4.779 3.077-6.211V16.237h3.372c.552 0 1-.47 1-1.022 0-.553-.448-1.021-1-1.021h-3.372v-2.466h3.372c.552 0 1-.434 1-.986a.989.989 0 0 0-1-.986h-3.372V7.78c0-2.636 2.119-4.78 4.754-4.78 2.637 0 4.756 2.144 4.756 4.781v20.871c1.903 1.434 3.047 3.671 3.047 6.18 0 4.316-3.494 7.828-7.81 7.828z\" />\r\n    <path fill=\"currentColor\" d=\"M25.334 30.463V18.632h-5.002v11.831a4.973 4.973 0 0 0-2.537 4.369 5.038 5.038 0 0 0 5.038 5.046 5.034 5.034 0 0 0 5.034-5.046c0-1.866-.982-3.495-2.533-4.369z\" />\r\n  </svg>\r\n);\r\n\r\nexport default Thermometer;\r\n","import React from \"react\";\r\n\r\nconst Thermostat = props => (\r\n    <svg viewBox=\"0 0 297 297\" {...props}>\r\n        <g>\r\n            <path fill=\"currentColor\" d=\"m243.404,138.042c-5.775,0-10.458,4.683-10.458,10.458 0,46.564-37.883,84.446-84.446,84.446s-84.446-37.882-84.446-84.446 37.883-84.446 84.446-84.446c5.775,0 10.458-4.683 10.458-10.458s-4.683-10.457-10.458-10.457c-58.097,0-105.361,47.265-105.361,105.361s47.264,105.361 105.361,105.361 105.361-47.264 105.361-105.361c0-5.775-4.681-10.458-10.457-10.458z\"/>\r\n            <path fill=\"currentColor\" d=\"m142.963,121.344l-20.272-30.41c-3.203-4.807-9.695-6.104-14.502-2.9-4.805,3.202-6.104,9.695-2.9,14.502l20.279,30.422c-3.015,4.436-4.78,9.787-4.78,15.543 0,15.281 12.432,27.713 27.713,27.713 15.281,0 27.713-12.432 27.713-27.713 0-15.281-12.432-27.713-27.713-27.713-1.897-0.001-3.749,0.191-5.538,0.556zm12.335,27.156c0,3.748-3.05,6.798-6.798,6.798s-6.798-3.05-6.798-6.798 3.05-6.798 6.798-6.798 6.798,3.05 6.798,6.798z\"/>\r\n            <path fill=\"currentColor\" d=\"M148.5,0C66.617,0,0,66.617,0,148.5S66.617,297,148.5,297S297,230.383,297,148.5S230.383,0,148.5,0z M158.958,275.653   v-6.366c0-5.775-4.683-10.458-10.458-10.458c-5.775,0-10.458,4.683-10.458,10.458v6.366   c-62.027-5.056-111.64-54.668-116.695-116.695h6.366c5.775,0,10.458-4.683,10.458-10.458s-4.683-10.458-10.458-10.458h-6.366   c5.056-62.027,54.668-111.64,116.695-116.695v6.366c0,5.775,4.683,10.458,10.458,10.458c5.775,0,10.458-4.683,10.458-10.458v-6.366   c62.027,5.056,111.64,54.668,116.695,116.695h-6.366c-5.775,0-10.458,4.683-10.458,10.458s4.683,10.458,10.458,10.458h6.366   C270.598,220.985,220.985,270.598,158.958,275.653z\"/>\r\n        </g>\r\n    </svg>\r\n);\r\n\r\nexport default Thermostat;\r\n","import React from \"react\";\r\n\r\nconst HeatValve = props => (\r\n    <svg viewBox=\"0 0 512 512\" {...props}>\r\n        <path fill=\"currentColor\" d=\"M391,362h77.417L440.989,58.467C438.075,26.229,409.37,0,377,0H135c-32.37,0-61.075,26.229-63.989,58.467L43.583,362H121v30  H91v120h330V392h-30V362z M135,30h242c16.963,0,32.584,14.273,34.11,31.167L416.427,120H95.573l5.316-58.833  C102.416,44.273,118.037,30,135,30z M92.862,150h326.275l16.446,182H76.416L92.862,150z M151,362h210v30H151V362z M241,422v60h-45  v-60H241z M271,422h45v60h-45V422z M121,422h45v60h-45V422z M391,482h-45v-60h45V482z\"/>\r\n    </svg>\r\n);\r\n\r\nexport default HeatValve;\r\n","import React from \"react\";\r\n\r\nconst WindowOpened = props => (\r\n  <svg width={32} height={32} viewBox=\"0 0 361 361\" {...props}>\r\n    <path\r\n      d=\"M267.826 263.303c0 3.91-3.156 7.082-7.05 7.082l-157.885.021c-3.894 0-7.05-3.171-7.05-7.083v-157.5c0-3.911 3.156-7.083 7.05-7.083l157.885-.021c3.894 0 7.05 3.172 7.05 7.083v157.501z\"\r\n      fill=\"none\"\r\n      stroke=\"currentColor\"\r\n      strokeWidth={10}\r\n      strokeMiterlimit={10}\r\n    />\r\n    <path\r\n      d=\"M228.5 205.584h6.639c2.726 0 5-2.274 5-5s-2.274-5-5-5H228.5c-2.726 0-5 2.274-5 5s2.274 5 5 5z\"\r\n      fill=\"currentColor\"\r\n    />\r\n    <path\r\n      d=\"M267.826 103.208c0 2.485-2.711 4.5-6.053 4.5l-159.88.021c-3.342 0-6.052-2.015-6.052-4.5v-9c0-2.485 2.71-4.5 6.052-4.5l159.88-.021c3.342 0 6.053 2.015 6.053 4.5v9z\"\r\n      fill=\"none\"\r\n      stroke=\"currentColor\"\r\n      strokeWidth={10}\r\n      strokeMiterlimit={10}\r\n    />\r\n    <path\r\n      d=\"M232.826 280.905c-.339 3.356-18.813-.782-20.919-1.06l-45.073-5.94-45.074-5.94-14.507-1.912c-1.456-.192-6.201-.055-6.412-2.147-.621-6.157 0-12.699 0-18.878v-43.5-82.076-5.13c0-2.551 5.184-1.015 6.412-.853l35.438 4.67 83.723 11.035c1.457.192 6.201.055 6.412 2.147.169 1.673 0 3.451 0 5.13v144.454c0 6.448 10 6.448 10 0V136.451v-5.13c0-7.619-6.137-10.793-12.673-11.655l-28.531-3.76-88.411-11.652-9.897-1.304c-6.555-.864-12.473 4.9-12.473 11.38v144.832c0 2.023-.071 4.04.132 6.053.717 7.111 6.606 9.563 12.759 10.374l76.827 10.125 39.896 5.259 9.697 1.278c7.063.931 12.011-4.778 12.673-11.346.648-6.415-9.358-6.352-9.999 0z\"\r\n      fill=\"currentColor\"\r\n    />\r\n  </svg>\r\n);\r\n\r\nexport default WindowOpened;\r\n","import React from \"react\";\r\n\r\nconst WindowTilted = props => (\r\n  <svg width={32} height={32} viewBox=\"0 0 361 361\" {...props}>\r\n    <path\r\n      d=\"M267.826 263.303c0 3.91-3.156 7.082-7.05 7.082l-157.885.021c-3.894 0-7.05-3.171-7.05-7.083v-157.5c0-3.911 3.156-7.083 7.05-7.083l157.885-.021c3.894 0 7.05 3.172 7.05 7.083v157.501z\"\r\n      fill=\"none\"\r\n      stroke=\"currentColor\"\r\n      strokeWidth={10}\r\n      strokeMiterlimit={10}\r\n    />\r\n    <path\r\n      d=\"M267.826 103.208c0 2.485-2.711 4.5-6.053 4.5l-159.88.021c-3.342 0-6.052-2.015-6.052-4.5v-9c0-2.485 2.71-4.5 6.052-4.5l159.88-.021c3.342 0 6.053 2.015 6.053 4.5v9zM265.732 265.178c.584 2.887-1.629 5.228-4.942 5.228H103.457c-3.313 0-6.474-2.341-7.058-5.228L75.24 130.633c-.584-2.887 1.628-5.228 4.942-5.228h157.333c3.313 0 6.474 2.34 7.058 5.228l21.159 134.545z\"\r\n      fill=\"none\"\r\n      stroke=\"currentColor\"\r\n      strokeWidth={10}\r\n      strokeMiterlimit={10}\r\n    />\r\n    <path\r\n      d=\"M247.194 199.667h6.639c2.726 0 5-2.274 5-5s-2.274-5-5-5h-6.639c-2.726 0-5 2.274-5 5s2.275 5 5 5z\"\r\n      fill=\"currentColor\"\r\n    />\r\n  </svg>\r\n);\r\n\r\nexport default WindowTilted;\r\n","import React from \"react\";\r\n\r\nconst Cleaner = props => (\r\n    <svg viewBox=\"0 0 512 512\" {...props}>\r\n        <g fill=\"currentColor\">\r\n            <path d=\"M296,320H216a24,24,0,0,0,0,48h80a24,24,0,0,0,0-48Zm0,32H216a8,8,0,0,1,0-16h80a8,8,0,0,1,0,16Z\"/>\r\n            <path d=\"M68.071,123.492c22.578-13.918,52.2-25.229,85.674-32.71l-3.49-15.615c-35.688,7.977-66.163,19.653-90.58,34.705-17.914,11.043-32.041,23.643-41.99,37.451l12.98,9.354C39.376,144.588,51.961,133.423,68.071,123.492Z\"/>\r\n            <path d=\"M435.533,137.112C409.439,121.027,374,108.967,332.845,102.144,322.474,87,288.213,80,256,80s-66.474,7-76.845,22.144C138,108.967,102.561,121.027,76.467,137.112,47.376,155.045,32,176.792,32,200v96c0,29,24.155,55.7,68.016,75.193C141.813,389.77,197.209,400,256,400s114.187-10.23,155.984-28.807C455.845,351.7,480,325,480,296V200C480,176.792,464.624,155.045,435.533,137.112ZM177.64,151.23C185.676,168.192,221.98,176,256,176s70.324-7.808,78.36-24.77c21.862,4.212,41.832,10.19,58.13,17.44C422.343,181.941,432,195.509,432,200s-9.657,18.059-39.51,31.33C357.224,247.008,307.475,256,256,256s-101.224-8.992-136.49-24.67C89.657,218.059,80,204.491,80,200s9.657-18.059,39.512-31.331C135.808,161.42,155.778,155.442,177.64,151.23Zm14.36-19c15.6,8,40.35,11.773,64,11.773s48.4-3.775,64-11.773V144c0,.687-2.715,5.08-15.618,9.381C291.577,157.649,274.4,160,256,160s-35.577-2.351-48.382-6.619C194.715,149.08,192,144.687,192,144Zm15.618-29.608C220.423,98.351,237.605,96,256,96s35.577,2.351,48.382,6.619C317.285,106.92,320,111.313,320,112s-2.715,5.08-15.618,9.381C291.577,125.649,274.4,128,256,128s-35.577-2.351-48.382-6.619C194.715,117.08,192,112.687,192,112S194.715,106.92,207.618,102.619ZM176,118.937v16.319c-23.589,4.453-45.254,10.9-62.99,18.794C82.779,167.489,64,185.1,64,200s18.779,32.511,49.01,45.95C150.249,262.505,202.367,272,256,272s105.751-9.5,142.99-26.05C429.221,232.511,448,214.9,448,200s-18.779-32.511-49.008-45.95c-17.738-7.89-39.4-14.341-62.992-18.794V118.937C411.852,132.7,464,165.41,464,200c0,21.967-21.328,44.044-58.516,60.572C365.688,278.259,312.6,288,256,288s-109.688-9.741-149.484-27.428C69.328,244.044,48,221.967,48,200,48,165.41,100.148,132.7,176,118.937ZM464,296c0,21.967-21.327,44.044-58.514,60.572C365.689,374.259,312.6,384,256,384s-109.689-9.741-149.486-27.428C69.327,340.044,48,317.967,48,296V239.371c11.522,13.444,29.066,25.621,52.018,35.822C141.814,293.77,197.211,304,256,304s114.186-10.23,155.982-28.807c22.952-10.2,40.5-22.378,52.018-35.822Z\"/>\r\n            <path d=\"M418.482,385.814C374.684,405.28,316.979,416,256,416a488.01,488.01,0,0,1-78.705-6.23l-2.59,15.789A504.064,504.064,0,0,0,256,432c63.169,0,123.181-11.21,168.981-31.565q1.3-.576,2.572-1.16l-6.655-14.55Q419.7,385.274,418.482,385.814Z\"/>\r\n            <path d=\"M436.123,377.062l7.754,14c5.883-3.259,11.492-6.728,16.674-10.31l-9.1-13.161C446.7,370.871,441.546,374.059,436.123,377.062Z\"/>\r\n            <rect x=\"248\" y=\"192\" width=\"16\" height=\"16\"/>\r\n            <rect x=\"280\" y=\"192\" width=\"16\" height=\"16\"/>\r\n            <rect x=\"216\" y=\"192\" width=\"16\" height=\"16\"/>\r\n        </g>\r\n    </svg>\r\n);\r\n\r\nexport default Cleaner;\r\n","import React, {Component} from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport {Types} from 'iobroker.type-detector';\r\n\r\nimport {AiOutlineLineChart as TypeIconChart} from 'react-icons/ai';\r\nimport TypeIconBlinds from '../icons/Jalousie';\r\nimport TypeIconButton from '../icons/PushButton';\r\nimport {GoDeviceCameraVideo as TypeIconCamera} from 'react-icons/go';\r\nimport {FaExternalLinkSquareAlt as TypeIconURL} from 'react-icons/fa';\r\nimport {FaImage as TypeIconImage} from 'react-icons/fa';\r\nimport {FaRegLightbulb as TypeIconDimmer} from 'react-icons/fa';\r\nimport TypeIconDoor from '../icons/DoorOpened';\r\nimport TypeIconFireAlarm from '../icons/FireOn';\r\nimport TypeIconFloodAlarm from '../icons/FloodOn';\r\nimport TypeIconGate from '../icons/Gate';\r\nimport TypeIconHumidity from '../icons/Humidity';\r\nimport {FaInfoCircle as TypeIconInfo} from 'react-icons/fa';\r\nimport {FaLightbulb as TypeIconLight} from 'react-icons/fa';\r\nimport {FaLock as TypeIconLock} from 'react-icons/fa';\r\nimport {FaStreetView as TypeIconLocation} from 'react-icons/fa';\r\nimport {FaStepForward as TypeIconMedia} from 'react-icons/fa';\r\nimport TypeIconMotion from '../icons/MotionOn';\r\nimport TypeIconRGB from '../icons/RGB';\r\nimport {MdFormatColorFill as TypeIconCT} from 'react-icons/md';\r\nimport TypeIconRGBSingle from '../icons/RGB';\r\nimport {MdFormatColorFill as TypeIconHUE} from 'react-icons/md';\r\nimport {FaSlidersH as TypeIconSlider} from 'react-icons/fa';\r\nimport TypeIconSocket from '../icons/Socket';\r\nimport TypeIconTemperature from '../icons/Thermometer';\r\nimport TypeIconThermostat from '../icons/Thermostat';\r\nimport TypeIconValve from '../icons/HeatValve';\r\nimport {FaVolumeDown as TypeIconVolume} from 'react-icons/fa';\r\nimport {FaVolumeUp as TypeIconVolumeGroup} from 'react-icons/fa';\r\nimport TypeIconWindow from '../icons/WindowOpened';\r\nimport TypeIconWindowTilt from '../icons/WindowTilted';\r\nimport {WiCloudy as TypeIconWeather} from 'react-icons/wi';\r\nimport {MdWarning as TypeIconWarning} from 'react-icons/md';\r\nimport {FaFan as TypeIconAC} from 'react-icons/fa';\r\nimport {IoIosRadioButtonOn as TypeIconButtonSensor} from 'react-icons/io';\r\nimport TypeIconVacuumCleaner from './icons/Cleaner';\r\n\r\nimport IconAdapter from '@iobroker/adapter-react/Components/Icon';\r\n\r\nconst TYPE_ICONS = {\r\n    [Types.airCondition]: TypeIconAC,\r\n    [Types.blind]: TypeIconBlinds,\r\n    [Types.button]: TypeIconButton,\r\n    [Types.buttonSensor]: TypeIconButtonSensor,\r\n    [Types.camera]: TypeIconCamera,\r\n    [Types.chart]: TypeIconChart,\r\n    [Types.url]: TypeIconURL,\r\n    [Types.image]: TypeIconImage,\r\n    [Types.dimmer]: TypeIconDimmer,\r\n    [Types.door]: TypeIconDoor,\r\n    [Types.fireAlarm]: TypeIconFireAlarm,\r\n    'sensor.alarm.fire': TypeIconFireAlarm,\r\n    [Types.floodAlarm]: TypeIconFloodAlarm,\r\n    'sensor.alarm.flood': TypeIconFireAlarm,\r\n    [Types.gate]: TypeIconGate,\r\n    [Types.humidity]: TypeIconHumidity,\r\n    [Types.info]: TypeIconInfo,\r\n    [Types.light]: TypeIconLight,\r\n    [Types.lock]: TypeIconLock,\r\n    [Types.location]: TypeIconLocation,\r\n    [Types.media]: TypeIconMedia,\r\n    [Types.motion]: TypeIconMotion,\r\n    [Types.rgb]: TypeIconRGB,\r\n    [Types.ct]: TypeIconCT,\r\n    [Types.rgbSingle]: TypeIconRGBSingle,\r\n    [Types.hue]: TypeIconHUE,\r\n    [Types.slider]: TypeIconSlider,\r\n    [Types.socket]: TypeIconSocket,\r\n    [Types.temperature]: TypeIconTemperature,\r\n    [Types.thermostat]: TypeIconThermostat,\r\n    [Types.valve]: TypeIconValve,\r\n    [Types.vacuumCleaner]: TypeIconVacuumCleaner,\r\n    [Types.volume]: TypeIconVolume,\r\n    [Types.volumeGroup]: TypeIconVolumeGroup,\r\n    [Types.window]: TypeIconWindow,\r\n    [Types.windowTilt]: TypeIconWindowTilt,\r\n    [Types.weatherCurrent]: TypeIconWeather,\r\n    [Types.weatherForecast]: TypeIconWeather,\r\n    [Types.warning]: TypeIconWarning,\r\n};\r\n\r\nconst defaultStyle = {\r\n    marginTop: 4,\r\n    marginLeft: 4,\r\n    width: 32,\r\n    height: 32,\r\n};\r\n\r\nclass TypeIcon extends Component {\r\n    render() {\r\n        if (!!this.props.src) {\r\n            return <IconAdapter src={this.props.src} style={Object.assign({}, !this.props.className && defaultStyle, this.props.style || {})} className={this.props.className || ''} alt=\"\"/>;\r\n        } else {\r\n            const Icon = this.props.type && TYPE_ICONS[this.props.type];\r\n            return Icon ? <Icon style={Object.assign({}, !this.props.className && defaultStyle, this.props.style || {})} className={this.props.className || ''}/> : null;\r\n        }\r\n    }\r\n}\r\n\r\nTypeIcon.propTypes = {\r\n    type: PropTypes.string,\r\n    style: PropTypes.object,\r\n    src: PropTypes.string,\r\n    className: PropTypes.string,\r\n};\r\n\r\nexport default TypeIcon;","import React from \"react\";\r\n\r\nconst WindowTilted = props => (\r\n  <svg width={361} height={361} viewBox=\"0 0 361 361\" {...props}>\r\n    <path\r\n      d=\"M267.826 263.303c0 3.91-3.156 7.082-7.05 7.082l-157.885.021c-3.894 0-7.05-3.171-7.05-7.083v-157.5c0-3.911 3.156-7.083 7.05-7.083l157.885-.021c3.894 0 7.05 3.172 7.05 7.083v157.501z\"\r\n      fill=\"none\"\r\n      stroke=\"currentColor\"\r\n      strokeWidth={10}\r\n      strokeMiterlimit={10}\r\n    />\r\n    <path\r\n      d=\"M267.826 103.208c0 2.485-2.711 4.5-6.053 4.5l-159.88.021c-3.342 0-6.052-2.015-6.052-4.5v-9c0-2.485 2.71-4.5 6.052-4.5l159.88-.021c3.342 0 6.053 2.015 6.053 4.5v9zM265.732 265.178c.584 2.887-1.629 5.228-4.942 5.228H103.457c-3.313 0-6.474-2.341-7.058-5.228L75.24 130.633c-.584-2.887 1.628-5.228 4.942-5.228h157.333c3.313 0 6.474 2.34 7.058 5.228l21.159 134.545z\"\r\n      fill=\"none\"\r\n      stroke=\"currentColor\"\r\n      strokeWidth={10}\r\n      strokeMiterlimit={10}\r\n    />\r\n    <path\r\n      d=\"M247.194 199.667h6.639c2.726 0 5-2.274 5-5s-2.274-5-5-5h-6.639c-2.726 0-5 2.274-5 5s2.275 5 5 5z\"\r\n      fill=\"currentColor\"\r\n    />\r\n  </svg>\r\n);\r\n\r\nexport default WindowTilted;\r\n","import React from 'react';\r\n\r\nconst Material = props => (\r\n  <svg viewBox=\"0 0 230 230\" {...props}>\r\n      <ellipse fill=\"#2979ff\" stroke=\"#2979ff\" strokeWidth=\"1.5\" cx=\"112.9\" cy=\"114\" rx=\"112\" ry=\"112\"/>\r\n      <ellipse fill=\"#40c4ff\" strokeWidth=\"1.5\" cx=\"112.900006\" cy=\"113.999995\" rx=\"73.684216\" ry=\"73.684216\"\r\n               stroke=\"#40c4ff\"/>\r\n      <ellipse fill=\"#ffffff\" strokeWidth=\"1.5\" cx=\"112.900003\" cy=\"114\" rx=\"33.578948\" ry=\"33.578948\"\r\n               stroke=\"#ffffff\"/>\r\n  </svg>\r\n);\r\n\r\nexport default Material;\r\n","import { Types } from 'iobroker.type-detector';\r\n\r\nimport { FcGoogle } from 'react-icons/fc';\r\nimport { SiAmazonalexa } from 'react-icons/si';\r\nimport { TiCogOutline as IconWorking } from 'react-icons/ti';\r\nimport { MdPermScanWifi as IconUnreach } from 'react-icons/md';\r\nimport { MdPriorityHigh as IconMaintain } from 'react-icons/md';\r\nimport { MdBatteryAlert as IconLowbat } from 'react-icons/md';\r\nimport { MdError as IconError } from 'react-icons/md';\r\nimport { MdDirections } from 'react-icons/md';\r\nimport { AiOutlineAppstoreAdd } from 'react-icons/ai';\r\nimport { BiLastPage } from 'react-icons/bi';\r\nimport {FaCompressArrowsAlt, FaRunning, FaSun} from 'react-icons/fa';\r\nimport { FaCompress } from 'react-icons/fa';\r\nimport { FaVolumeMute } from 'react-icons/fa';\r\nimport {GiElectricalResistance, GiLaserPrecision} from 'react-icons/gi';\r\nimport { AiOutlineRadiusBottomleft } from 'react-icons/ai';\r\nimport { AiOutlineColumnHeight } from 'react-icons/ai';\r\nimport { AiOutlineColumnWidth } from 'react-icons/ai';\r\nimport { AiOutlineSwap } from 'react-icons/ai';\r\nimport { FaToggleOn } from 'react-icons/fa';\r\nimport { FaDoorOpen } from 'react-icons/fa';\r\nimport { MdGpsFixed } from 'react-icons/md';\r\nimport { GiStopSign } from 'react-icons/gi';\r\nimport {IoIosColorPalette, IoIosWater} from 'react-icons/io';\r\nimport { GiNuclearWaste } from 'react-icons/gi';\r\nimport { AiFillPauseCircle } from 'react-icons/ai';\r\nimport { GiMatterStates } from 'react-icons/gi';\r\nimport { MdWork } from 'react-icons/md';\r\nimport { MdDeveloperMode } from 'react-icons/md';\r\nimport { AiOutlinePoweroff } from 'react-icons/ai';\r\nimport { SiBoost } from 'react-icons/si';\r\nimport {WiDaySunny, WiFire, WiHumidity, WiSmoke, WiThermometer} from 'react-icons/wi';\r\nimport { GiTreeSwing } from 'react-icons/gi';\r\nimport { GiSpeedometer } from 'react-icons/gi';\r\nimport { GiElectric, GiLightningFrequency } from 'react-icons/gi';\r\nimport { FcElectricalSensor } from 'react-icons/fc';\r\nimport WindowTilted from './icons/WindowTilted';\r\nimport MaterialIcon from './icons/Material';\r\nimport {FiPower, HiOutlineLightBulb, ImPower} from 'react-icons/all';\r\n\r\nconst TYPE_OPTIONS = {\r\n    [Types.airCondition]:    { alexa: false, alisa: true,  google: false, material: false },\r\n    [Types.blindButtons]:    { alexa: false, alisa: false, google: false, material: false },\r\n    [Types.blind]:           { alexa: false, alisa: true,  google: true,  material: true  },\r\n    [Types.buttonSensor]:    { alexa: false, alisa: false, google: false, material: false },\r\n    [Types.button]:          { alexa: false, alisa: false, google: true,  material: true  },\r\n    [Types.camera]:          { alexa: false, alisa: false, google: false, material: false },\r\n    [Types.ct]:              { alexa: true,  alisa: true,  google: true,  material: false },\r\n    [Types.dimmer]:          { alexa: true,  alisa: true,  google: true,  material: true  },\r\n    [Types.door]:            { alexa: false, alisa: true,  google: true,  material: false },\r\n    [Types.fireAlarm]:       { alexa: false, alisa: false, google: false, material: false },\r\n    [Types.floodAlarm]:      { alexa: false, alisa: false, google: false, material: false },\r\n    [Types.gate]:            { alexa: false, alisa: false, google: false, material: false },\r\n    [Types.hue]:             { alexa: true,  alisa: false, google: true,  material: true  },\r\n    [Types.humidity]:        { alexa: false, alisa: true,  google: false, material: true  },\r\n    [Types.image]:           { alexa: false, alisa: false, google: false, material: false },\r\n    [Types.info]:            { alexa: false, alisa: false, google: true,  material: false },\r\n    [Types.light]:           { alexa: true,  alisa: true,  google: true,  material: false },\r\n    [Types.location]:        { alexa: false, alisa: false, google: false, material: false },\r\n    [Types.lock]:            { alexa: true,  alisa: true,  google: false, material: true  },\r\n    [Types.media]:           { alexa: false, alisa: false, google: true,  material: true  },\r\n    [Types.motion]:          { alexa: false, alisa: true,  google: false, material: false },\r\n    [Types.rgbSingle]:       { alexa: false, alisa: true,  google: true,  material: false },\r\n    [Types.rgb]:             { alexa: false, alisa: false, google: true,  material: true  },\r\n    [Types.slider]:          { alexa: false, alisa: false, google: true,  material: false },\r\n    [Types.socket]:          { alexa: true,  alisa: true,  google: true,  material: false },\r\n    [Types.temperature]:     { alexa: false, alisa: true,  google: true,  material: true  },\r\n    [Types.thermostat]:      { alexa: true,  alisa: true,  google: true,  material: true  },\r\n    [Types.url]:             { alexa: false, alisa: false, google: false, material: false },\r\n    [Types.vacuumCleaner]:   { alexa: false, alisa: true,  google: false, material: false },\r\n    [Types.valve]:           { alexa: false, alisa: false, google: false, material: false },\r\n    [Types.volumeGroup]:     { alexa: false, alisa: false, google: false, material: true  },\r\n    [Types.volume]:          { alexa: false, alisa: false, google: false, material: true  },\r\n    [Types.warning]:         { alexa: false, alisa: false, google: false, material: true  },\r\n    [Types.weatherCurrent]:  { alexa: false, alisa: false, google: false, material: false },\r\n    [Types.weatherForecast]: { alexa: false, alisa: false, google: false, material: true  },\r\n    [Types.windowTilt]:      { alexa: false, alisa: false, google: true,  material: true  },\r\n    [Types.window]:          { alexa: false, alisa: true,  google: true,  material: true  },\r\n};\r\n\r\nexport const ICONS_TYPE = {\r\n    alexa: <SiAmazonalexa style={{margin: '0 3px', width: 16, height: 16}} />,\r\n    alisa: <img style={{margin: '0 3px', width: 16, height: 16}} src=\"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMzcwcHgiIGhlaWdodD0iMzcwcHgiIHZpZXdCb3g9IjAgMCAzNzAgMzcwIiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPgogICAgPCEtLSBHZW5lcmF0b3I6IFNrZXRjaCA0Ni4yICg0NDQ5NikgLSBodHRwOi8vd3d3LmJvaGVtaWFuY29kaW5nLmNvbS9za2V0Y2ggLS0+CiAgICA8dGl0bGU+R3JvdXA8L3RpdGxlPgogICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+CiAgICA8ZGVmcz4KICAgICAgICA8bGluZWFyR3JhZGllbnQgeDE9IjAlIiB5MT0iMTAwJSIgeDI9IjEwMCUiIHkyPSIwJSIgaWQ9ImxpbmVhckdyYWRpZW50LTEiPgogICAgICAgICAgICA8c3RvcCBzdG9wLWNvbG9yPSIjQzkyNkZGIiBvZmZzZXQ9IjAlIj48L3N0b3A+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiM0QTI2RkYiIG9mZnNldD0iMTAwJSI+PC9zdG9wPgogICAgICAgIDwvbGluZWFyR3JhZGllbnQ+CiAgICA8L2RlZnM+CiAgICA8ZyBpZD0iUGFnZS0xIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8ZyBpZD0iR3JvdXAiPgogICAgICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlIiBmaWxsPSIjRkZGRkZGIiB4PSI3NyIgeT0iNzIiIHdpZHRoPSIyMTUiIGhlaWdodD0iMTk5Ij48L3JlY3Q+CiAgICAgICAgICAgIDxnIGlkPSJhbGljZV9sb2dvIiBmaWxsLXJ1bGU9Im5vbnplcm8iIGZpbGw9InVybCgjbGluZWFyR3JhZGllbnQtMSkiPgogICAgICAgICAgICAgICAgPHBhdGggZD0iTTE4NSwzNzAgQzgyLjgyNzMyMDksMzcwIDAsMjg3LjE3MjY3OCAwLDE4NSBDMCw4Mi44MjczMjA5IDgyLjgyNzMyMDksMCAxODUsMCBDMjg3LjE3MjY3OCwwIDM3MCw4Mi44MjczMjA5IDM3MCwxODUgQzM3MCwyODcuMTcyNjc4IDI4Ny4xNzI2NzgsMzcwIDE4NSwzNzAgWiBNMTAwLjI4Nzk1MiwyNDQuNzA4MjQ0IEMxMTMuNTY4OTA4LDI1Ny45MjM4NzUgMTQ4Ljk0NTcxNiwyNjUuODU5NTc3IDE4NSwyNjUuOTk4Njc3IEMyMjEuMDUzMTgzLDI2NS44NTk1NzcgMjU2LjQzMTA5MiwyNTcuOTIzODc1IDI2OS43MTIwNDgsMjQ0LjcwODI0NCBDMzAyLjcwODYwOCwyMTEuODczOTg0IDIyMi41MDAwNDQsODYuMDgwMTUgMTg1LjA0MTI3Niw4NS44OTcyMzgzIEMxNDcuNDk5OTU2LDg2LjA4MDE1IDY3LjI5MTM5MTIsMjExLjg3Mzk4NCAxMDAuMjg3OTUyLDI0NC43MDgyNDQgWiIgaWQ9ImFsaXNhLXN5bWJvbCI+PC9wYXRoPgogICAgICAgICAgICA8L2c+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4=\" alt=\"alisa\"/>,\r\n    google: <FcGoogle style={{margin: '0 3px', width: 16, height: 16}} />,\r\n    material: <MaterialIcon style={{margin: '0 3px', width: 16, height: 16}} />,\r\n}\r\n\r\nexport const STATES_NAME_ICONS = {\r\n    SET: AiOutlineAppstoreAdd,\r\n    WORKING: MdWork,\r\n    UNREACH: IconUnreach,\r\n    LOWBAT: IconLowbat,\r\n    MAINTAIN: IconMaintain,\r\n    ERROR: IconError,\r\n    DIRECTION: MdDirections,\r\n    CONNECTED: IconUnreach,\r\n    ACTUAL: IconWorking,\r\n    SECOND: BiLastPage,\r\n    PRESS_LONG: FaCompressArrowsAlt,\r\n    PRESS: FaCompress,\r\n    MUTE: FaVolumeMute,\r\n    ACCURACY: GiLaserPrecision,\r\n    RADIUS: AiOutlineRadiusBottomleft,\r\n    ELEVATION: AiOutlineColumnHeight,\r\n    LATITUDE: AiOutlineColumnWidth,\r\n    LONGITUDE: AiOutlineSwap,\r\n    GPS: MdGpsFixed,\r\n    ON_ACTUAL: FaToggleOn,\r\n    ON_SET: FaToggleOn,\r\n    OPEN: FaDoorOpen,\r\n    STOP: GiStopSign,\r\n    WATER_ALARM: IoIosWater,  // water\r\n    WASTE_ALARM: GiNuclearWaste,\r\n    PAUSE: AiFillPauseCircle,\r\n    STATE: GiMatterStates,\r\n    BATTERY: IconLowbat,\r\n    WASTE: GiNuclearWaste,\r\n    WATER: IoIosWater,\r\n    WORK_MODE: MdWork,\r\n    MODE: MdDeveloperMode,\r\n    POWER: AiOutlinePoweroff,\r\n    BOOST: SiBoost,\r\n    HUMIDITY: WiHumidity,\r\n    TEMPERATURE: WiThermometer,\r\n    BRIGHTNESS: WiDaySunny,\r\n    MOTION: FaRunning,\r\n    FIRE: WiFire,\r\n    WINDOW: WindowTilted,\r\n    SMOKE: WiSmoke,\r\n    SWING: GiTreeSwing,\r\n    SPEED: GiSpeedometer,\r\n    DIMMER: HiOutlineLightBulb,\r\n    ON: FiPower,\r\n    COLOR_TEMP: FaSun,\r\n    ELECTRIC_POWER: ImPower,\r\n    CURRENT: GiElectric,\r\n    VOLTAGE: GiElectricalResistance,\r\n    CONSUMPTION: FcElectricalSensor,\r\n    FREQUENCY: GiLightningFrequency,\r\n    HUE: IoIosColorPalette,\r\n}\r\n\r\nexport default TYPE_OPTIONS;","import { Component, createRef } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nimport { Cropper } from 'react-cropper';\r\nimport 'cropperjs/dist/cropper.css';\r\n\r\nimport { Menu, MenuItem, Tooltip } from '@material-ui/core';\r\nimport IconButton from '@material-ui/core/IconButton';\r\n\r\nimport CropIcon from '@material-ui/icons/Crop';\r\n\r\nimport IconPicker from '@iobroker/adapter-react/Components/IconPicker';\r\n\r\nconst styles = theme => ({\r\n    image: {\r\n        objectFit: 'contain',\r\n        margin: 'auto',\r\n        display: 'flex',\r\n        width: '100%',\r\n        height: '100%',\r\n    },\r\n\r\n    buttonCropWrapper: {\r\n        position: 'absolute',\r\n        zIndex: 222,\r\n        right: 0,\r\n        top: 50\r\n    },\r\n    buttonIconsWrapper: {\r\n        position: 'absolute',\r\n        zIndex: 222,\r\n        right: 0,\r\n        top: 100\r\n    },\r\n    error: {\r\n        border: '2px solid red'\r\n    },\r\n    iconPickerLabel: {\r\n        fontSize: 20,\r\n        fontWeight: 'bold',\r\n    },\r\n    iconPickerIcon: {\r\n        width: 32,\r\n        height: 'auto'\r\n    }\r\n});\r\n\r\nclass UploadImage extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            anchorEl: null,\r\n            cropHandler: false,\r\n        };\r\n        this.cropperRef = createRef();\r\n    }\r\n\r\n    render() {\r\n        const { disabled, classes, icon, t, crop, onChange, className } = this.props;\r\n        const { anchorEl, cropHandler } = this.state;\r\n        return <div className={className} style={{position: 'relative'}}>\r\n            {icon && crop && <div className={classes.buttonCropWrapper}>\r\n                <Tooltip title={t('Crop')}>\r\n                    <IconButton onClick={e => {\r\n                        if (!cropHandler) {\r\n                            this.setState({ cropHandler: true });\r\n                        } else {\r\n                            this.setState({ anchorEl: e.currentTarget });\r\n                        }\r\n                        e.stopPropagation();\r\n                    }}><CropIcon color={cropHandler ? 'primary' : 'inherit'} />\r\n                    </IconButton>\r\n                </Tooltip>\r\n                <Menu\r\n                    anchorEl={anchorEl}\r\n                    keepMounted\r\n                    open={!!anchorEl}\r\n                    onClose={() => this.setState({ anchorEl: null })}\r\n                >\r\n                    <MenuItem onClick={() => this.setState({ anchorEl: null, cropHandler: false }, () => {\r\n                        const imageElement = this.cropperRef?.current?.cropper;\r\n                        onChange(imageElement.getCroppedCanvas().toDataURL());\r\n                    })}>{t('Save')}</MenuItem>\r\n                    <MenuItem onClick={() => this.setState({ anchorEl: null, cropHandler: false })}>{t('Close')}</MenuItem>\r\n                </Menu>\r\n            </div>}\r\n\r\n            <IconPicker\r\n                label={this.props.t('Icon')}\r\n                disabled={disabled}\r\n                customClasses={{label: classes.iconPickerLabel, icon: classes.iconPickerIcon}}\r\n                onChange={base64 => onChange(base64)}\r\n                value={icon}\r\n            />\r\n\r\n            {icon && crop && cropHandler ? <Cropper\r\n                ref={this.cropperRef}\r\n                className={classes.image}\r\n                src={icon}\r\n                initialAspectRatio={1}\r\n                viewMode={1}\r\n                guides={false}\r\n                minCropBoxHeight={10}\r\n                minCropBoxWidth={10}\r\n                background={false}\r\n                checkOrientation={false}\r\n            /> : null}\r\n        </div>;\r\n    }\r\n}\r\n\r\nUploadImage.defaultProps = {\r\n    disabled: false,\r\n    maxSize: 10 * 1024,\r\n    icon: null,\r\n    removeIconFunc: null,\r\n    accept: 'image/*',\r\n    error: false,\r\n    onChange: base64 => console.log(base64),\r\n    t: el => el,\r\n    crop: false\r\n}\r\n\r\nUploadImage.propTypes = {\r\n    classes: PropTypes.object,\r\n    maxSize: PropTypes.number,\r\n    disabled: PropTypes.bool,\r\n    crop: PropTypes.bool,\r\n    error: PropTypes.bool,\r\n    onChange: PropTypes.func,\r\n    accept: PropTypes.string,\r\n    t: PropTypes.func,\r\n};\r\n\r\nexport default withStyles(styles)(UploadImage);\r\n","/**\r\n * Copyright 2019-2021 bluefox <dogafox@gmail.com>\r\n *\r\n * MIT License\r\n *\r\n **/\r\nimport React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport clsx from 'clsx';\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Select from '@material-ui/core/Select';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Switch from '@material-ui/core/Switch';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\n\r\nimport I18n from '@iobroker/adapter-react/i18n';\r\nimport Utils from '@iobroker/adapter-react/Components/Utils';\r\nimport Icon from '@iobroker/adapter-react/Components/Icon';\r\n\r\nimport UploadImage from '../Components/UploadImage';\r\n\r\nconst styles = theme => ({\r\n    divOidField: {\r\n        width: '100%',\r\n        display: 'block',\r\n        paddingTop: 7,\r\n        paddingBottom: 7,\r\n    },\r\n    oidName: {\r\n        fontSize: 14,\r\n        fontWeight: 'bold'\r\n    },\r\n    oidField: {\r\n        display: 'inline-block',\r\n        marginTop: 0,\r\n        marginBottom: 0,\r\n    },\r\n    colorButton: {\r\n        marginLeft: 5,\r\n        '&>div': {\r\n            width: '100%'\r\n        }\r\n    },\r\n    divOids: {\r\n        display: 'inline-block',\r\n        width: '100%',\r\n        verticalAlign: 'top',\r\n    },\r\n    divDevice: {\r\n        color: theme.palette.type === 'light' ? 'black' : 'white',\r\n        display: 'inline-block',\r\n        width: 100,\r\n        verticalAlign: 'top',\r\n    },\r\n    divIndicators: {\r\n        display: 'inline-block',\r\n        width: 'calc(50% - 55px)',\r\n        verticalAlign: 'top',\r\n    },\r\n    divDialogContent: {\r\n        fontSize: '1rem',\r\n        fontFamily: '\"Roboto\", \"Helvetica\", \"Arial\", sans-serif'\r\n    },\r\n    buttonPen: {\r\n        color: '#ffffff',\r\n    },\r\n    headerButtons: {\r\n        textAlign: 'right'\r\n    },\r\n    enumIcon: {\r\n        width: 24,\r\n        height: 24,\r\n        marginRight: 10\r\n    },\r\n    renderValueWrapper: {\r\n        display: 'flex'\r\n    },\r\n    renderValueCurrent: {\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        marginRight: 10\r\n    },\r\n    funcDivEdit: {\r\n        width: '100%'\r\n    },\r\n    funcEditName: {\r\n        display: 'inline-block',\r\n        width: 85\r\n    },\r\n    funcEdit: {\r\n        display: 'inline-block',\r\n        marginTop: 0,\r\n        marginBottom: 0,\r\n        width: 'calc(100% - 85px)',\r\n    },\r\n    tableIconImg: {\r\n        marginTop: 4,\r\n        marginLeft: 4,\r\n        width: 32,\r\n        height: 32,\r\n        color: '#888'\r\n    },\r\n    disableSwitch: {\r\n        '& .Mui-checked .MuiSwitch-thumb': {\r\n            background: '#ffb3ce'\r\n        }\r\n    },\r\n    disableSwitchLabel: {\r\n        '& .MuiFormControlLabel-label': {\r\n            fontSize: '0.75rem',\r\n            opacity: 0.6,\r\n        }\r\n    },\r\n    dropZone: {\r\n        textAlign: 'left',\r\n        marginTop: theme.spacing(2),\r\n    },\r\n    wrapperColorFields:{\r\n        display: 'flex',\r\n        width: '100%'\r\n    },\r\n    '@media screen and (max-width: 650px)': {\r\n        oidName: {\r\n            fontSize: 11\r\n        },\r\n        oidField: {\r\n            '& input': {\r\n                fontSize: 12\r\n            },\r\n            '& p': {\r\n                fontSize: 7\r\n            },\r\n        },\r\n        renderValueCurrent: {\r\n            fontSize: 12\r\n        },\r\n        enumIcon: {\r\n            width: 14,\r\n            height: 14,\r\n            marginRight: 5\r\n        },\r\n        disableSwitchLabel: {\r\n            '& span': {\r\n                fontSize: 11\r\n            }\r\n        },\r\n        wrapperColorFields:{\r\n            flexDirection: 'column'\r\n        },\r\n        colorButton:{\r\n            marginLeft:0\r\n        }\r\n    }\r\n});\r\n\r\nclass DialogEditProperties extends React.PureComponent {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        let name = '';\r\n        const channelObj = this.props.objects[this.props.channelId];\r\n\r\n        if (channelObj && channelObj.common) {\r\n            name = Utils.getObjectNameFromObj(channelObj, null, { language: I18n.getLanguage() }) === 'undefined' ? channelObj.common.name[Object.keys(channelObj.common.name)[0]] : Utils.getObjectNameFromObj(channelObj, null, { language: I18n.getLanguage() });\r\n        }\r\n\r\n        const functions = this.props.enumIDs.filter(id => {\r\n            if (!id.startsWith('enum.functions.')) {\r\n                return false;\r\n            }\r\n            const obj = this.props.objects[id];\r\n            return obj && obj.common && obj.common.members && obj.common.members.includes(this.props.channelId);\r\n        });\r\n\r\n        const rooms = this.props.enumIDs.filter(id => {\r\n            if (!id.startsWith('enum.rooms.')) {\r\n                return false;\r\n            }\r\n            const obj = this.props.objects[id];\r\n            return obj && obj.common && obj.common.members && obj.common.members.includes(this.props.channelId);\r\n        });\r\n\r\n        // ;common.custom[adapter.namespace].smartName\r\n        let smartName = this.getSmartName(channelObj);\r\n\r\n        this.state = Object.keys(this.props.changeProperties).length ? this.props.changeProperties : {\r\n            color: channelObj && channelObj.common && channelObj.common.color,\r\n            icon: channelObj && channelObj.common && channelObj.common.icon,\r\n            functions,\r\n            rooms,\r\n            name,\r\n            initName: name,\r\n            smartName,\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        if (!Object.keys(this.props.changeProperties).length) {\r\n            this.props.onChange(this.state, this.state);\r\n        }\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState) {\r\n        if (JSON.stringify(prevState) !== JSON.stringify(this.state)) {\r\n            this.props.onChange(this.state, false, this.checkedName());\r\n        }\r\n    }\r\n\r\n    handleClose() {\r\n        this.props.onClose && this.props.onClose();\r\n    }\r\n\r\n    handleOk() {\r\n        this.props.onClose && this.props.onClose({\r\n            rooms: this.state.rooms,\r\n            functions: this.state.functions,\r\n            name: this.state.name,\r\n            icon: this.state.icon,\r\n            color: this.state.color,\r\n            smartName: this.state.smartName,\r\n        });\r\n    }\r\n\r\n    findRealDevice() {\r\n        let realParent = Object.keys(this.state.ids).find(id => this.state.ids[id]);\r\n        if (realParent) {\r\n            realParent = this.state.ids[realParent];\r\n            const parts = realParent.split('.');\r\n            parts.pop();\r\n            realParent = parts.join('.');\r\n        }\r\n        return realParent || '';\r\n    }\r\n\r\n    renderSelectEnum(name) {\r\n        const enums = this.props.enumIDs.filter(id => id.startsWith('enum.' + name + '.'));\r\n        const language = I18n.getLanguage();\r\n        const objs = enums.map(id => {\r\n            return {\r\n                name: Utils.getObjectName(this.props.objects, id, { language }),\r\n                icon: Utils.getObjectIcon(id, this.props.objects[id]),\r\n                id: id\r\n            }\r\n        });\r\n\r\n        return <Select\r\n            className={this.props.classes.oidField}\r\n            value={this.state[name]}\r\n            fullWidth\r\n            multiple\r\n            disabled={this.props.disabled}\r\n            renderValue={arrId => {\r\n                const newArr = arrId.map(id => {\r\n                    return {\r\n                        name: Utils.getObjectName(this.props.objects, id, { language }),\r\n                        icon: Utils.getObjectIcon(id, this.props.objects[id]),\r\n                        id: id\r\n                    }\r\n                });\r\n\r\n                return <div className={this.props.classes.renderValueWrapper}>\r\n                    {newArr.map(obj => <div className={this.props.classes.renderValueCurrent} key={`${obj.id}-render`}>\r\n                        {obj.icon ? <Icon className={this.props.classes.enumIcon} src={obj.icon} alt={obj.id} /> : <div className={this.props.classes.enumIcon} />}\r\n                        {obj.name}\r\n                    </div>)}\r\n                </div>\r\n            }}\r\n            onChange={e => {\r\n                this.setState({ [name]: e.target.value })\r\n            }}\r\n        >\r\n            {objs.map(obj => <MenuItem key={obj.id} icon={obj.icon} value={obj.id}>\r\n                {obj.icon ? <Icon className={this.props.classes.enumIcon} src={obj.icon} alt={obj.id} /> : <div className={this.props.classes.enumIcon} />}\r\n                {obj.name}\r\n            </MenuItem>)}\r\n        </Select>;\r\n    }\r\n\r\n    getSmartName(obj, language) {\r\n        language = language || I18n.getLanguage();\r\n        let smartName;\r\n        if (obj &&\r\n            obj.common &&\r\n            obj.common.custom) {\r\n            if (this.props.iotNoCommon) {\r\n                const iot = this.props.iot || 'iot.0';\r\n                if (obj.common.custom[iot] && obj.common.custom[iot].smartName) {\r\n                    smartName = obj.common.custom[iot].smartName;\r\n                }\r\n            } else {\r\n                smartName = obj.common.smartName;\r\n            }\r\n        } else {\r\n            smartName = obj?.common?.smartName;\r\n        }\r\n\r\n        if (smartName === false) {\r\n            return false;\r\n        } else\r\n            if (smartName && typeof smartName === 'object') {\r\n                if (smartName[language] === false || smartName.en === false) {\r\n                    return false;\r\n                }\r\n                smartName = smartName[language] || smartName.en || '';\r\n            }\r\n        return smartName || '';\r\n    }\r\n\r\n    handleIcon(file) {\r\n        const newValue = typeof file === 'object' ? file.data : file;\r\n\r\n        //newValue.changed = this.isChanged(name, newValue.values[name]);\r\n        this.setState({ icon: newValue });\r\n    }\r\n\r\n    checkedName = () => {\r\n        if (!this.state.name) {\r\n            return true;\r\n        } else if (this.state.name === this.state.initName) {\r\n            return false;\r\n        }\r\n        let parts = this.props.channelId.split('.');\r\n        parts.pop();\r\n        parts = parts.join('.');\r\n        parts = `${parts}.${this.state.name.replace(Utils.FORBIDDEN_CHARS, '_').replace(/\\s/g, '_').replace(/\\./g, '_')}`\r\n        return this.props.objects[parts];\r\n    }\r\n\r\n    renderProperties() {\r\n        const { classes, disabled } = this.props;\r\n        return <div className={classes.divOids}>\r\n            <div className={classes.divOidField}>\r\n                <div className={classes.oidName} >{I18n.t('Name')}</div>\r\n                <TextField\r\n                    key=\"_name\"\r\n                    fullWidth\r\n                    disabled={disabled}\r\n                    value={this.state.name || ''}\r\n                    error={this.checkedName()}\r\n                    className={classes.oidField}\r\n                    onChange={e => this.setState({ name: e.target.value })}\r\n                    margin=\"normal\"\r\n                />\r\n            </div>\r\n            <div className={classes.divOidField}>\r\n                <div className={classes.oidName} >{I18n.t('Disable smart')}</div>\r\n                <FormControlLabel\r\n                    className={classes.disableSwitchLabel}\r\n                    control={\r\n                        <Switch\r\n                            className={classes.disableSwitch}\r\n                            disabled={disabled}\r\n                            checked={this.state.smartName === false}\r\n                            color=\"secondary\"\r\n                            onChange={e => this.setState({ smartName: e.target.checked ? false : null })}\r\n                        />\r\n                    }\r\n                    label={I18n.t('Hide this name from smart assistance')}\r\n                />\r\n            </div>\r\n            {this.state.smartName !== false ? <div className={classes.divOidField}>\r\n                <div className={classes.oidName} >{I18n.t('Smart name')}</div>\r\n                <TextField\r\n                    key=\"_smartName\"\r\n                    fullWidth\r\n                    disabled={disabled}\r\n                    placeholder={this.state.name.replace(/[-^#_%&{}!?()§\"'`+*~/\\\\]/g, ' ')}\r\n                    value={this.state.smartName || ''}\r\n                    className={classes.oidField}\r\n                    helperText={I18n.t('This name will use be in smart assistance. (optional)')}\r\n                    onChange={e => this.setState({ smartName: e.target.value.replace(/[-^#_%&{}!?()§\"'`+*~/\\\\]/g, ' ') })}\r\n                    margin=\"normal\"\r\n                />\r\n            </div> : null}\r\n            <div className={classes.divOidField}>\r\n                <div className={classes.oidName} >{I18n.t('Function')}</div>\r\n                {this.renderSelectEnum('functions')}\r\n            </div>\r\n            <div className={classes.divOidField}>\r\n                <div className={classes.oidName} >{I18n.t('Room')}</div>\r\n                {this.renderSelectEnum('rooms')}\r\n            </div>\r\n            <div className={classes.divOidField}>\r\n                <div className={classes.oidName} >{I18n.t('Color')}</div>\r\n                <div className={classes.wrapperColorFields}>\r\n                    <TextField\r\n                        key=\"_color\"\r\n                        fullWidth\r\n                        disabled={disabled}\r\n                        value={this.state.color || ''}\r\n                        onChange={e => this.setState({ color: e.target.value })}\r\n                    />\r\n                    <TextField\r\n                        key=\"_color1\"\r\n                        type=\"color\"\r\n                        style={{ width: 40 }}\r\n                        disabled={disabled}\r\n                        value={this.state.color || ''}\r\n                        className={clsx(classes.oidField, classes.colorButton)}\r\n                        onChange={e => this.setState({ color: e.target.value })}\r\n                        margin=\"normal\"\r\n                    />\r\n                </div>\r\n            </div>\r\n            <UploadImage\r\n                crop={false}\r\n                disabled={disabled}\r\n                className={classes.dropZone}\r\n                maxSize={256 * 1024}\r\n                icon={this.state.icon}\r\n                onChange={base64 => this.setState({ icon: base64 })}\r\n                t={I18n.t}\r\n            />\r\n        </div>;\r\n    }\r\n\r\n    render() {\r\n        return <div className={this.props.classes.divDialogContent}>\r\n            {this.renderProperties()}\r\n        </div>;\r\n    }\r\n}\r\n\r\nDialogEditProperties.propTypes = {\r\n    onClose: PropTypes.func,\r\n    type: PropTypes.string,\r\n    iot: PropTypes.string,\r\n    iotNoCommon: PropTypes.bool,\r\n    channelId: PropTypes.string,\r\n    objects: PropTypes.object,\r\n    enumIDs: PropTypes.array,\r\n    socket: PropTypes.object,\r\n    disabled: PropTypes.bool\r\n};\r\n\r\nexport default withStyles(styles)(DialogEditProperties);\r\n","import React, { useEffect, useState } from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport { Checkbox, DialogTitle, FormControl, FormControlLabel, InputLabel, makeStyles, MenuItem, Paper, Select, TextField, ThemeProvider } from '@material-ui/core';\r\nimport Autocomplete from '@material-ui/lab/Autocomplete';\r\n\r\nimport IconClose from '@material-ui/icons/Close';\r\nimport IconCheck from '@material-ui/icons/Check';\r\n\r\nimport I18n from '@iobroker/adapter-react/i18n';\r\nimport theme from '@iobroker/adapter-react/Theme';\r\nimport Utils from '@iobroker/adapter-react/Components/Utils';\r\n\r\nlet node = null;\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        backgroundColor: theme.palette.background.paper,\r\n        width: '100%',\r\n        height: 'auto',\r\n        display: 'flex'\r\n    },\r\n    paper: {\r\n        maxWidth: 960,\r\n        width: 'calc(100% - 64px)'\r\n    },\r\n    overflowHidden: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        border: 'none'\r\n        // overflow: 'hidden'\r\n    },\r\n    pre: {\r\n        overflow: 'auto',\r\n        whiteSpace: 'pre-wrap',\r\n        margin: 0\r\n    },\r\n    showDialog: {\r\n        marginTop: 10\r\n    },\r\n    nameField: {\r\n        marginTop: 10\r\n    },\r\n    roleField: {\r\n        marginTop: 10\r\n\r\n    },\r\n    typeField: {\r\n        marginTop: 10\r\n\r\n    },\r\n    unitField: {\r\n        // marginTop: 10\r\n\r\n    },\r\n    minField: {\r\n        marginTop: 10,\r\n        marginRight: 10\r\n\r\n    },\r\n    maxField: {\r\n        marginTop: 10\r\n\r\n    },\r\n    minMax: {\r\n        display: 'flex'\r\n    },\r\n    overflowText:{\r\n        '& h2':{\r\n            overflow: 'hidden',\r\n            textOverflow: 'ellipsis'\r\n        }\r\n    },\r\n    '@media screen and (max-width: 450px)': {\r\n        paper: {\r\n            maxWidth: 960,\r\n            width: 'calc(100% - 12px)',\r\n            height: 'calc(100% - 12px)',\r\n            maxHeight:'calc(100% - 12px)',\r\n            margin: 0\r\n        }\r\n    }\r\n}));\r\n\r\nconst typeArray = [\r\n    'string',\r\n    'boolean',\r\n    'number',\r\n    'file',\r\n];\r\n\r\nconst DialogAddState = ({ callback, objects, socket, channelId, arrayStateDefault, editState }) => {\r\n    const classes = useStyles();\r\n    const [open, setOpen] = useState(true);\r\n    const [role, setRole] = useState(null);\r\n    const [roleInput, setRoleInput] = useState(null);\r\n    const [roles, setRoles] = useState([]);\r\n    const [name, setName] = useState('NEW_STATE');\r\n    const [unit, setUnit] = useState('');\r\n    const [type, setType] = useState('string');\r\n    const [checkedRead, setCheckedRead] = useState(true);\r\n    const [checkedWrite, setCheckedWrite] = useState(true);\r\n    const [min, setMin] = useState(0);\r\n    const [max, setMax] = useState(100);\r\n    const [step, setStep] = useState(0);\r\n    const [checkedStates, setCheckedStates] = useState(false);\r\n\r\n    useEffect(() => {\r\n        let rolesArr = [];\r\n        Object.keys(objects).forEach(key => {\r\n            const obj = objects[key];\r\n            if (obj) {\r\n                const common = obj.common;\r\n                const role = common && common.role;\r\n                if (role && !rolesArr.includes(role)) {\r\n                    rolesArr.push(role);\r\n                }\r\n            }\r\n        });\r\n\r\n        setRoles(rolesArr.sort());\r\n\r\n        if (editState) {\r\n            const newObj = objects[editState];\r\n            if (newObj) {\r\n                setType(newObj.common.type);\r\n                setRole(newObj.common.role);\r\n                setName(newObj.common.name);\r\n                if (newObj.common.type === 'number') {\r\n                    setMin(newObj.common.min);\r\n                    setMax(newObj.common.max);\r\n                    setUnit(newObj.common.unit);\r\n                    setStep(newObj.common.step);\r\n                    setCheckedStates(!!newObj.common.states);\r\n                }\r\n                if (newObj.common.type !== 'file') {\r\n                    setCheckedRead(newObj.common.read);\r\n                    setCheckedWrite(newObj.common.write);\r\n                }\r\n            }\r\n        }\r\n    }, [editState, objects])\r\n\r\n    const onClose = () => {\r\n        setOpen(false);\r\n        if (node) {\r\n            document.body.removeChild(node);\r\n            node = null;\r\n        }\r\n    };\r\n\r\n    return <ThemeProvider theme={theme(Utils.getThemeName())}>\r\n        <Dialog\r\n            onClose={onClose}\r\n            open={open}\r\n            classes={{ paper: classes.paper }}\r\n        >\r\n            <DialogTitle className={classes.overflowText}>{I18n.t(editState ? 'Edit state %s' : 'Add state %s', `${channelId}.${name}`)}</DialogTitle>\r\n            <DialogContent className={classes.overflowHidden} dividers>\r\n                <Paper className={classes.showDialog} style={{ padding: `10px 20px` }} p={3}>\r\n                    <TextField\r\n                        fullWidth\r\n                        value={name}\r\n                        error={!name || (objects[`${channelId}.${name}`] && editState !== `${channelId}.${name}`) || arrayStateDefault.find(item => item.name === name)}\r\n                        className={classes.nameField}\r\n                        label={I18n.t('Name')}\r\n                        onChange={e => setName(e.target.value?.toUpperCase())}\r\n                    />\r\n                    <Autocomplete\r\n                        freeSolo\r\n                        options={roles}\r\n                        className={classes.roleField}\r\n                        style={{ width: '100%' }}\r\n                        value={role}\r\n                        onChange={(event, role) => {\r\n                            setRole(role);\r\n                            setRoleInput(role);\r\n                        }}\r\n                        onInputChange={(event, role) => setRoleInput(role)}\r\n                        renderInput={params => <TextField\r\n                            {...params}\r\n                            label={I18n.t('Role')}\r\n                        // variant=\"outlined\"\r\n                        />}\r\n                    />\r\n                    <FormControl fullWidth\r\n                        className={classes.typeField}>\r\n                        <InputLabel>{I18n.t('Type')}</InputLabel>\r\n                        <Select\r\n                            fullWidth\r\n                            value={type}\r\n                            onChange={e => setType(e.target.value)}\r\n                        >\r\n                            {typeArray.map(key => <MenuItem key={key} value={key}>{key}</MenuItem>)}\r\n                        </Select>\r\n                    </FormControl>\r\n                    {type !== 'file' &&\r\n                        <>\r\n                            <FormControlLabel\r\n                                control={<Checkbox checked={checkedRead} onChange={e => setCheckedRead(e.target.checked)} />}\r\n                                label={I18n.t('Readable')}\r\n                            />\r\n                            <FormControlLabel\r\n                                control={<Checkbox checked={checkedWrite} onChange={e => setCheckedWrite(e.target.checked)} />}\r\n                                label={I18n.t('Writable')}\r\n                            />\r\n                        </>\r\n                    }\r\n                    {type === 'number' && <TextField\r\n                        fullWidth\r\n                        value={unit}\r\n                        className={classes.unitField}\r\n                        label={I18n.t('Unit')}\r\n                        onChange={e => setUnit(e.target.value)}\r\n                    />}\r\n                    {type === 'number' && <div className={classes.minMax}>\r\n                        <TextField\r\n                            fullWidth\r\n                            value={min}\r\n                            type=\"number\"\r\n                            className={classes.minField}\r\n                            label={I18n.t('Min')}\r\n                            onChange={e => setMin(e.target.value)}\r\n                        />\r\n                        <TextField\r\n                            fullWidth\r\n                            value={max}\r\n                            type=\"number\"\r\n                            className={classes.minField}\r\n                            label={I18n.t('Max')}\r\n                            onChange={e => setMax(e.target.value)}\r\n                        />\r\n                        <TextField\r\n                            fullWidth\r\n                            value={step}\r\n                            type=\"number\"\r\n                            className={classes.maxField}\r\n                            label={I18n.t('Step')}\r\n                            onChange={e => setStep(e.target.value)}\r\n                        />\r\n                        <FormControlLabel\r\n                            control={<Checkbox checked={checkedStates} onChange={e => setCheckedStates(e.target.checked)} />}\r\n                            label={I18n.t('Value=>String')}\r\n                        />\r\n                    </div>}\r\n                </Paper>\r\n            </DialogContent>\r\n            <DialogActions>\r\n                <Button\r\n                    variant=\"contained\"\r\n                    autoFocus\r\n                    disabled={!name || (objects[`${channelId}.${name}`] && !editState) || (editState && editState !== `${channelId}.${name}` && objects[`${channelId}.${name}`]) || arrayStateDefault.find(item => item.name === name)}\r\n                    onClick={async () => {\r\n                        onClose();\r\n                        let obj = {\r\n                            _id: `${channelId}.${name}`,\r\n                            common: {\r\n                                name,\r\n                                role: roleInput,\r\n                                type,\r\n                            },\r\n                            type: 'state'\r\n                        };\r\n                        if (editState){\r\n                            obj = JSON.parse(JSON.stringify(objects[editState]));\r\n                            obj._id = `${channelId}.${name}`;\r\n                            obj.common.name = name;\r\n                            obj.common.role = roleInput;\r\n                            obj.common.type = type;\r\n                        }\r\n                        if (type === 'number') {\r\n                            obj.common.min = parseFloat(min.toString().replace(',', '.'));\r\n                            obj.common.max = parseFloat(max.toString().replace(',', '.'));\r\n                            obj.common.unit = unit;\r\n                            if (step || step === 0) {\r\n                                obj.common.step = parseFloat(step.toString().replace(',', '.'));\r\n                            }\r\n                            if (checkedStates) {\r\n                                obj.common.states = obj.common.states || {};\r\n                            } else if (obj.common.states) {\r\n                               delete obj.common.states;\r\n                            }\r\n                        }\r\n                        if (type !== 'file') {\r\n                            obj.common.read = checkedRead;\r\n                            obj.common.write = checkedWrite;\r\n                        }\r\n                        await socket.setObject(`${channelId}.${name}`, obj);\r\n                        callback && callback(obj);\r\n                    }}\r\n                    startIcon={<IconCheck />}\r\n                    color=\"primary\">\r\n                    {I18n.t(editState ? 'Save' : 'Add')}\r\n                </Button>\r\n                <Button\r\n                    variant=\"contained\"\r\n                    onClick={() => onClose()}\r\n                    startIcon={<IconClose />}\r\n                    color=\"default\">\r\n                    {I18n.t('Cancel')}\r\n                </Button>\r\n            </DialogActions>\r\n        </Dialog>\r\n    </ThemeProvider>;\r\n}\r\n\r\nDialogAddState.defaultProps = {\r\n    editState: null\r\n};\r\n\r\nexport const addStateCallBack = (callback, objects, socket, channelId, arrayStateDefault, editState) => {\r\n    if (!node) {\r\n        node = document.createElement('div');\r\n        node.id = 'renderModal';\r\n        document.body.appendChild(node);\r\n    }\r\n\r\n    return ReactDOM.render(\r\n        <DialogAddState\r\n            arrayStateDefault={arrayStateDefault}\r\n            channelId={channelId}\r\n            socket={socket}\r\n            objects={objects}\r\n            callback={callback}\r\n            editState={editState}\r\n        />, node);\r\n}","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {withStyles} from '@material-ui/core/styles';\r\n\r\nimport {SortableContainer, SortableElement, SortableHandle } from 'react-sortable-hoc';\r\n\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport Fab from '@material-ui/core/Fab';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableContainer from '@material-ui/core/TableContainer';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport {TextField} from '@material-ui/core';\r\n\r\nimport {MdAdd as IconAdd} from 'react-icons/md';\r\nimport Button from '@material-ui/core/Button';\r\nimport IconCheck from '@material-ui/icons/Check';\r\nimport IconClose from '@material-ui/icons/Close';\r\nimport IconDelete from '@material-ui/icons/Delete';\r\nimport IconDragHandle from '@material-ui/icons/DragHandle';\r\n\r\nimport I18n from '@iobroker/adapter-react/i18n';\r\nconst DragHandle = SortableHandle(() => <IconDragHandle style={{cursor: 'grab'}}/>);\r\n\r\nconst SortableItem = SortableElement(({item, ownIndex, onDelete, onChange}) =>\r\n    <TableRow style={{zIndex: 10000}}>\r\n        <TableCell><DragHandle /></TableCell>\r\n        <TableCell component=\"th\" scope=\"row\">{\r\n            <TextField value={item.value} onChange={e => onChange(ownIndex, e.target.value)}/>\r\n        }</TableCell>\r\n        <TableCell align=\"right\">{\r\n            <TextField value={item.label} onChange={e => onChange(ownIndex, undefined, e.target.value)}/>\r\n        }</TableCell>\r\n        <TableCell><IconButton onClick={() => onDelete(ownIndex)}\r\n        ><IconDelete/></IconButton></TableCell>\r\n    </TableRow>);\r\n\r\nconst SortableList = SortableContainer(({items, onDelete, onChange}) => {\r\n    return <TableBody>\r\n        {items.map((item, index) =>\r\n            <SortableItem key={`item-${index}`} index={index} ownIndex={index} onDelete={onDelete} onChange={onChange} item={item} />)}\r\n    </TableBody>;\r\n});\r\n\r\nconst styles = theme => ({\r\n\r\n});\r\n\r\nclass DialogEditStates extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            states: Object.keys(this.props.states || {}).map(value => ({label: this.props.states[value], value})),\r\n            error: false,\r\n        };\r\n    }\r\n\r\n    onClose() {\r\n        const result = {};\r\n        this.state.states.forEach(item => result[item.value] = item.label);\r\n        this.props.onClose(result);\r\n    }\r\n\r\n    onDelete = i => {\r\n        const states = JSON.parse(JSON.stringify(this.state.states));\r\n        states.splice(i, 1);\r\n        this.setState({states});\r\n    }\r\n\r\n    onChange = (i, value, label) => {\r\n        const states = JSON.parse(JSON.stringify(this.state.states));\r\n        if (value !== undefined) {\r\n            states[i].value = value;\r\n        }\r\n        if (label !== undefined) {\r\n            states[i].label = label;\r\n        }\r\n        this.setState({states});\r\n    }\r\n\r\n    onSortEnd = ({oldIndex, newIndex}) => {\r\n        const states = JSON.parse(JSON.stringify(this.state.states));\r\n        const item = states[oldIndex];\r\n        states[oldIndex] = states[newIndex];\r\n        states[newIndex] = item;\r\n        this.setState({states});\r\n    };\r\n\r\n    render() {\r\n        return <Dialog\r\n            open={true}\r\n            disableBackdropClick\r\n            disableEscapeKeyDown\r\n        >\r\n            <DialogTitle>{I18n.t('Edit states')}</DialogTitle>\r\n            <DialogContent>\r\n                <Fab size=\"small\" style={{marginBottom: 10}} onClick={() => {\r\n                    const states = JSON.parse(JSON.stringify(this.state.states));\r\n                    // find max value\r\n                    let max = states.length ? parseFloat(states[0].value) : 0;\r\n                    for (let i = 1; i < states.length; i++) {\r\n                        const val = parseFloat(states[i].value);\r\n                        if (val > max) {\r\n                            max = val;\r\n                        }\r\n                    }\r\n                    if (states.length) {\r\n                        states.push({value: max + 1, label: (max + 1).toString()});\r\n                    } else {\r\n                        states.push({value: 0, label: '0'});\r\n                    }\r\n                    this.setState({states});\r\n                }}><IconAdd/></Fab>\r\n                <TableContainer component={Paper}>\r\n                    <Table className={this.props.classes.table} aria-label=\"simple table\">\r\n                        <TableHead>\r\n                            <TableRow>\r\n                                <TableCell/>\r\n                                <TableCell>Value</TableCell>\r\n                                <TableCell>Title</TableCell>\r\n                                <TableCell/>\r\n                            </TableRow>\r\n                        </TableHead>\r\n                        <SortableList useDragHandle items={this.state.states} onSortEnd={this.onSortEnd} onDelete={this.onDelete} onChange={this.onChange}/>\r\n                    </Table>\r\n                </TableContainer>\r\n            </DialogContent>\r\n            <DialogActions>\r\n                <Button variant=\"contained\" disabled={JSON.stringify(this.props.states) === JSON.stringify(this.state.states) || this.state.error} onClick={() => this.onClose()} color=\"primary\" startIcon={<IconCheck/>}>{I18n.t('Ok')}</Button>\r\n                <Button variant=\"contained\" onClick={() => this.props.onClose()} startIcon={<IconClose/>}>{I18n.t('Cancel')} < /Button>\r\n            </DialogActions>\r\n        </Dialog>;\r\n    }\r\n}\r\n\r\nDialogEditStates.propTypes = {\r\n    states: PropTypes.object.isRequired,\r\n    onClose: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default withStyles(styles)(DialogEditStates);\r\n","/**\r\n * Copyright 2019-2021 bluefox <dogafox@gmail.com>\r\n *\r\n * MIT License\r\n *\r\n **/\r\nimport React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport clsx from 'clsx';\r\n\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Select from '@material-ui/core/Select';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport { AppBar, IconButton, LinearProgress, Paper, Tab, Tabs, Tooltip, Typography } from '@material-ui/core';\r\n\r\nimport { MdEdit as IconEdit } from 'react-icons/md';\r\nimport { MdFunctions as IconFunction } from 'react-icons/md';\r\nimport { MdOpenInNew as IconExtended } from 'react-icons/md';\r\nimport { MdHelpOutline } from 'react-icons/md';\r\nimport IconClose from '@material-ui/icons/Close';\r\nimport IconCheck from '@material-ui/icons/Check';\r\nimport { MdDelete as IconDelete } from 'react-icons/md';\r\nimport { MdAdd as IconAdd } from 'react-icons/md';\r\nimport { AiOutlineEdit as IconEditStates } from 'react-icons/ai';\r\nimport ImportExportIcon from '@material-ui/icons/ImportExport';\r\n\r\nimport DialogSelectID from '@iobroker/adapter-react/Dialogs/SelectID';\r\nimport I18n from '@iobroker/adapter-react/i18n';\r\nimport Utils from '@iobroker/adapter-react/Components/Utils';\r\n\r\nimport TypeIcon from '../Components/TypeIcon';\r\nimport { STATES_NAME_ICONS } from '../Components/TypeOptions';\r\nimport DialogEditProperties from './DialogEditProperties';\r\nimport { addStateCallBack } from './DialogAddState';\r\nimport { getChannelItems } from '../Components/helpers/search';\r\nimport DialogEditStates from './DialogEditStates';\r\n\r\nconst styles = theme => ({\r\n    header: {\r\n        width: '100%',\r\n        fontSize: 16,\r\n        textTransform: 'capitalize',\r\n        textAlign: 'center',\r\n        paddingBottom: 20,\r\n        color: '#000',\r\n    },\r\n    divOidField: {\r\n        width: '100%',\r\n        display: 'flex',\r\n        paddingTop: 5,\r\n        paddingBottom: 5,\r\n        height: 69,\r\n    },\r\n    oidName: {\r\n        minWidth: 100,\r\n        display: 'block',\r\n        flexDirection: 'column',\r\n        // marginTop: 17,\r\n        whiteSpace: 'nowrap',\r\n        overflow: 'hidden',\r\n        textOverflow: 'ellipsis',\r\n        marginRight: 8,\r\n    },\r\n    oidField: {\r\n        display: 'inline-block',\r\n        marginTop: 0,\r\n        marginBottom: 0,\r\n        width: '100%',\r\n    },\r\n    colorButton: {\r\n        '&>div': {\r\n            width: '100%'\r\n        }\r\n    },\r\n    divOids: {\r\n        display: 'inline-block',\r\n        verticalAlign: 'top',\r\n        width: '100%',\r\n    },\r\n    divDevice: {\r\n        color: theme.palette.type === 'light' ? 'black' : 'white',\r\n        display: 'inline-block',\r\n        width: 100,\r\n        verticalAlign: 'top',\r\n        fontWeight: 'bold',\r\n        whiteSpace: 'nowrap',\r\n        lineHeight: '32px',\r\n    },\r\n    divIndicators: {\r\n        display: 'inline-block',\r\n        verticalAlign: 'top',\r\n    },\r\n    menuWrapperIcons: {\r\n        display: 'flex'\r\n    },\r\n    divExtended: {\r\n        width: 'calc(50% - 55px)',\r\n    },\r\n    divDialogContent: {\r\n        fontSize: '1rem',\r\n        fontFamily: '\"Roboto\", \"Helvetica\", \"Arial\", sans-serif'\r\n    },\r\n    buttonPen: {\r\n        color: '#ffffff',\r\n    },\r\n    headerButtons: {\r\n        textAlign: 'right'\r\n    },\r\n    headerButton: {\r\n        float: 'right',\r\n        marginLeft: 3,\r\n    },\r\n    enumIcon: {\r\n        width: 24,\r\n        height: 24\r\n    },\r\n    funcDivEdit: {\r\n        width: '100%'\r\n    },\r\n    funcEditName: {\r\n        display: 'inline-block',\r\n        width: 85\r\n    },\r\n    funcEdit: {\r\n        display: 'inline-block',\r\n        marginTop: 0,\r\n        marginBottom: 0,\r\n        width: 'calc(100% - 85px)',\r\n    },\r\n    idEditName: {\r\n        display: 'inline-block',\r\n        width: 200\r\n    },\r\n    idEdit: {\r\n        width: 'calc(100% - 200px)',\r\n        display: 'inline-block',\r\n        marginTop: 0,\r\n        marginBottom: 0,\r\n    },\r\n    icon: {\r\n        color: theme.palette.type === 'light' ? 'black' : 'white',\r\n        display: 'inline-block',\r\n        verticalAlign: 'middle'\r\n    },\r\n    deviceText: {\r\n        verticalAlign: 'middle'\r\n    },\r\n    wrapperIconHead: {\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        fontSize: 18,\r\n        fontWeight: 900,\r\n        marginTop: 5\r\n    },\r\n    iconStyle: {\r\n        marginRight: 7\r\n    },\r\n    content: {\r\n        paddingTop: 0\r\n    },\r\n    wrapperItemButtons: {\r\n        display: 'flex',\r\n        margin: 'auto 0',\r\n        marginLeft: 'auto'\r\n    },\r\n    emptyButton: {\r\n        width: 48,\r\n        height: 48\r\n    },\r\n    tab: {\r\n        '& .Mui-selected': {\r\n            color: theme.name === 'colored' && 'black'\r\n        }\r\n    },\r\n    indicator: {\r\n        backgroundColor: theme.name === 'colored' && 'black'\r\n    },\r\n    divOidFieldObj: {\r\n        height: 140\r\n    },\r\n    displayFlex: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        width: '100%'\r\n    },\r\n    displayFlexRow: {\r\n        display: 'flex',\r\n\r\n    },\r\n    width100: {\r\n        width: '100%'\r\n    },\r\n    stateSubCategory: {\r\n        fontSize: 12,\r\n        opacity: .6\r\n    },\r\n    wrapperHeaderIndicators: {\r\n        display: 'flex',\r\n        padding: 30\r\n    },\r\n    headerIndicatorsLine: {\r\n        flexGrow: 1,\r\n        borderTop: '1px solid #4dabf5',\r\n        margin: '0 10px',\r\n        marginTop: 11,\r\n        opacity: 0.8\r\n    },\r\n    headerIndicatorsName: {\r\n        color: '#4dabf5',\r\n        fontSize: 18\r\n    },\r\n    wrapperOidName: {\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        overflow: 'hidden'\r\n    },\r\n    oidNameIcon: {\r\n        // marginTop: 16,\r\n        marginRight: 3,\r\n        width: 24,\r\n        height: 24,\r\n    },\r\n    addedName: {\r\n        color: '#e67e229e'\r\n    },\r\n    indicators: {\r\n        color: '#4dabf5'\r\n    },\r\n    helperText: {\r\n        opacity: 0.2\r\n    },\r\n    titleHead: {\r\n        '& h2': {\r\n            textOverflow: 'ellipsis',\r\n            overflow: 'hidden'\r\n        }\r\n    },\r\n    deviceIconStyle: {\r\n        marginTop: 4,\r\n        marginLeft: 4,\r\n        width: 32,\r\n        height: 32,\r\n    },\r\n    '@media screen and (max-width: 650px)': {\r\n        deviceIconStyle: {\r\n            width: 20,\r\n            height: 20\r\n        },\r\n        deviceText: {\r\n            fontSize: 12\r\n        },\r\n        emptyButton: {\r\n            width: 24,\r\n            height: 24\r\n        },\r\n        wrapperItemButtons: {\r\n            marginLeft: 'auto'\r\n        },\r\n        wrapperOidName: {\r\n\r\n        },\r\n        oidField: {\r\n            '& p': {\r\n                fontSize: 7\r\n            },\r\n            '& input': {\r\n                fontSize: 11\r\n            }\r\n        },\r\n        oidNameIcon: {\r\n            width: 10,\r\n            height: 10,\r\n            marginTop: 0\r\n        },\r\n        oidName: {\r\n            fontSize: 12,\r\n            minWidth: 60,\r\n            marginTop: 0,\r\n            maxWidth: 150,\r\n            display: 'block',\r\n            textOverflow: 'ellipsis'\r\n        },\r\n    },\r\n    wrapperButtonsAndOidField: {\r\n        display: 'flex',\r\n        flex: 1\r\n    },\r\n    wrapperTabPanel: {\r\n        padding: `10px 20px`\r\n    }, mobileWidth: {\r\n    },\r\n    '@media screen and (max-width: 450px)': {\r\n        mobileWidth: {\r\n            margin: 0,\r\n            width: 'calc(100% - 12px)',\r\n            height: 'calc(100% - 12px)',\r\n            maxHeight: 'calc(100% - 12px)'\r\n        },\r\n        divOidField: {\r\n            flexDirection: 'column'\r\n        },\r\n        oidField: {\r\n            paddingTop: '0 !important'\r\n        },\r\n        oidName: {\r\n            maxWidth: 'max-content'\r\n        },\r\n        wrapperTabPanel: {\r\n            padding: `10px 10px`\r\n        },\r\n    },\r\n    '@media screen and (max-width: 360px)': {\r\n        wrapperTitleAndId: {\r\n            maxWidth: 120\r\n        },\r\n    },\r\n});\r\n\r\n// const FORBIDDEN_CHARS = /[\\][*,;'\"`<>\\\\?]/g;\r\n\r\nfunction TabPanel(props) {\r\n    const { children, value, index, classes, ...other } = props;\r\n\r\n    return <div\r\n        role=\"tabpanel\"\r\n        hidden={value !== index}\r\n        id={`scrollable-auto-tabpanel-${index}`}\r\n        aria-labelledby={`scrollable-auto-tab-${index}`}\r\n        {...other}\r\n    >\r\n        {value === index && (\r\n            <Paper className={classes.wrapperTabPanel} p={3}>\r\n                <Typography component=\"div\">{children}</Typography>\r\n            </Paper>\r\n        )}\r\n    </div>;\r\n}\r\n\r\nclass DialogEditDevice extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        const ids = {};\r\n        this.fx = {};\r\n        const states = {};\r\n\r\n        this.props.channelInfo.states.forEach(state => {\r\n            if (state.id) {\r\n                const obj = this.props.objects[state.id];\r\n                if (obj && obj.common && obj.common.alias) {\r\n                    ids[state.name] = obj.common.alias.id || '';\r\n                    this.fx[state.name] = {\r\n                        read: obj.common.alias.read || '',\r\n                        write: obj.common.alias.write || '',\r\n                    };\r\n                    if (obj.common.states) {\r\n                        states[state.name] = JSON.parse(JSON.stringify(obj.common.states));\r\n                    }\r\n                } else {\r\n                    this.fx[state.name] = { read: '', write: '' };\r\n                }\r\n\r\n                if (obj && obj.common && obj.common.custom) {\r\n                    const attr = Object.keys(obj.common.custom).filter(id => id.startsWith('linkeddevices.'));\r\n                    if (attr && attr.length && obj.common.custom[attr] && obj.common.custom[attr].parentId) {\r\n                        ids[state.name] = obj.common.custom[attr].parentId;\r\n                    }\r\n                }\r\n\r\n                if (state.defaultRole && state.defaultRole.startsWith('button')) {\r\n                    delete this.fx[state.name].read;\r\n                }\r\n                if (!state.write ||\r\n                    (state.defaultRole && (state.defaultRole.startsWith('indicator') || state.defaultRole.startsWith('value')))\r\n                ) {\r\n                    delete this.fx[state.name].write;\r\n                }\r\n            } else {\r\n                this.fx[state.name] = { read: '', write: '' };\r\n            }\r\n        });\r\n\r\n        const { addedStates } = this.updateFx(this.getAddedChannelStates(), ids, states);\r\n\r\n        this.channelId = this.props.channelInfo.channelId;\r\n        let name = '';\r\n        const channelObj = this.props.objects[this.channelId];\r\n\r\n        if (channelObj && channelObj.common) {\r\n            name = Utils.getObjectNameFromObj(channelObj, null, { language: I18n.getLanguage() });\r\n        }\r\n\r\n        const indicatorsAvailable = !!this.props.channelInfo.states.filter(item => item.indicator).length;\r\n        const indicatorsVisible   = this.channelId.startsWith('alias.') || this.channelId.startsWith('linkeddevices.') || (indicatorsAvailable && !!this.props.channelInfo.states.filter(item => item.indicator && item.id).length);\r\n        const extendedAvailable = indicatorsAvailable && (this.channelId.startsWith('alias.') || this.channelId.startsWith('linkeddevices.'));\r\n\r\n        this.state = {\r\n            ids: ids,\r\n            idsInit: JSON.parse(JSON.stringify(ids)),\r\n            name,\r\n            addedStates,\r\n            showIndicators: indicatorsAvailable && window.localStorage.getItem('Devices.editExtended') === 'true',\r\n            expertMode: true,\r\n            selectIdFor: '',\r\n            newState: false,\r\n            selectIdPrefix: '',\r\n            editFxFor: '',\r\n            newChannelId: '',\r\n            indicatorsVisible,\r\n            newChannelError: false,\r\n            startTheProcess: false,\r\n            disabledButton: false,\r\n            extendedAvailable,\r\n            indicatorsAvailable,\r\n            tab: localStorage.getItem('EditDevice.tab') ? JSON.parse(localStorage.getItem('EditDevice.tab')) || 0 : 0,\r\n            initChangeProperties: {},\r\n            changeProperties: {},\r\n            editStates: null,\r\n            states,\r\n        };\r\n\r\n        this.pattern = this.props.patterns[Object.keys(this.props.patterns)\r\n            .find(type => this.props.patterns[type].type === this.props.channelInfo.type)];\r\n    }\r\n\r\n    renderEditStates() {\r\n        if (!this.state.editStates) {\r\n            return null;\r\n        } else {\r\n            return <DialogEditStates\r\n                states={this.state.states[this.state.editStates]}\r\n                onClose={states => {\r\n                    if (states) {\r\n                        const name = this.state.editStates;\r\n                        const newStates = JSON.parse(JSON.stringify(this.state.states));\r\n                        newStates[name] = states;\r\n                        let id;\r\n                        if (this.state.ids[name]) {\r\n                            id = this.state.ids[name];\r\n                        } else {\r\n                            const added = this.state.addedStates.find(item => item.name === name);\r\n                            id = added.id;\r\n                        }\r\n\r\n                        this.setState({editStates: null, states: newStates}, () =>\r\n                            this.props.socket.getObject(id)\r\n                                .then(obj => {\r\n                                    obj.common.states = states;\r\n                                    this.props.socket.setObject(obj._id, obj);\r\n                                }));\r\n                    } else {\r\n                        this.setState({editStates: null});\r\n                    }\r\n                }}\r\n            />\r\n        }\r\n    }\r\n\r\n    getAddedChannelStates() {\r\n        const channelIds = getChannelItems(this.props.objects, this.props.channelInfo.channelId);\r\n\r\n        // Add states, that could not be detected by type-detector\r\n        return channelIds\r\n            .filter(key => !this.props.channelInfo.states.find(item => item.id === key) && this.props.objects[key].type === 'state')\r\n            .map(key => {\r\n                const objOriginal = this.props.objects[key];\r\n                return {\r\n                    defaultRole: objOriginal?.common?.role,\r\n                    id: objOriginal?._id,\r\n                    noType: true,\r\n                    name: objOriginal?.common?.name,\r\n                    type: objOriginal?.common?.type,\r\n                    write: objOriginal?.common?.write,\r\n                    indicator: false,\r\n                    required: false,\r\n                    states: objOriginal?.common?.states ? JSON.parse(JSON.stringify(objOriginal.common.states)) : undefined,\r\n                };\r\n            })\r\n            .filter(item => !this.props.channelInfo.states\r\n                .filter(item => item.defaultRole)\r\n                .find(el => el.name === item.name)\r\n            );\r\n    }\r\n\r\n    updateFx(addedStates, ids, states) {\r\n        const newIds = ids || JSON.parse(JSON.stringify(this.state.ids));\r\n        const newStates = states || JSON.parse(JSON.stringify(this.state.states));\r\n\r\n        addedStates.forEach(state => {\r\n            if (state.id) {\r\n                const obj = this.props.objects[state.id];\r\n                if (obj && obj.common && obj.common.alias) {\r\n                    newIds[state.name] = obj.common.alias.id || '';\r\n                    this.fx[state.name] = this.fx[state.name] || {\r\n                        read: obj.common.alias.read || '',\r\n                        write: obj.common.alias.write || '',\r\n                    };\r\n                } else {\r\n                    this.fx[state.name] = this.fx[state.name] || { read: '', write: '' };\r\n                }\r\n                if (obj && obj.common && obj.common.custom) {\r\n                    const attr = Object.keys(obj.common.custom).filter(id => id.startsWith('linkeddevices.'));\r\n                    if (attr && attr.length && obj.common.custom[attr] && obj.common.custom[attr].parentId) {\r\n                        newIds[state.name] = newIds[state.name] || obj.common.custom[attr].parentId;\r\n                    }\r\n                }\r\n\r\n                if (state.defaultRole && state.defaultRole.startsWith('button')) {\r\n                    delete this.fx[state.name].read;\r\n                }\r\n                if (!state.write ||\r\n                    (state.defaultRole && (state.defaultRole.startsWith('indicator') || state.defaultRole.startsWith('value')))\r\n                ) {\r\n                    delete this.fx[state.name].write;\r\n                }\r\n                if (state.states) {\r\n                    newStates[state.name] = state.states;\r\n                } else if (newStates[state.name]) {\r\n                    delete newStates[state.name];\r\n                }\r\n            } else {\r\n                this.fx[state.name] = this.fx[state.name] || { read: '', write: '' };\r\n            }\r\n        });\r\n\r\n        return { addedStates, newIds, newStates };\r\n    }\r\n\r\n    UNSAFE_componentWillReceiveProps(nextProps) {\r\n        const addedStates = this.getAddedChannelStates();\r\n        const newStates = JSON.parse(JSON.stringify(this.state.states));\r\n\r\n        addedStates.forEach(state => {\r\n            if (state.states) {\r\n                newStates[state.name] = state.states;\r\n            } else if (newStates[state.name]) {\r\n                delete newStates[state.name];\r\n            }\r\n        });\r\n\r\n        if (JSON.stringify(addedStates) !== JSON.stringify(this.state.addedStates) ||\r\n            JSON.stringify(newStates) !== JSON.stringify(this.state.states)) {\r\n            const { newIds, newStates } = this.updateFx(addedStates);\r\n\r\n            this.setState({ addedStates, ids: newIds, states: newStates });\r\n        }\r\n    }\r\n\r\n    renderSelectDialog() {\r\n        if (!this.state.selectIdFor && !this.state.newState) {\r\n            return null;\r\n        }\r\n        const selected = this.state.selectIdPrefix ? this.state.ids[this.state.selectIdFor][this.state.selectIdPrefix] : this.state.ids[this.state.selectIdFor];\r\n        return <DialogSelectID\r\n            key=\"selectDialog\"\r\n            imagePrefix=\"../..\"\r\n            socket={this.props.socket}\r\n            dialogName=\"devicesEdit\"\r\n            title={this.state.newState ? I18n.t('Importer state') : I18n.t('Select for \"%s\"',  this.state.selectIdFor)}\r\n            selected={selected || this.findRealDevice(this.state.selectIdPrefix)}\r\n            statesOnly={true}\r\n            onOk={async id => {\r\n                const ids = JSON.parse(JSON.stringify(this.state.ids));\r\n                if (!this.state.newState) {\r\n                    if (this.state.selectIdPrefix) {\r\n                        ids[this.state.selectIdFor][this.state.selectIdPrefix] = id;\r\n                    } else {\r\n                        ids[this.state.selectIdFor] = id;\r\n                    }\r\n                } else {\r\n                    const isAlias = id.startsWith('alias.') || id.startsWith('linkeddevices.');\r\n                    const obj = JSON.parse(JSON.stringify(this.props.objects[id]));\r\n                    let parts = id.split('.');\r\n                    parts = parts.pop();\r\n                    obj._id = `${this.channelId}.${parts}`;\r\n                    obj.native = {};\r\n                    obj.common.name = parts;\r\n                    if (!isAlias) {\r\n                        obj.common.alias = { id };\r\n                    }\r\n                    await this.props.socket.setObject(`${this.channelId}.${parts}`, obj);\r\n                    //const newObject = await this.props.socket.getObject(`${this.channelId}.${parts}`);\r\n                    //this.props.objects[`${this.channelId}.${parts}`] = newObject;\r\n                    //if (newObject.common) {\r\n                    //    ids[newObject.common.name] = newObject?.common?.alias?.id;\r\n                    //}\r\n                }\r\n                this.setState({ selectIdPrefix: '', selectIdFor: '', ids });\r\n            }}\r\n            onClose={() => this.setState({ selectIdFor: '', selectIdPrefix: '', newState: false })}\r\n        />;\r\n    }\r\n\r\n    handleClose = () => {\r\n        this.props.onClose && this.props.onClose(null);\r\n    }\r\n\r\n    updateNewState = async () => {\r\n        const array = this.state.addedStates.filter(item => Object.keys(this.state.ids).includes(item.name));\r\n        for (let i = 0; i < array.length; i++) {\r\n            const item = array[i];\r\n            const stateObj = this.props.objects[item.id];\r\n            stateObj.common = stateObj.common || {};\r\n            stateObj.common.alias = stateObj.common.alias || {};\r\n            stateObj.common.alias.id = this.state.ids[item.name];\r\n            if (!this.fx[item.name].read) {\r\n                delete stateObj.common.alias.read;\r\n            } else {\r\n                stateObj.common.alias.read = this.fx[item.name].read;\r\n            }\r\n            if (!this.fx[item.name].write) {\r\n                delete stateObj.common.alias.write;\r\n            } else {\r\n                stateObj.common.alias.write = this.fx[item.name].write;\r\n            }\r\n            await this.props.socket.setObject(stateObj._id, stateObj);\r\n        }\r\n    }\r\n\r\n    handleOk = async () => {\r\n        this.setState({ startTheProcess: true });\r\n        if (JSON.stringify(this.state.initChangeProperties) !== JSON.stringify(this.state.changeProperties)) {\r\n            this.props.onSaveProperties && (await this.props.onSaveProperties(this.state.changeProperties));\r\n        }\r\n        await this.props.onClose({\r\n            ids: this.state.ids,\r\n            fx: this.fx,\r\n            states: this.states,\r\n        });\r\n        await this.updateNewState();\r\n\r\n        if (this.state.changeProperties.name &&\r\n            this.state.initChangeProperties.name &&\r\n            this.state.initChangeProperties.name !== this.state.changeProperties.name\r\n        ) {\r\n            let parts = this.channelId.split('.');\r\n            parts.pop();\r\n            parts = parts.join('.');\r\n            parts = `${parts}.${this.state.changeProperties.name.replace(Utils.FORBIDDEN_CHARS, '_').replace(/\\s/g, '_').replace(/\\./g, '_')}`;\r\n            await this.props.onCopyDevice(this.channelId, parts);\r\n        }\r\n        this.setState({ startTheProcess: false });\r\n    };\r\n\r\n    showDeviceIcon() {\r\n        return <div className={this.props.classes.icon}>\r\n            <TypeIcon className={this.props.classes.deviceIconStyle} type={this.props.channelInfo.type} style={{ color: this.props.themeType === 'dark' ? '#FFFFFF' : '#000' }} />\r\n        </div>;\r\n    }\r\n\r\n    renderHeader() {\r\n        const classes = this.props.classes;\r\n\r\n        const checkIndicators = this.props.channelInfo.states\r\n            .filter(item => item.indicator && item.defaultRole)\r\n            .find(obj => this.state.ids[obj.name]);\r\n\r\n        return <div className={classes.header}>\r\n            <div className={clsx(classes.divOids, classes.headerButtons, classes.divExtended)} />\r\n            <div className={classes.menuWrapperIcons}>\r\n                {this.state.indicatorsVisible && this.state.indicatorsAvailable && !this.state.startTheProcess && <Tooltip title={I18n.t('Show hide indicators')}>\r\n                    <IconButton\r\n                        style={{ color: this.state.showIndicators ? '#4DABF5' : null, border: checkIndicators && !this.state.showIndicators ? '1px solid #4DABF5' : null }}\r\n                        onClick={() => {\r\n                            window.localStorage.setItem('Devices.editExtended', this.state.showIndicators ? 'false' : 'true');\r\n                            this.setState({ showIndicators: !this.state.showIndicators });\r\n                        }}>\r\n                        <IconExtended style={{ transform: !this.state.showIndicators ? 'rotate(180deg)' : '' }} />\r\n                    </IconButton>\r\n                </Tooltip>}\r\n                {this.state.extendedAvailable && !this.state.startTheProcess &&\r\n                    <Tooltip title={I18n.t('Add state')}>\r\n                        <IconButton\r\n                            onClick={() => addStateCallBack(\r\n                                null,\r\n                                this.props.objects,\r\n                                this.props.socket,\r\n                                this.channelId,\r\n                                this.props.channelInfo.states.filter(item => item.indicator && item.defaultRole)\r\n                            )}>\r\n                            <IconAdd />\r\n                        </IconButton>\r\n                    </Tooltip>}\r\n                {this.state.extendedAvailable && !this.state.startTheProcess &&\r\n                    <Tooltip title={I18n.t('Import state')}>\r\n                        <IconButton\r\n                            style={{ color: '#e67e229e' }}\r\n                            onClick={() => this.setState({ newState: true })}\r\n                        >\r\n                            <IconAdd />\r\n                        </IconButton>\r\n                    </Tooltip>}\r\n            </div>\r\n        </div>;\r\n    }\r\n\r\n    onDelete = async (id) => {\r\n        await this.props.socket.delObject(id);\r\n    }\r\n\r\n    findRealDevice(prefix) {\r\n        if (prefix) {\r\n            return\r\n        }\r\n        let realParent = Object.keys(this.state.ids).find(id => this.state.ids[id]);\r\n        if (realParent) {\r\n            realParent = this.state.ids[realParent];\r\n            if (typeof realParent === 'string') {\r\n                const parts = realParent.split('.');\r\n                parts.pop();\r\n                realParent = parts.join('.');\r\n            } else if (typeof realParent === 'object') {\r\n                realParent = Object.keys(realParent)[0];\r\n                const parts = realParent.split('.');\r\n                parts.pop();\r\n                realParent = parts.join('.');\r\n            }\r\n        }\r\n        return realParent || '';\r\n    }\r\n\r\n    renderSelectEnum(name) {\r\n        const enums = this.props.enumIDs.filter(id => id.startsWith('enum.' + name + '.'));\r\n        const language = I18n.getLanguage();\r\n        const objs = enums.map(id => {\r\n            return {\r\n                name: Utils.getObjectName(this.props.objects, id, { language }),\r\n                icon: Utils.getObjectIcon(id, this.props.objects[id]),\r\n                id\r\n            }\r\n        });\r\n\r\n        return <Select\r\n            className={this.props.classes.oidField}\r\n            value={this.state[name]}\r\n            multiple={true}\r\n            onChange={e => this.setState({ [name]: e.target.value })}\r\n        >\r\n            {objs.map(obj => <MenuItem key={obj.id} icon={obj.icon} value={obj.id}>\r\n                {obj.name}\r\n            </MenuItem>)}\r\n        </Select>;\r\n    }\r\n\r\n    renderEditFxDialog() {\r\n        if (!this.state.editFxFor) {\r\n            return null;\r\n        }\r\n        const fx = this.fx[this.state.editFxFor];\r\n\r\n        this.fxRead = fx.read;\r\n        this.fxWrite = fx.write;\r\n\r\n        return <Dialog\r\n            open={true}\r\n            key=\"editFxDialog\"\r\n            maxWidth=\"sm\"\r\n            onClose={() => this.setState({ editFxFor: '' })}\r\n            aria-labelledby=\"alert-dialog-title\"\r\n            aria-describedby=\"alert-dialog-description\"\r\n        >\r\n            <DialogTitle className={this.props.classes.titleBackground}\r\n                classes={{ root: this.props.classes.titleColor }}\r\n                id=\"edit-device-dialog-title\">{I18n.t('Edit read/write functions')} <b>{this.state.editFxFor}</b></DialogTitle>\r\n            <DialogContent>\r\n                <div className={this.props.classes.divDialogContent}>\r\n                    {fx.read !== undefined ? <div className={this.props.classes.funcDivEdit}>\r\n                        <div className={this.props.classes.funcEditName} style={{ fontWeight: 'bold' }}>\r\n                            {I18n.t('Read function')}\r\n                        </div>\r\n                        <TextField\r\n                            fullWidth\r\n                            defaultValue={this.fxRead}\r\n                            className={this.props.classes.funcEdit}\r\n                            onChange={e => this.fxRead = e.target.value}\r\n                            helperText={I18n.t('JS function like') + ' \"val / 5 + 21\"'}\r\n                            margin=\"normal\"\r\n                        />\r\n                    </div> : null}\r\n                    {fx.write !== undefined ? <div className={this.props.classes.funcDivEdit}>\r\n                        <div className={this.props.classes.funcEditName} style={{ fontWeight: 'bold' }}>\r\n                            {I18n.t('Write function')}\r\n                        </div>\r\n                        <TextField\r\n                            fullWidth\r\n                            defaultValue={this.fxWrite}\r\n                            helperText={I18n.t('JS function like') + ' \"(val - 21) * 5\"'}\r\n                            className={this.props.classes.funcEdit}\r\n                            onChange={e => this.fxWrite = e.target.value}\r\n                            margin=\"normal\"\r\n                        />\r\n                    </div> : null}\r\n                </div>\r\n            </DialogContent>\r\n            <DialogActions>\r\n                <Button variant=\"contained\" onClick={() => {\r\n                    this.setState({ editFxFor: '' });\r\n                    if (this.fx[this.state.editFxFor].read !== undefined) {\r\n                        this.fx[this.state.editFxFor].read = this.fxRead;\r\n                    }\r\n                    if (this.fx[this.state.editFxFor].write !== undefined) {\r\n                        this.fx[this.state.editFxFor].write = this.fxWrite;\r\n                    }\r\n                }} color=\"primary\" autoFocus>{I18n.t('Ok')}</Button>\r\n                <Button variant=\"contained\" onClick={() => this.setState({ editFxFor: '' })}>{I18n.t('Cancel')}</Button>\r\n            </DialogActions>\r\n        </Dialog>;\r\n    }\r\n\r\n    onToggleTypeStates = name => {\r\n        let stateDevice = this.state.ids[name];\r\n        if (typeof stateDevice === 'object') {\r\n            stateDevice = stateDevice.read;\r\n        } else {\r\n            stateDevice = {\r\n                read: stateDevice,\r\n                write: ''\r\n            }\r\n        }\r\n        const newIds = JSON.parse(JSON.stringify(this.state.ids));\r\n        newIds[name] = stateDevice;\r\n        this.setState({ ids: newIds });\r\n    }\r\n\r\n    static getStateIcon(name, role) {\r\n        // Get icon by role\r\n        if (role.includes('humidity')) {\r\n            return STATES_NAME_ICONS.HUMIDITY;\r\n        } else if (role.includes('color.temperature')) {\r\n            return STATES_NAME_ICONS.COLOR_TEMP;\r\n        } else if (role.includes('temperature')) {\r\n            return STATES_NAME_ICONS.TEMPERATURE;\r\n        } else if (role.includes('water')) {\r\n            return STATES_NAME_ICONS.WATER;\r\n        } else if (role.includes('fire')) {\r\n            return STATES_NAME_ICONS.FIRE;\r\n        } else if (role.includes('smoke')) {\r\n            return STATES_NAME_ICONS.SMOKE;\r\n        } else if (role.includes('speed')) {\r\n            return STATES_NAME_ICONS.SPEED;\r\n        } else if (role.includes('brightness')) {\r\n            return STATES_NAME_ICONS.BRIGHTNESS;\r\n        } else if (role.includes('motion')) {\r\n            return STATES_NAME_ICONS.MOTION;\r\n        } else if (role.includes('window')) {\r\n            return STATES_NAME_ICONS.WINDOW;\r\n        } else {\r\n            return STATES_NAME_ICONS[name] || MdHelpOutline;\r\n        }\r\n    }\r\n\r\n    renderVariable(item, isAddedName, index) {\r\n        if (!item.id && !this.channelId.startsWith('alias.') && !this.channelId.startsWith('linkeddevices.')) {\r\n            return null;\r\n        }\r\n        let props = [item.type || 'any'];\r\n        const dName = item.name.replace(/\\d+$/, '%d');\r\n        let pattern = this.pattern.states.find(state => state.name === item.name || state.name === dName);\r\n        if (item.write) props.push('write');\r\n        if (item.read) props.push('read');\r\n        if (pattern?.defaultRole) {\r\n            props.push('role=' + pattern.defaultRole);\r\n        } else if (item.defaultRole) {\r\n            props.push('role=' + item.defaultRole);\r\n        } else {\r\n            pattern?.role && props.push('role=' + pattern.role.toString());\r\n        }\r\n\r\n        if (pattern?.enums) {\r\n            const type = this.props.channelInfo.type;\r\n            if (type === 'dimmer' || type === 'light') {\r\n                props.push('enum light');\r\n            } else if (type === 'blinds' || type === 'window' || type === 'windowTilt') {\r\n                props.push('enum window');\r\n            } else if (type === 'door') {\r\n                props.push('enum door');\r\n            } else {\r\n                props.push('enum ' + this.props.channelInfo.type);\r\n            }\r\n        }\r\n\r\n        if (item.required) {\r\n            props.push('required');\r\n        }\r\n\r\n        const role = pattern?.defaultRole || (pattern?.role && pattern?.role.toString()) || item?.defaultRole || '';\r\n        const titleTooltip = <div>\r\n            {item.required && <div>{`${I18n.t('Required')}: true`}</div>}\r\n            <div>{`${I18n.t('Type')}: ${item.type || 'any'}`}</div>\r\n            <div>{`${I18n.t('Writable')}: ${!!item.write}`}</div>\r\n            {role && <div>{`${I18n.t('Role')}: ${pattern?.defaultRole || (pattern?.role && pattern?.role.toString()) || item?.defaultRole || ''}`}</div>}\r\n        </div>\r\n\r\n        ////////////// ImportExportIcon\r\n        const alias = this.channelId.startsWith('alias.');\r\n        const linkedDevices = this.channelId.startsWith('linkeddevices.');\r\n        const name = item.name;\r\n\r\n        // Get icon by role\r\n        const IconsState = DialogEditDevice.getStateIcon(name, role);\r\n\r\n        if (typeof this.state.ids[name] === 'object') {\r\n            return <div key={name + '_' + index}>\r\n                <div\r\n                    className={clsx(this.props.classes.divOidField, this.props.classes.divOidFieldObj)}\r\n                    style={!item.id && !this.state.ids[name] ? { opacity: 0.6 } : {}}\r\n                >\r\n                    <div className={this.props.classes.displayFlex}>\r\n                        <div className={this.props.classes.displayFlexRow}>\r\n                            <Tooltip title={titleTooltip}>\r\n                                <div className={this.props.classes.wrapperOidName}>\r\n                                    <div className={this.props.classes.wrapperOidNameIcon}>\r\n                                        <IconsState className={clsx(this.props.classes.oidNameIcon, isAddedName === 'add' && this.props.classes.addedName, isAddedName === 'indicators' && this.props.classes.indicators)} />\r\n                                    </div>\r\n                                    <div className={clsx(this.props.classes.oidName, isAddedName === 'add' && this.props.classes.addedName, isAddedName === 'indicators' && this.props.classes.indicators)} style={{ fontWeight: item.required ? 'bold' : null }}>\r\n                                        {(item.required ? '*' : '') + name}\r\n                                        <div className={this.props.classes.stateSubCategory}>{I18n.t('alias_read')}</div>\r\n                                    </div>\r\n                                </div>\r\n                            </Tooltip>\r\n                            <div className={this.props.classes.wrapperButtonsAndOidField}>\r\n                                <TextField\r\n                                    key={name}\r\n                                    fullWidth\r\n                                    disabled={(!alias && !linkedDevices) || this.state.startTheProcess}\r\n                                    value={this.state.ids[name].read}\r\n                                    className={clsx(this.props.classes.oidField, this.props.classes.width100)}\r\n                                    style={{ paddingTop: 8 }}\r\n                                    onChange={e => {\r\n                                        const ids = JSON.parse(JSON.stringify(this.state.ids));\r\n                                        ids[name].read = e.target.value;\r\n                                        this.setState({ ids });\r\n                                    }}\r\n                                    FormHelperTextProps={{ className: this.props.classes.helperText }}\r\n                                    helperText={`${props.join(', ')}`}\r\n                                    margin=\"normal\"\r\n                                />\r\n                                <div className={this.props.classes.wrapperItemButtons}>\r\n                                    {(alias || linkedDevices) && !this.state.startTheProcess && <Tooltip title={I18n.t('Select ID')}>\r\n                                        <IconButton size=\"small\"  onClick={() => this.setState({ selectIdFor: name, selectIdPrefix: 'read' })}>\r\n                                            <IconEdit />\r\n                                        </IconButton>\r\n                                    </Tooltip>}\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div className={this.props.classes.displayFlexRow}>\r\n                            <Tooltip title={titleTooltip}>\r\n                                <div className={this.props.classes.wrapperOidName}>\r\n                                    <div className={this.props.classes.wrapperOidNameIcon}>\r\n                                        <IconsState className={clsx(this.props.classes.oidNameIcon, isAddedName === 'add' && this.props.classes.addedName, isAddedName === 'indicators' && this.props.classes.indicators)} />\r\n                                    </div>\r\n                                    <div className={clsx(this.props.classes.oidName, isAddedName === 'add' && this.props.classes.addedName, isAddedName === 'indicators' && this.props.classes.indicators)} style={{ fontWeight: item.required ? 'bold' : null }}>\r\n                                        {(item.required ? '*' : '') + name}\r\n                                        <div className={this.props.classes.stateSubCategory}>{I18n.t('alias_write')}</div>\r\n                                    </div>\r\n                                </div>\r\n                            </Tooltip>\r\n                            <div className={this.props.classes.wrapperButtonsAndOidField}>\r\n                                <TextField\r\n                                    key={name}\r\n                                    fullWidth\r\n                                    disabled={(!alias && !linkedDevices) || this.state.startTheProcess}\r\n                                    value={this.state.ids[name].write}\r\n                                    className={clsx(this.props.classes.oidField, this.props.classes.width100)}\r\n                                    style={{ paddingTop: 8 }}\r\n                                    onChange={e => {\r\n                                        const ids = JSON.parse(JSON.stringify(this.state.ids));\r\n                                        ids[name].write = e.target.value;\r\n                                        this.setState({ ids });\r\n                                    }}\r\n                                    FormHelperTextProps={{ className: this.props.classes.helperText }}\r\n                                    helperText={`${props.join(', ')}`}\r\n                                    margin=\"normal\"\r\n                                />\r\n                                <div className={this.props.classes.wrapperItemButtons}>\r\n                                    {(alias || linkedDevices) && !this.state.startTheProcess && <Tooltip title={I18n.t('Select ID')}>\r\n                                        <IconButton size=\"small\"  onClick={() => this.setState({ selectIdFor: name, selectIdPrefix: 'write' })}>\r\n                                            <IconEdit />\r\n                                        </IconButton>\r\n                                    </Tooltip>}\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div className={this.props.classes.wrapperItemButtons}>\r\n                        {(alias || linkedDevices) && !this.state.startTheProcess && <Tooltip title={I18n.t('Use one state for read and write')}>\r\n                            <IconButton size=\"small\"  color=\"primary\" onClick={() => this.onToggleTypeStates(name)}>\r\n                                <ImportExportIcon />\r\n                            </IconButton>\r\n                        </Tooltip>}\r\n                        {(this.state.ids[name].read || this.state.ids[name].write) && alias && this.state.ids[name] && !this.state.startTheProcess ? <Tooltip title={I18n.t('Edit convert functions')}>\r\n                            <IconButton size=\"small\"  onClick={() => this.setState({ editFxFor: name })}>\r\n                                <IconFunction />\r\n                            </IconButton>\r\n                        </Tooltip> : item.noType ? '' : <div className={this.props.classes.emptyButton} />}\r\n                        {isAddedName === 'add' && <Tooltip title={I18n.t('Edit state')}>\r\n                            <IconButton size=\"small\" className={clsx(this.props.classes.addedName)}\r\n                                onClick={() => addStateCallBack(\r\n                                    async obj => {\r\n                                        if (obj) {\r\n                                            if (obj.common.name !== name) {\r\n                                                this.onDelete(item.id);\r\n                                                const newIds = JSON.parse(JSON.stringify(this.state.ids));\r\n                                                const newValue = newIds[name];\r\n                                                delete newIds[name];\r\n                                                newIds[obj.common.name] = newValue;\r\n                                                this.setState({ids:newIds});\r\n                                            }\r\n                                        }\r\n                                    },\r\n                                    this.props.objects,\r\n                                    this.props.socket,\r\n                                    this.channelId,\r\n                                    this.props.channelInfo.states.filter(item => item.indicator && item.defaultRole),\r\n                                    item.id\r\n                                )}>\r\n                                <IconEdit />\r\n                            </IconButton>\r\n                        </Tooltip>}\r\n                        {this.state.states[name] && !this.state.startTheProcess && <Tooltip title={I18n.t('Edit states')}>\r\n                            <IconButton size=\"small\" onClick={() => this.setState({editStates: name})}>\r\n                                <IconEditStates />\r\n                            </IconButton>\r\n                        </Tooltip>}\r\n                        {item.noType && !this.state.startTheProcess && <Tooltip title={I18n.t('Delete state')}>\r\n                            <IconButton size=\"small\"  onClick={() => this.onDelete(item.id)}>\r\n                                <IconDelete />\r\n                            </IconButton>\r\n                        </Tooltip>}\r\n                    </div>\r\n                </div>\r\n            </div>;\r\n        } else {\r\n            return <div key={name + '_' + index} className={clsx(this.props.classes.divOidField)} style={!item.id && !this.state.ids[name] ? { opacity: 0.6 } : {}}>\r\n                <Tooltip title={titleTooltip}>\r\n                    <div className={this.props.classes.wrapperOidName}>\r\n                        <div className={this.props.classes.wrapperOidNameIcon}>\r\n                            <IconsState className={clsx(this.props.classes.oidNameIcon, isAddedName === 'add' && this.props.classes.addedName, isAddedName === 'indicators' && this.props.classes.indicators)} />\r\n                        </div>\r\n                        <div className={clsx(this.props.classes.oidName, isAddedName === 'add' && this.props.classes.addedName, isAddedName === 'indicators' && this.props.classes.indicators)} style={{ fontWeight: item.required ? 'bold' : null }}>\r\n                            {(item.required ? '*' : '') + name}\r\n                        </div>\r\n                    </div>\r\n                </Tooltip>\r\n                <div className={this.props.classes.wrapperButtonsAndOidField}>\r\n                    <TextField\r\n                        fullWidth\r\n                        disabled={(!alias && !linkedDevices) || this.state.startTheProcess}\r\n                        value={(alias || linkedDevices) ? this.state.ids[name] || '' : item.id || ''}\r\n                        className={this.props.classes.oidField}\r\n                        style={{ paddingTop: 8 }}\r\n                        onChange={e => {\r\n                            const ids = JSON.parse(JSON.stringify(this.state.ids));\r\n                            ids[name] = e.target.value;\r\n                            this.setState({ ids });\r\n                        }}\r\n                        FormHelperTextProps={{\r\n                            className: this.props.classes.helperText\r\n                        }}\r\n                        helperText={props.join(', ')}\r\n                        margin=\"normal\"\r\n                    />\r\n                    <div className={this.props.classes.wrapperItemButtons}>\r\n                        {(alias || linkedDevices) && !this.state.startTheProcess && <Tooltip title={I18n.t('Select ID')}>\r\n                            <IconButton size=\"small\"  onClick={() => this.setState({ selectIdFor: name })}>\r\n                                <IconEdit />\r\n                            </IconButton>\r\n                        </Tooltip>}\r\n                        {(alias || linkedDevices) && !this.state.startTheProcess && <Tooltip title={I18n.t('Use different states for read and write')}>\r\n                            <IconButton size=\"small\"  onClick={() => this.onToggleTypeStates(name)}>\r\n                                <ImportExportIcon />\r\n                            </IconButton>\r\n                        </Tooltip>}\r\n                        {alias && this.state.ids[name] && !this.state.startTheProcess ? <Tooltip title={I18n.t('Edit convert functions')}>\r\n                            <IconButton size=\"small\"  onClick={() => this.setState({ editFxFor: name })}>\r\n                                <IconFunction />\r\n                            </IconButton>\r\n                        </Tooltip> : item.noType ? '' : <div className={this.props.classes.emptyButton} />}\r\n                        {isAddedName === 'add' && <Tooltip title={I18n.t('Edit state')}>\r\n                            <IconButton size=\"small\" className={this.props.classes.addedName}\r\n                                onClick={() => addStateCallBack(\r\n                                    async obj => {\r\n                                        if (obj) {\r\n                                            if (obj.common.name !== name) {\r\n                                                this.onDelete(item.id);\r\n                                                const newIds = JSON.parse(JSON.stringify(this.state.ids));\r\n                                                const newValue = newIds[name];\r\n                                                delete newIds[name];\r\n                                                newIds[obj.common.name] = newValue;\r\n                                                this.setState({ids:newIds});\r\n                                            }\r\n                                        }\r\n                                    },\r\n                                    this.props.objects,\r\n                                    this.props.socket,\r\n                                    this.channelId,\r\n                                    this.props.channelInfo.states.filter(item => item.indicator && item.defaultRole),\r\n                                    item.id\r\n                                )}>\r\n                                <IconEdit />\r\n                            </IconButton>\r\n                        </Tooltip>}\r\n                        {this.state.states[item.name] && !this.state.startTheProcess && <Tooltip title={I18n.t('Edit states')}>\r\n                            <IconButton size=\"small\" onClick={() => this.setState({editStates: item.name})}>\r\n                                <IconEditStates />\r\n                            </IconButton>\r\n                        </Tooltip>}\r\n                        {item.noType && !this.state.startTheProcess && <Tooltip title={I18n.t('Delete state')}>\r\n                            <IconButton size=\"small\"  onClick={() => this.onDelete(item.id)}>\r\n                                <IconDelete />\r\n                            </IconButton>\r\n                        </Tooltip>}\r\n                    </div>\r\n                </div>\r\n            </div>;\r\n        }\r\n    }\r\n\r\n    renderVariables() {\r\n        return <div key=\"vars\" className={clsx(this.props.classes.divOids, this.props.classes.divCollapsed)}>\r\n            {this.props.channelInfo.states.filter(item => !item.indicator && item.defaultRole).map((item, i) => this.renderVariable(item, 'def', i))}\r\n            {this.state.extendedAvailable && this.state.addedStates.map((item, i) => this.renderVariable(item, 'add', i))}\r\n            {this.state.indicatorsVisible && this.state.showIndicators && this.state.indicatorsAvailable &&\r\n                <div className={this.props.classes.wrapperHeaderIndicators}>\r\n                    <div className={this.props.classes.headerIndicatorsLine} />\r\n                    <div className={this.props.classes.headerIndicatorsName}>{I18n.t('Indicators')}</div>\r\n                    <div className={this.props.classes.headerIndicatorsLine} />\r\n                </div>}\r\n            {this.state.indicatorsVisible && this.state.showIndicators && this.state.indicatorsAvailable &&\r\n                this.props.channelInfo.states\r\n                    .filter(item => item.indicator && item.defaultRole)\r\n                    .map(item => this.renderVariable(item, 'indicators'))}\r\n        </div>;\r\n    }\r\n\r\n    a11yProps(index) {\r\n        return {\r\n            id: `scrollable-auto-tab-${index}`,\r\n            'aria-controls': `scrollable-auto-tabpanel-${index}`,\r\n        };\r\n    }\r\n\r\n    render() {\r\n        return <Dialog\r\n            key=\"editDialog\"\r\n            open={true}\r\n            maxWidth=\"md\"\r\n            fullWidth={true}\r\n            classes={{ paper: this.props.classes.mobileWidth }}\r\n            aria-labelledby=\"alert-dialog-title\"\r\n            aria-describedby=\"alert-dialog-description\"\r\n        >\r\n            {this.renderSelectDialog()}\r\n            {this.renderEditFxDialog()}\r\n            <DialogTitle className={this.props.classes.titleHead}\r\n                classes={{ root: this.props.classes.titleColor }}\r\n                id=\"edit-device-dialog-title\">{I18n.t('Edit device')} <b>{this.channelId}</b></DialogTitle>\r\n            <DialogContent className={this.props.classes.content}>\r\n                <AppBar style={{ top: 0 }} position=\"sticky\" color=\"default\">\r\n                    {this.state.startTheProcess && <LinearProgress />}\r\n                    <div className={this.props.classes.wrapperIconHead}>\r\n                        <div className={this.props.classes.iconStyle}>{this.showDeviceIcon()}</div>\r\n                        <span className={this.props.classes.deviceText}>{I18n.t('type-' + this.props.channelInfo.type)}</span>\r\n                    </div>\r\n                    <Tabs\r\n                        value={this.state.tab}\r\n                        className={this.props.classes.tab}\r\n                        classes={{\r\n                            indicator: this.props.classes.indicator\r\n                        }}\r\n                        onChange={(_, newTab) => this.setState({ tab: newTab }, () => {\r\n                            localStorage.setItem('EditDevice.tab', newTab);\r\n                        })}\r\n                        indicatorColor=\"primary\"\r\n                        textColor=\"primary\"\r\n                        variant=\"scrollable\"\r\n                        scrollButtons=\"auto\"\r\n                        aria-label=\"scrollable auto tabs example\"\r\n                    >\r\n                        <Tab disabled={this.state.startTheProcess} label={I18n.t('General')} {...this.a11yProps(0)} />\r\n                        <Tab disabled={this.state.startTheProcess} label={I18n.t('States')} {...this.a11yProps(1)} />\r\n                    </Tabs>\r\n                </AppBar>\r\n                <TabPanel classes={this.props.classes} value={this.state.tab} index={0}>\r\n                    <DialogEditProperties\r\n                        channelId={this.props.channelId}\r\n                        disabled={this.state.startTheProcess}\r\n                        type={this.props.type}\r\n                        iot={this.props.iot}\r\n                        iotNoCommon={this.props.iotNoCommon}\r\n                        objects={this.props.objects}\r\n                        patterns={this.props.patterns}\r\n                        enumIDs={this.props.enumIDs}\r\n                        socket={this.props.socket}\r\n                        changeProperties={this.state.changeProperties}\r\n                        onChange={(state, initState, disabledButton) => {\r\n                            if (initState) {\r\n                                // TODO unclear! why immediately after setstate the settings are reset\r\n                                return this.setState({ initChangeProperties: initState, changeProperties: initState, disabledButton: false }, () =>\r\n                                    this.setState({ changeProperties: state, disabledButton }));\r\n                            } else {\r\n                                this.setState({ changeProperties: state, disabledButton });\r\n                            }\r\n                        }}\r\n                    />\r\n                </TabPanel>\r\n                <TabPanel classes={this.props.classes} value={this.state.tab} index={1}>\r\n                    <div className={this.props.classes.divDialogContent}>\r\n                        {this.renderHeader()}\r\n                        {this.renderVariables()}\r\n                    </div>\r\n                </TabPanel>\r\n\r\n            </DialogContent>\r\n            <DialogActions>\r\n                <Button\r\n                    variant=\"contained\"\r\n                    disabled={(JSON.stringify(this.state.initChangeProperties) === JSON.stringify(this.state.changeProperties) && JSON.stringify(this.state.ids) === JSON.stringify(this.state.idsInit)) || this.state.disabledButton || this.state.startTheProcess}\r\n                    onClick={async () => await this.handleOk()}\r\n                    startIcon={<IconCheck />}\r\n                    color=\"primary\">{I18n.t('Save')}</Button>\r\n                <Button\r\n                    variant=\"contained\"\r\n                    disabled={this.state.startTheProcess}\r\n                    onClick={this.handleClose}\r\n                    startIcon={<IconClose />}\r\n                >{I18n.t('Cancel')}</Button>\r\n            </DialogActions>\r\n            {this.renderEditStates()}\r\n        </Dialog>;\r\n    }\r\n}\r\n\r\nDialogEditDevice.propTypes = {\r\n    channelId: PropTypes.string,\r\n    onClose: PropTypes.func,\r\n    patterns: PropTypes.object,\r\n    channelInfo: PropTypes.object,\r\n    objects: PropTypes.object,\r\n    enumIDs: PropTypes.array,\r\n    states: PropTypes.object,\r\n    socket: PropTypes.object,\r\n    themeType: PropTypes.string,\r\n    onCopyDevice: PropTypes.func,\r\n    onSaveProperties: PropTypes.func,\r\n};\r\n\r\nexport default withStyles(styles)(DialogEditDevice);\r\n","function binarySearch(array, sValue, argStart, argLen) {\r\n    // Range of [start, start+len): only start is inclusive. It works\r\n    // similarly to \"...\".substr(start, len).indexOf(sValue)\r\n    // `void 0` is shorthand for `undefined`\r\n    const start = (argStart === void 0 ? 0 : argStart) | 0;\r\n    let len = (argLen === void 0 ? (array.length|0) - start : argLen) | 0;\r\n    len = len - 1 | 0;\r\n\r\n    if (len & 0x80000000) {\r\n        const nCB = len & 0x80000000;\r\n        len ^= (len ^ (nCB - 1)) & ((array[start + nCB|0] <= sValue |0) - 1 >>> 0);\r\n    }\r\n    if (len & 0x40000000) {\r\n        const nCB = len & 0xc0000000;\r\n        len ^= (len ^ (nCB - 1)) & ((array[start + nCB|0] <= sValue |0) - 1 >>> 0);\r\n    }\r\n    if (len & 0x20000000) {\r\n        const nCB = len & 0xe0000000;\r\n        len ^= (len ^ (nCB - 1)) & ((array[start + nCB|0] <= sValue |0) - 1 >>> 0);\r\n    }\r\n    if (len & 0x10000000) {\r\n        const nCB = len & 0xf0000000;\r\n        len ^= (len ^ (nCB - 1)) & ((array[start + nCB|0] <= sValue |0) - 1 >>> 0);\r\n    }\r\n    if (len & 0x8000000) {\r\n        const nCB = len & 0xf8000000;\r\n        len ^= (len ^ (nCB - 1)) & ((array[start + nCB|0] <= sValue |0) - 1 >>> 0);\r\n    }\r\n    if (len & 0x4000000) {\r\n        const nCB = len & 0xfc000000;\r\n        len ^= (len ^ (nCB - 1)) & ((array[start + nCB|0] <= sValue |0) - 1 >>> 0);\r\n    }\r\n    if (len & 0x2000000) {\r\n        const nCB = len & 0xfe000000;\r\n        len ^= (len ^ (nCB - 1)) & ((array[start + nCB|0] <= sValue |0) - 1 >>> 0);\r\n    }\r\n    if (len & 0x1000000) {\r\n        const nCB = len & 0xff000000;\r\n        len ^= (len ^ (nCB - 1)) & ((array[start + nCB|0] <= sValue |0) - 1 >>> 0);\r\n    }\r\n    if (len & 0x800000) {\r\n        const nCB = len & 0xff800000;\r\n        len ^= (len ^ (nCB - 1)) & ((array[start + nCB|0] <= sValue |0) - 1 >>> 0);\r\n    }\r\n    if (len & 0x400000) {\r\n        const nCB = len & 0xffc00000;\r\n        len ^= (len ^ (nCB - 1)) & ((array[start + nCB|0] <= sValue |0) - 1 >>> 0);\r\n    }\r\n    if (len & 0x200000) {\r\n        const nCB = len & 0xffe00000;\r\n        len ^= (len ^ (nCB - 1)) & ((array[start + nCB|0] <= sValue |0) - 1 >>> 0);\r\n    }\r\n    if (len & 0x100000) {\r\n        const nCB = len & 0xfff00000;\r\n        len ^= (len ^ (nCB - 1)) & ((array[start + nCB|0] <= sValue |0) - 1 >>> 0);\r\n    }\r\n    if (len & 0x80000) {\r\n        const nCB = len & 0xfff80000;\r\n        len ^= (len ^ (nCB - 1)) & ((array[start + nCB|0] <= sValue |0) - 1 >>> 0);\r\n    }\r\n    if (len & 0x40000) {\r\n        const nCB = len & 0xfffc0000;\r\n        len ^= (len ^ (nCB - 1)) & ((array[start + nCB|0] <= sValue |0) - 1 >>> 0);\r\n    }\r\n    if (len & 0x20000) {\r\n        const nCB = len & 0xfffe0000;\r\n        len ^= (len ^ (nCB - 1)) & ((array[start + nCB|0] <= sValue |0) - 1 >>> 0);\r\n    }\r\n    if (len & 0x10000) {\r\n        const nCB = len & 0xffff0000;\r\n        len ^= (len ^ (nCB - 1)) & ((array[start + nCB|0] <= sValue |0) - 1 >>> 0);\r\n    }\r\n    if (len & 0x8000) {\r\n        const nCB = len & 0xffff8000;\r\n        len ^= (len ^ (nCB - 1)) & ((array[start + nCB|0] <= sValue |0) - 1 >>> 0);\r\n    }\r\n    if (len & 0x4000) {\r\n        const nCB = len & 0xffffc000;\r\n        len ^= (len ^ (nCB - 1)) & ((array[start + nCB|0] <= sValue |0) - 1 >>> 0);\r\n    }\r\n    if (len & 0x2000) {\r\n        const nCB = len & 0xffffe000;\r\n        len ^= (len ^ (nCB - 1)) & ((array[start + nCB|0] <= sValue |0) - 1 >>> 0);\r\n    }\r\n    if (len & 0x1000) {\r\n        const nCB = len & 0xfffff000;\r\n        len ^= (len ^ (nCB - 1)) & ((array[start + nCB|0] <= sValue |0) - 1 >>> 0);\r\n    }\r\n    if (len & 0x800) {\r\n        const nCB = len & 0xfffff800;\r\n        len ^= (len ^ (nCB - 1)) & ((array[start + nCB|0] <= sValue |0) - 1 >>> 0);\r\n    }\r\n    if (len & 0x400) {\r\n        const nCB = len & 0xfffffc00;\r\n        len ^= (len ^ (nCB - 1)) & ((array[start + nCB|0] <= sValue |0) - 1 >>> 0);\r\n    }\r\n    if (len & 0x200) {\r\n        const nCB = len & 0xfffffe00;\r\n        len ^= (len ^ (nCB - 1)) & ((array[start + nCB|0] <= sValue |0) - 1 >>> 0);\r\n    }\r\n    if (len & 0x100) {\r\n        const nCB = len & 0xffffff00;\r\n        len ^= (len ^ (nCB - 1)) & ((array[start + nCB|0] <= sValue |0) - 1 >>> 0);\r\n    }\r\n    if (len & 0x80) {\r\n        const nCB = len & 0xffffff80;\r\n        len ^= (len ^ (nCB - 1)) & ((array[start + nCB|0] <= sValue |0) - 1 >>> 0);\r\n    }\r\n    if (len & 0x40) {\r\n        const nCB = len & 0xffffffc0;\r\n        len ^= (len ^ (nCB - 1)) & ((array[start + nCB|0] <= sValue |0) - 1 >>> 0);\r\n    }\r\n    if (len & 0x20) {\r\n        const nCB = len & 0xffffffe0;\r\n        len ^= (len ^ (nCB - 1)) & ((array[start + nCB|0] <= sValue |0) - 1 >>> 0);\r\n    }\r\n    if (len & 0x10) {\r\n        const nCB = len & 0xfffffff0;\r\n        len ^= (len ^ (nCB - 1)) & ((array[start + nCB|0] <= sValue |0) - 1 >>> 0);\r\n    }\r\n    if (len & 0x8) {\r\n        const nCB = len & 0xfffffff8;\r\n        len ^= (len ^ (nCB - 1)) & ((array[start + nCB|0] <= sValue |0) - 1 >>> 0);\r\n    }\r\n    if (len & 0x4) {\r\n        const nCB = len & 0xfffffffc;\r\n        len ^= (len ^ (nCB - 1)) & ((array[start + nCB|0] <= sValue |0) - 1 >>> 0);\r\n    }\r\n    if (len & 0x2) {\r\n        const nCB = len & 0xfffffffe;\r\n        len ^= (len ^ (nCB - 1)) & ((array[start + nCB|0] <= sValue |0) - 1 >>> 0);\r\n    }\r\n    if (len & 0x1) {\r\n        const nCB = len & 0xffffffff;\r\n        len ^= (len ^ (nCB - 1)) & ((array[start + nCB|0] <= sValue |0) - 1 >>> 0);\r\n    }\r\n    if (array[start+len|0] !== sValue) {\r\n        // remove this if-statement to return the next closest\r\n        // element going downwards from the searched-for value\r\n        // OR 0 if the value is less than all values in the\r\n        // array. https://stackoverflow.com/a/44981570/5601591\r\n        return -1 - start - len | 0;\r\n    }\r\n    return start + len | 0;\r\n}\r\n\r\nfunction getChannelItems(objects, channelId, _sortedKeys) {\r\n    _sortedKeys = _sortedKeys || Object.keys(objects).sort();\r\n    const channelPrefix = channelId + '.';\r\n    const channelPrefixEnd = channelId + '.\\u9999';\r\n    const result = [];\r\n    for (let i = 0; i < _sortedKeys.length; i++) {\r\n        const id = _sortedKeys[i];\r\n        if (id < channelPrefix) {\r\n\r\n        } else if (id > channelPrefixEnd) {\r\n            break;\r\n        } else if (id.startsWith(channelPrefix)) {\r\n            result.push(id);\r\n        }\r\n    }\r\n\r\n    return result;\r\n}\r\n\r\nexport { binarySearch, getChannelItems };","/**\r\n * Copyright 2019-2021 bluefox <dogafox@gmail.com>\r\n *\r\n * MIT License\r\n *\r\n **/\r\nimport React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Select from '@material-ui/core/Select';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport IconClose from '@material-ui/icons/Close';\r\nimport IconCheck from '@material-ui/icons/Check';\r\n\r\nimport { Types } from 'iobroker.type-detector';\r\nimport I18n from '@iobroker/adapter-react/i18n';\r\nimport Utils, { FORBIDDEN_CHARS } from '@iobroker/adapter-react/Components/Utils';\r\nimport Icon from '@iobroker/adapter-react/Components/Icon';\r\n\r\n// import TreeView from '../Components/TreeView';\r\nimport TypeIcon from '../Components/TypeIcon';\r\nimport TYPE_OPTIONS, { ICONS_TYPE } from '../Components/TypeOptions';\r\nimport { Checkbox, FormControlLabel } from '@material-ui/core';\r\n\r\nconst styles = theme => ({\r\n    header: {\r\n        width: '100%',\r\n        fontSize: 16,\r\n        textTransform: 'capitalize',\r\n        textAlign: 'center',\r\n        paddingBottom: 20,\r\n        color: '#000',\r\n    },\r\n    nameDiv: {\r\n        width: '50%',\r\n        display: 'inline-block',\r\n        verticalAlign: 'top',\r\n    },\r\n    viewDiv: {\r\n        width: '50%',\r\n        display: 'inline-block',\r\n    },\r\n    type: {\r\n        marginTop: 10\r\n    },\r\n    input: {\r\n        width: 200\r\n    },\r\n    icon: {\r\n        display: 'inline-block',\r\n    },\r\n    selectIcon: {\r\n        paddingRight: theme.spacing(1),\r\n        verticalAlign: 'middle',\r\n        width: 20,\r\n        height: 20\r\n    },\r\n    selectText: {\r\n        verticalAlign: 'middle',\r\n    },\r\n    enumIcon: {\r\n        width: 24,\r\n        height: 24,\r\n        marginRight: 10\r\n    },\r\n    renderValueWrapper: {\r\n        display: 'flex'\r\n    },\r\n    renderValueCurrent: {\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        marginRight: 10\r\n    },\r\n    blockFields: {\r\n        display: 'flex',\r\n        flex: 1,\r\n        width: '100%',\r\n        flexDirection: 'column',\r\n        margin: 5\r\n    },\r\n    container: {\r\n        display: 'flex',\r\n        overflowX: 'hidden',\r\n        flexFlow: 'wrap'\r\n    },\r\n    treeDiv: {\r\n        width: '100%',\r\n        flex: 1,\r\n        margin: 5,\r\n        overflow: 'hidden'\r\n    },\r\n    titleColor: {\r\n        '& h2': {\r\n            overflow: 'hidden',\r\n            direction: 'rtl',\r\n            textOverflow: 'ellipsis',\r\n            textAlign: 'end'\r\n        },\r\n    },\r\n    iconStyle: {\r\n        width: 16,\r\n        height: 16,\r\n        margin: '0 3px'\r\n    },\r\n    emptyIcon: {\r\n        width: 16,\r\n        height: 16,\r\n        margin: '0 3px'\r\n    },\r\n    itemChildrenWrapper: {\r\n        display: 'flex',\r\n        width: '100%',\r\n        justifyContent: 'space-between'\r\n    },\r\n    iconWrapper: {\r\n        display: 'flex',\r\n        alignItems: 'center'\r\n    }\r\n});\r\n\r\nconst UNSUPPORTED_TYPES = [\r\n    Types.unknown,\r\n    Types.instance,\r\n    Types.chart,\r\n];\r\n\r\nfunction getParentId(id) {\r\n    const pos = id.lastIndexOf('.');\r\n    if (pos !== -1) {\r\n        return id.substring(0, pos);\r\n    } else {\r\n        return '';\r\n    }\r\n}\r\n\r\nfunction getLastPart(id) {\r\n    const pos = id.lastIndexOf('.');\r\n    if (pos !== -1) {\r\n        return id.substring(pos + 1);\r\n    } else {\r\n        return id;\r\n    }\r\n}\r\n\r\nclass DialogNewDevice extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        let i = 1;\r\n\r\n        this.prefix = this.props.prefix || 'alias.0';\r\n\r\n        while (this.props.objects[`${this.prefix}.${I18n.t('Device')}_${i}`]) {\r\n            i++;\r\n        }\r\n\r\n        const prefix = this.prefix.startsWith('alias.') ? this.prefix.replace(/\\d+$/, '') : this.prefix; // alias.0 => alias.\r\n\r\n        // filter aliases\r\n        const ids = [];\r\n\r\n        Object.keys(this.props.objects).forEach(id => {\r\n            if (id.startsWith(prefix) &&\r\n                this.props.objects[id] &&\r\n                this.props.objects[id].common &&\r\n                (this.props.objects[id].type === 'channel' || this.props.objects[id].type === 'device' || this.props.objects[id].type === 'folder')) {\r\n                let parentId;\r\n                // getParentId\r\n                if (this.props.objects[id].type === 'folder') {\r\n                    parentId = id;\r\n                } else {\r\n                    parentId = getParentId(id);\r\n                }\r\n\r\n                if (parentId && !ids.includes(parentId)) {\r\n                    ids.push(parentId);\r\n                }\r\n            }\r\n        });\r\n\r\n        this.typesWords = {};\r\n        Object.keys(Types)\r\n            .filter(id => !UNSUPPORTED_TYPES.includes(id))\r\n            .forEach(typeId => this.typesWords[typeId] = I18n.t('type-' + Types[typeId]));\r\n\r\n        // sort types by ABC in the current language\r\n        this.types = Object.keys(this.typesWords).sort((a, b) => {\r\n            if (this.typesWords[a] === this.typesWords[b]) {\r\n                return 0;\r\n            } else\r\n                if (this.typesWords[a] > this.typesWords[b]) {\r\n                    return 1;\r\n                } else {\r\n                    return -1;\r\n                }\r\n        });\r\n\r\n        const stateIds = {};\r\n        const language = I18n.getLanguage();\r\n        ids.forEach(id => stateIds[id] = {\r\n            common: {\r\n                name: this.props.objects[id] && this.props.objects[id].type === 'folder' ? Utils.getObjectName(this.props.objects, id, { language }) : getLastPart(id),\r\n                nondeletable: true,\r\n                color: this.props.objects[id]?.common && this.props.objects[id].common.color ? this.props.objects[id].common.color : null,\r\n                icon: this.props.objects[id]?.common && this.props.objects[id].common.icon ? this.props.objects[id].common.icon : null\r\n            },\r\n            type: 'folder'\r\n        });\r\n\r\n        stateIds[this.prefix] = {\r\n            common: {\r\n                name: I18n.t('Root'),\r\n                nondeletable: true\r\n            },\r\n            type: 'folder'\r\n        };\r\n        let functions = [];\r\n        let rooms = [];\r\n        try {\r\n            functions = JSON.parse(window.localStorage.getItem('Devices.new.functions') || '[]');\r\n            rooms = JSON.parse(window.localStorage.getItem('Devices.new.rooms') || '[]');\r\n        } catch (e) {\r\n\r\n        }\r\n\r\n        let root = window.localStorage.getItem('NewDeviceRoot');\r\n        if (!root || this.props.prefix.includes('alias') !== root.includes('alias') || !this.props.objects[root]) {\r\n            root = null;\r\n        }\r\n\r\n        if ((this.props.selected.startsWith('alias') && this.props.prefix.startsWith('alias.0'))) {\r\n            const checkIdSelected = (newPart = this.props.selected) => {\r\n                if (this.props.objects[newPart]?.type && this.props.objects[newPart]?.type !== 'folder') {\r\n                    let parts = newPart.split('.');\r\n                    parts.pop();\r\n                    parts = parts.join('.');\r\n                    return checkIdSelected(parts);\r\n                }\r\n                return newPart\r\n            }\r\n            root = checkIdSelected();\r\n        }\r\n\r\n        if (root?.startsWith('alias.0.automatically_detected') || root?.startsWith('alias.0.linked_devices')){\r\n            root = this.prefix;\r\n        }\r\n\r\n        this.state = {\r\n            root: root?.startsWith(this.prefix) ? root : this.prefix,\r\n            name: this.props.copyDevice ? `${this.props.copyDevice.name}-copy` : I18n.t('Device') + ' ' + i,\r\n            notUnique: false,\r\n            functions,\r\n            rooms,\r\n            type: window.localStorage.getItem('Devices.newType') || 'light',\r\n            ids: stateIds,\r\n            rootCheck: (root || this.prefix) === this.prefix ? this.prefix : null\r\n        };\r\n    }\r\n\r\n    setStateAsync(newState) {\r\n        return new Promise(resolve => this.setState(newState, () => resolve()));\r\n    }\r\n\r\n    renderSelectEnum(name, title) {\r\n        const enums = this.props.enumIDs.filter(id => id.startsWith('enum.' + name + '.'));\r\n        const language = I18n.getLanguage();\r\n        const objs = enums.map(id => {\r\n            return {\r\n                name: Utils.getObjectName(this.props.objects, id, { language }),\r\n                icon: Utils.getObjectIcon(id, this.props.objects[id]),\r\n                id: id\r\n            }\r\n        });\r\n\r\n        return <FormControl className={this.props.classes.type}>\r\n            <InputLabel>{title}</InputLabel>\r\n            <Select\r\n                className={this.props.classes.oidField}\r\n                fullWidth\r\n                multiple\r\n                renderValue={(arrId) => {\r\n                    const newArr = arrId.length && typeof arrId !== 'string' ? arrId.map(id => {\r\n                        return {\r\n                            name: Utils.getObjectName(this.props.objects, id, { language }),\r\n                            icon: Utils.getObjectIcon(id, this.props.objects[id]),\r\n                            id: id\r\n                        }\r\n                    }) : [];\r\n                    return <div className={this.props.classes.renderValueWrapper}>\r\n                        {newArr.map(obj => <div className={this.props.classes.renderValueCurrent} key={`${obj.id}-render`}>\r\n                            {obj.icon ? <Icon className={this.props.classes.enumIcon} src={obj.icon} alt={obj.id} /> : <div className={this.props.classes.enumIcon} />}\r\n                            {obj.name}\r\n                        </div>)}\r\n                    </div>\r\n                }}\r\n                value={this.state[name] || []}\r\n                onChange={e => {\r\n                    localStorage.setItem('Devices.new.' + name, JSON.stringify(e.target.value));\r\n                    this.setState({ [name]: e.target.value });\r\n                }}\r\n            >\r\n                {objs.map(obj => <MenuItem key={obj.id} icon={obj.icon} value={obj.id}>\r\n                    {obj.icon ? <Icon className={this.props.classes.enumIcon} src={obj.icon} alt={obj.id} /> : <div className={this.props.classes.enumIcon} />}\r\n                    {obj.name}\r\n                </MenuItem>)}\r\n            </Select>\r\n        </FormControl>;\r\n    }\r\n\r\n    generateId() {\r\n        return `${this.state.root}.${this.state.name.replace(FORBIDDEN_CHARS, '_').replace(/\\s/g, '_')}`;\r\n    }\r\n\r\n    async onCopyDevice(newChannelId) {\r\n        // if this is device not from linkeddevice or from alias\r\n        this.channelId = this.props.copyDevice.channelId;\r\n        const isAlias = this.channelId.startsWith('alias.') || this.channelId.startsWith('linkeddevices.');\r\n\r\n        const channelObj = this.props.objects[this.channelId];\r\n        const { functions, rooms, icon, states, color, type } = this.props.copyDevice;\r\n        const tasks = [];\r\n\r\n        const patterns = this.props.detector.getPatterns();\r\n        const role = patterns[type]?.states && patterns[type].states.find(item => item.defaultChannelRole);\r\n\r\n        tasks.push({\r\n            id: newChannelId,\r\n            obj: {\r\n                common: {\r\n                    name: channelObj.common.name,\r\n                    color: color,\r\n                    desc: channelObj.common.desc,\r\n                    role: role?.defaultChannelRole || type,\r\n                    icon: icon && icon.startsWith('adapter/') ? `../../${icon}` : icon,\r\n                },\r\n                type: 'channel',\r\n                native: channelObj.native || {}\r\n            },\r\n            enums: rooms.concat(functions)\r\n        });\r\n\r\n        states.forEach(state => {\r\n            if (!state.id) {\r\n                return;\r\n            }\r\n            const obj = JSON.parse(JSON.stringify(this.props.objects[state.id]));\r\n            obj._id = newChannelId + '.' + state.name;\r\n\r\n            if (!obj.native) {\r\n                obj.native = {};\r\n            }\r\n            if (!isAlias) {\r\n                obj.common.alias = { id: state.id };\r\n            }\r\n            tasks.push({ id: obj._id, obj });\r\n        });\r\n\r\n        await this.props.processTasks(tasks);\r\n    }\r\n\r\n    handleOk = async () => {\r\n        // check if name is unique\r\n        if (this.props.copyDevice) {\r\n            await this.onCopyDevice(this.generateId());\r\n            // await this.props.onChange();\r\n            this.props.onClose();\r\n        } else {\r\n            this.props.onClose({\r\n                id: this.generateId(),\r\n                type: this.state.type,\r\n                name: this.state.name,\r\n                functions: this.state.functions,\r\n                icon: '',\r\n                states: [],\r\n                color: null,\r\n                rooms: this.state.rooms,\r\n                prefix: this.prefix\r\n            });\r\n        }\r\n    }\r\n\r\n    handleCancel = () => {\r\n        // check if name is unique\r\n        this.props.onClose && this.props.onClose(null);\r\n    }\r\n\r\n    showEnumIcon(name) {\r\n        const obj = this.props.objects[this.state[name]];\r\n        if (obj && obj.common && obj.common.icon) {\r\n            return <Icon className={this.props.classes.icon} src={obj.icon} alt=\"\" />;\r\n        } else {\r\n            return null;\r\n        }\r\n    }\r\n\r\n    async addNewFolder(name, parentId) {\r\n        const id = `${parentId}.${name.replace(FORBIDDEN_CHARS, '_').replace(/\\s/g, '_').replace(/\\./g, '_')}`;\r\n        const obj = {\r\n            _id: id,\r\n            common: { name: { [I18n.getLanguage()]: name } },\r\n            native: {},\r\n            type: 'folder'\r\n        };\r\n\r\n        await this.props.processTasks([{ id, obj }]);\r\n\r\n        // create folder\r\n        const ids = JSON.parse(JSON.stringify(this.state.ids));\r\n        ids[id] = {\r\n            common: { name },\r\n            type: 'folder'\r\n        };\r\n        this.prefix = id;\r\n        await this.setStateAsync({ ids, root: id });\r\n    }\r\n\r\n    render() {\r\n        const classes = this.props.classes;\r\n\r\n        return <Dialog\r\n            open={true}\r\n            maxWidth=\"md\"\r\n            fullWidth={true}\r\n            onClose={() => this.handleCancel()}\r\n            aria-labelledby=\"alert-dialog-title\"\r\n            aria-describedby=\"alert-dialog-description\"\r\n        >\r\n            <DialogTitle className={classes.titleBackground}\r\n                classes={{ root: classes.titleColor }}\r\n                id=\"edit-device-dialog-title\">{I18n.t('Create new device')}: <b>{this.generateId()}</b>\r\n            </DialogTitle>\r\n            <DialogContent className={classes.container}>\r\n                <div className={classes.blockFields}>\r\n                    <FormControlLabel\r\n                        disabled={this.state.rootCheck === this.state.root}\r\n                        control={<Checkbox checked={this.state.rootCheck} onChange={() => {\r\n                            let newRootCheck = null;\r\n                            let newRoot = this.state.rootCheck;\r\n                            if (!this.state.rootCheck) {\r\n                                newRootCheck = this.state.root;\r\n                                newRoot = this.prefix;\r\n                            }\r\n                            this.setState({ rootCheck: newRootCheck, root: newRoot })\r\n                        }} />}\r\n                        label={I18n.t('Add to root')}\r\n                    />\r\n                    <TextField\r\n                        fullWidth\r\n                        autoFocus={!!this.props.copyDevice}\r\n                        onKeyPress={(ev) => {\r\n                            if (this.props.copyDevice) {\r\n                                if (ev.key === 'Enter') {\r\n                                    if (this.state.name && !this.props.objects[this.generateId()]) {\r\n                                        this.handleOk();\r\n                                    } else {\r\n                                        this.handleCancel();\r\n                                    }\r\n                                    ev.preventDefault();\r\n                                }\r\n                            }\r\n                        }}\r\n                        label={I18n.t('Device name')}\r\n                        error={!!this.props.objects[this.generateId()]}\r\n                        className={classes.name}\r\n                        value={this.state.name}\r\n                        onChange={e => this.setState({ name: e.target.value })}\r\n                        margin=\"normal\"\r\n                    />\r\n                    {!this.props.copyDevice && <FormControl className={classes.type}>\r\n                        <InputLabel>{I18n.t('Device type')}</InputLabel>\r\n                        <Select\r\n                            value={this.state.type}\r\n                            onChange={e => {\r\n                                localStorage.setItem('Devices.newType', e.target.value);\r\n                                this.setState({ type: e.target.value });\r\n                            }}\r\n                        >\r\n                            {this.types\r\n                                .filter(id => !UNSUPPORTED_TYPES.includes(id) && TYPE_OPTIONS[id])\r\n                                .map(typeId => <MenuItem key={Types[typeId]} value={Types[typeId]}>\r\n                                    <div className={classes.itemChildrenWrapper}>\r\n                                        <div>\r\n                                            <TypeIcon className={this.props.classes.selectIcon} type={Types[typeId]} style={{ color: this.props.themeType === 'dark' ? '#FFFFFF' : '#000' }} />\r\n                                            <span className={this.props.classes.selectText}>{this.typesWords[typeId]}</span>\r\n                                        </div>\r\n                                        <div className={classes.iconWrapper}>{\r\n                                            Object.keys(TYPE_OPTIONS[typeId])\r\n                                                .map(key => TYPE_OPTIONS[typeId][key] ?\r\n                                                    <Icon className={classes.iconStyle} src={ICONS_TYPE[key]} /> :\r\n                                                    <div key={key} className={classes.emptyIcon} />\r\n                                                )}\r\n                                        </div>\r\n                                    </div>\r\n                                </MenuItem>)}\r\n                        </Select>\r\n                    </FormControl>}\r\n                    {!this.props.copyDevice && this.renderSelectEnum('functions', I18n.t('Function'))}\r\n                    {!this.props.copyDevice && this.renderSelectEnum('rooms', I18n.t('Room'))}\r\n                </div>\r\n            </DialogContent>\r\n            <DialogActions>\r\n                <Button\r\n                    variant=\"contained\"\r\n                    disabled={!!this.props.objects[this.generateId()]}\r\n                    onClick={this.handleOk}\r\n                    startIcon={<IconCheck />}\r\n                    color=\"primary\">{I18n.t('Create')}</Button>\r\n                <Button\r\n                    variant=\"contained\"\r\n                    onClick={this.handleCancel}\r\n                    startIcon={<IconClose />}\r\n                >{I18n.t('Cancel')}</Button>\r\n            </DialogActions>\r\n        </Dialog>;\r\n    }\r\n}\r\n\r\nDialogNewDevice.defaultProps = {\r\n    selected: 'alias.0'\r\n}\r\n\r\nDialogNewDevice.propTypes = {\r\n    onClose: PropTypes.func,\r\n    objects: PropTypes.object,\r\n    theme: PropTypes.object,\r\n    themeType: PropTypes.string,\r\n    enumIDs: PropTypes.array,\r\n    socket: PropTypes.object,\r\n    detector: PropTypes.object,\r\n};\r\n\r\nexport default withStyles(styles)(DialogNewDevice);\r\n","/**\r\n * Copyright 2018-2021 bluefox <dogafox@gmail.com>\r\n *\r\n * MIT License\r\n *\r\n **/\r\nimport Utils from '@iobroker/adapter-react/Components/Utils';\r\nimport I18n from '@iobroker/adapter-react/i18n';\r\n\r\nclass LocalUtils  {\r\n    static getObjectName(objects, id, label, channelName, enumNames) {\r\n        let name;\r\n        if (label) {\r\n            name = label;\r\n        } else\r\n        if (!id) {\r\n            name = 'No elements';\r\n        } else {\r\n            //if (objects[enumName]) {\r\n            //    enumName = Utils.getObjectName(objects, enumName);\r\n            //}\r\n\r\n            let item = objects[id];\r\n            if (item && item.common && item.common.name) {\r\n                name = Utils.getObjectName(objects, id, null, {language: I18n.getLanguage()});\r\n\r\n                if (enumNames) {\r\n                    if (typeof enumNames === 'object') {\r\n                        enumNames.forEach(e => {\r\n                            let reg = new RegExp('\\\\b' + e + '\\\\b');\r\n                            const newName = name.replace(reg, ' ').replace(/\\s\\s/g, '').trim();\r\n                            if (newName) {\r\n                                name = newName;\r\n                            }\r\n                        });\r\n                    } else {\r\n                        let reg = new RegExp('\\\\b' + enumNames + '\\\\b');\r\n                        const newName = name.replace(reg, ' ').replace(/\\s\\s/g, '').trim();\r\n                        if (newName) {\r\n                            name = newName;\r\n                        }\r\n                    }\r\n                }\r\n                if (channelName) {\r\n                    let reg = new RegExp(channelName + '[.: ]?');\r\n                    const newName = name.replace(reg, ' ').trim();\r\n                    if (newName) {\r\n                        name = newName;\r\n                    }\r\n                }\r\n\r\n                if (name && name === name.toUpperCase()) {\r\n                    name = name[0] + name.substring(1).toLowerCase();\r\n                }\r\n            } else {\r\n                let pos = id.lastIndexOf('.');\r\n                name = id.substring(pos + 1).replace(/_/g, ' ');\r\n                name = Utils.CapitalWords(name);\r\n\r\n                if (enumNames) {\r\n                    if (typeof enumNames === 'object') {\r\n                        enumNames.forEach(e => {\r\n                            let reg = new RegExp('\\\\b' + e + '\\\\b');\r\n                            name = name.replace(reg, ' ').replace(/\\s\\s/g, '').trim();\r\n                        });\r\n                    } else {\r\n                        let reg = new RegExp('\\\\b' + enumNames + '\\\\b');\r\n                        name = name.replace(reg, ' ').replace(/\\s\\s/g, '').trim();\r\n                    }\r\n                }\r\n\r\n                if (channelName) {\r\n                    let reg = new RegExp(channelName + '[.: ]?');\r\n                    name = I18n.t(name.replace(reg, ' ').trim());\r\n                }\r\n            }\r\n        }\r\n        return name.trim();\r\n    }\r\n}\r\n\r\nexport default LocalUtils;\r\n","/**\r\n * Copyright 2020-2021 bluefox <dogafox@gmail.com>\r\n *\r\n * MIT License\r\n *\r\n **/\r\nimport React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {withStyles} from '@material-ui/core/styles';\r\n\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\n\r\nimport I18n from '@iobroker/adapter-react/i18n';\r\nimport Utils from '@iobroker/adapter-react/Components/Utils';\r\nimport Icon from '@iobroker/adapter-react/Components/Icon';\r\n\r\nconst styles = theme => ({\r\n    header: {\r\n        width: '100%',\r\n        fontSize: 16,\r\n        textTransform: 'capitalize',\r\n        textAlign: 'center',\r\n        paddingBottom: 20,\r\n        color: '#000',\r\n    },\r\n    divDialogContent: {\r\n        fontSize: '1rem',\r\n        fontFamily: '\"Roboto\", \"Helvetica\", \"Arial\", sans-serif'\r\n    },\r\n    enumIcon: {\r\n        width: 24,\r\n        height: 24\r\n    },\r\n});\r\n\r\n\r\nclass DialogEditEnums extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            values: this.props.values ? this.props.values.slice() : [] // copy array\r\n        }\r\n    }\r\n\r\n    handleClose() {\r\n        this.props.onClose && this.props.onClose(null);\r\n    }\r\n\r\n    handleOk(isRefresh) {\r\n        this.props.onClose && this.props.onClose(this.state.values);\r\n    };\r\n\r\n    renderHeader() {\r\n        return null;\r\n    }\r\n\r\n    onToggle(id) {\r\n        const values = this.state.values.slice();\r\n        const pos = values.indexOf(id);\r\n        if (pos === -1) {\r\n            values.push(id)\r\n        } else {\r\n            values.splice(pos, 1);\r\n        }\r\n        this.setState({values});\r\n    }\r\n\r\n    renderSelectEnum() {\r\n        const enums = this.props.enumIDs;\r\n        const language = I18n.getLanguage();\r\n        const objs = enums.map(id => ({\r\n                name: Utils.getObjectName(this.props.objects, id, {language}),\r\n                icon: Utils.getObjectIcon(id, this.props.objects[id]),\r\n                id\r\n            }));\r\n\r\n        return <List className={this.props.classes.list}>\r\n            {objs.map(obj => <ListItem key={obj.id} button onClick={() => this.onToggle(obj.id)}>\r\n                <ListItemIcon>\r\n                    {obj.icon ? <Icon className={this.props.classes.enumIcon} src={obj.icon} alt={obj.id}/> : <div className={this.props.classes.enumIcon}/>}\r\n                </ListItemIcon>\r\n                <ListItemText primary={obj.name} />\r\n                <ListItemSecondaryAction>\r\n                    <Checkbox\r\n                        edge=\"end\"\r\n                        onChange={() => this.onToggle(obj.id)}\r\n                        checked={this.state.values.includes(obj.id)}\r\n                    />\r\n                </ListItemSecondaryAction>\r\n            </ListItem>)}\r\n        </List>;\r\n    }\r\n\r\n    render() {\r\n        return <Dialog\r\n            key=\"enumDialog\"\r\n            open={true}\r\n            maxWidth={'sm'}\r\n            onClose={() => this.handleOk()}\r\n            aria-labelledby=\"alert-dialog-title\"\r\n            aria-describedby=\"alert-dialog-description\"\r\n        >\r\n            <DialogTitle className={this.props.classes.titleBackground}\r\n                         classes={{root: this.props.classes.titleColor}}\r\n                         id=\"edit-device-dialog-title\">{I18n.t('Edit enums')} <b>{this.props.deviceName}</b></DialogTitle>\r\n            <DialogContent>\r\n                <div className={this.props.classes.divDialogContent}>\r\n                    {this.renderHeader()}\r\n                    {this.renderSelectEnum()}\r\n                </div>\r\n            </DialogContent>\r\n            <DialogActions>\r\n                <Button variant=\"contained\" onClick={() => this.handleOk()} color=\"primary\" autoFocus>{I18n.t('Ok')}</Button>\r\n                <Button variant=\"contained\" onClick={() => this.handleClose()}>{I18n.t('Cancel')}</Button>\r\n            </DialogActions>\r\n        </Dialog>;\r\n    }\r\n}\r\n\r\nDialogEditEnums.propTypes = {\r\n    onClose: PropTypes.func,\r\n    deviceName: PropTypes.string,\r\n    objects: PropTypes.object,\r\n    enumIDs: PropTypes.array,\r\n    values: PropTypes.array,\r\n};\r\n\r\nexport default withStyles(styles)(DialogEditEnums);\r\n","import React, { useState } from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport { Checkbox, DialogTitle, FormControlLabel, makeStyles, ThemeProvider } from '@material-ui/core';\r\n\r\nimport IconClose from '@material-ui/icons/Close';\r\nimport IconDelete from '@material-ui/icons/Delete';\r\n\r\nimport I18n from '@iobroker/adapter-react/i18n';\r\nimport theme from '@iobroker/adapter-react/Theme';\r\nimport Utils from '@iobroker/adapter-react/Components/Utils';\r\n\r\nlet node = null;\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        backgroundColor: theme.palette.background.paper,\r\n        width: '100%',\r\n        height: 'auto',\r\n        display: 'flex'\r\n    },\r\n    paper: {\r\n        maxWidth: 960,\r\n        width: 'calc(100% - 64px)'\r\n    },\r\n    overflowHidden: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        border: 'none'\r\n        // overflow: 'hidden'\r\n    },\r\n    pre: {\r\n        overflow: 'auto',\r\n        whiteSpace: 'pre-wrap',\r\n        margin: 0\r\n    },\r\n    showDialog: {\r\n        marginTop: 10\r\n    }\r\n}));\r\n\r\nconst DialogDeleteFolder = ({ cb, device }) => {\r\n    const classes = useStyles();\r\n    const [open, setOpen] = useState(true);\r\n    const [checked, setChecked] = useState(false);\r\n\r\n    const onClose = () => {\r\n        setOpen(false);\r\n        if (node) {\r\n            document.body.removeChild(node);\r\n            node = null;\r\n        }\r\n    };\r\n\r\n    return <ThemeProvider theme={theme(Utils.getThemeName())}>\r\n        <Dialog\r\n            onClose={onClose}\r\n            open={open}\r\n            classes={{ paper: classes.paper }}\r\n        >\r\n            <DialogTitle>{I18n.t('Please confirm...')}</DialogTitle>\r\n            <DialogContent className={classes.overflowHidden} dividers>\r\n                {I18n.t(device ? 'Device and all states will be deleted. Are you sure?' : 'Folder will be deleted. Are you sure?')}\r\n                <div className={classes.showDialog}>\r\n                    <FormControlLabel\r\n                        control={<Checkbox checked={checked} onChange={e => setChecked(e.target.checked)} />}\r\n                        label={I18n.t('Do not show dialog for 5 minutes')}\r\n                    />\r\n                </div>\r\n            </DialogContent>\r\n            <DialogActions>\r\n                <Button\r\n                    variant=\"contained\"\r\n                    autoFocus\r\n                    onClick={() => {\r\n                        onClose();\r\n                        if (checked) {\r\n                            window.localStorage.setItem(device ? 'DeleteDeviceTime' : 'DeleteFolderTime', new Date().getTime());\r\n                        }\r\n                        cb(true);\r\n                    }}\r\n                    startIcon={<IconDelete />}\r\n                    color=\"primary\">\r\n                    {I18n.t('Delete')}\r\n                </Button>\r\n                <Button\r\n                    variant=\"contained\"\r\n                    onClick={() => {\r\n                        onClose();\r\n                        cb(false);\r\n                    }}\r\n                    startIcon={<IconClose />}\r\n                    color=\"default\">\r\n                    {I18n.t('Cancel')}\r\n                </Button>\r\n            </DialogActions>\r\n        </Dialog>\r\n    </ThemeProvider>;\r\n}\r\n\r\nexport const deleteFolderAndDeviceCallBack = (cb, device = false) => {\r\n    const time = window.localStorage.getItem(device ? 'DeleteDeviceTime' : 'DeleteFolderTime');\r\n    const fiveMin = 1000 * 60 * 5;\r\n    if (time && new Date().getTime() - time < fiveMin) {\r\n        return cb(true);\r\n    }\r\n    if (!node) {\r\n        node = document.createElement('div');\r\n        node.id = 'renderModal';\r\n        document.body.appendChild(node);\r\n    }\r\n    return ReactDOM.render(<DialogDeleteFolder cb={cb} device={device} />, node);\r\n}","import React, { useEffect, useState } from 'react';\r\n\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport { Checkbox, DialogTitle, FormControlLabel, makeStyles, TextField, ThemeProvider } from '@material-ui/core';\r\n\r\nimport IconClose from '@material-ui/icons/Close';\r\nimport IconCheck from '@material-ui/icons/Check';\r\n\r\nimport I18n from '@iobroker/adapter-react/i18n';\r\nimport theme from '@iobroker/adapter-react/Theme';\r\nimport Utils from '@iobroker/adapter-react/Components/Utils';\r\n\r\nimport UploadImage from '../Components/UploadImage';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        backgroundColor: theme.palette.background.paper,\r\n        width: '100%',\r\n        height: 'auto',\r\n        display: 'flex'\r\n    },\r\n    paper: {\r\n        maxWidth: 600,\r\n        width: '100%'\r\n    },\r\n    overflowHidden: {\r\n        display: 'flex',\r\n        // overflow: 'hidden'\r\n    },\r\n    pre: {\r\n        overflow: 'auto',\r\n        whiteSpace: 'pre-wrap',\r\n        margin: 0\r\n    },\r\n    divOids: {\r\n        display: 'inline-block',\r\n        width: '100%',\r\n        verticalAlign: 'top',\r\n    },\r\n    divOidField: {\r\n        width: '100%',\r\n        display: 'block',\r\n        paddingTop: 7,\r\n        paddingBottom: 7,\r\n    },\r\n\r\n    oidName: {\r\n        fontSize: 14,\r\n        fontWeight: 'bold'\r\n    },\r\n}));\r\n\r\nconst emptyObj = {\r\n    _id: '',\r\n    common: {\r\n        name: '',\r\n        color: null,\r\n        icon: null\r\n    },\r\n    native: {},\r\n    type: 'folder'\r\n};\r\n\r\nconst DialogEditFolder = ({ onClose, data, socket, devices, objects, deleteDevice, processTasks, selected, newFolder, detector }) => {\r\n    const classes = useStyles();\r\n    const [dataEdit, setDataEdit] = useState(newFolder ? emptyObj : JSON.parse(JSON.stringify(data)));\r\n    const [arrayObjects, setArrayObjects] = useState([]);\r\n    const [name, setName] = useState(Utils.getObjectNameFromObj(dataEdit, I18n.getLanguage()) === 'undefined' ? dataEdit.common.name[Object.keys(dataEdit.common.name)[0]] : Utils.getObjectNameFromObj(dataEdit, I18n.getLanguage()))\r\n    const [startTheProcess, setStartTheProcess] = useState(false);\r\n\r\n    const checkIdSelected = (newPart = selected) => {\r\n        if (objects[newPart]?.type && objects[newPart]?.type !== 'folder') {\r\n            let parts = newPart.split('.');\r\n            parts.pop();\r\n            parts = parts.join('.');\r\n            return checkIdSelected(parts);\r\n        }\r\n        return newPart?.startsWith('alias.0') ? newPart : 'alias.0'\r\n    }\r\n\r\n    const [newId, setId] = useState(newFolder ? checkIdSelected() : data?._id);\r\n    const [rootCheck, setRootCheck] = useState(newId === 'alias.0' ? 'alias.0' : null);\r\n\r\n    useEffect(() => {\r\n        const idsObject = Object.keys(objects).filter(el => el === data._id || el.startsWith(data._id + '.'))\r\n            .filter(id => objects[id].type === 'folder' || objects[id].type === 'channel' || objects[id].type === 'device')\r\n            .map(id => objects[id]);\r\n\r\n        setArrayObjects(idsObject);\r\n    }, [data?._id, objects]);\r\n\r\n    function getNonEmptyName(obj) {\r\n        const lang = I18n.getLanguage();\r\n        const name = Utils.getObjectNameFromObj(obj, lang);\r\n        return name === 'undefined' ? obj.common.name[Object.keys(obj.common.name)[0]] : name\r\n    }\r\n\r\n    const onCloseLocal = async changed => {\r\n        if (!startTheProcess && changed) {\r\n            setStartTheProcess(true);\r\n            if (newFolder) {\r\n                const newDataEdit = JSON.parse(JSON.stringify(dataEdit));\r\n                newDataEdit._id = `${newId}.${name.replace(Utils.FORBIDDEN_CHARS, '_').replace(/\\s/g, '_').replace(/\\./g, '_')}`;\r\n                await socket.setObject(newDataEdit._id, newDataEdit);\r\n            } else {\r\n                // If name and ID were changed\r\n                if (getNonEmptyName(dataEdit) !== getNonEmptyName(data)) {\r\n\r\n                    await onChangeCopy();\r\n                } else if (JSON.stringify(dataEdit) !== JSON.stringify(data)) {\r\n\r\n                    await socket.setObject(dataEdit._id, dataEdit);\r\n                }\r\n            }\r\n        }\r\n\r\n        onClose();\r\n    };\r\n\r\n    const addNewFolder = async (dataFolder, id) => {\r\n        const obj = {\r\n            _id: id,\r\n            common: {\r\n                name: typeof dataFolder.name === 'string' ? { [I18n.getLanguage()]: dataFolder.name } : dataFolder.name,\r\n                color: dataFolder.color,\r\n                icon: dataFolder.icon\r\n            },\r\n            native: {},\r\n            type: 'folder'\r\n        };\r\n        await socket.setObject(id, obj);\r\n    }\r\n\r\n    const onCopyDevice = async (copyDevice, newChannelId, obj) => {\r\n        if (!copyDevice && !copyDevice?.channelId) {\r\n            return null;\r\n        }\r\n        // if this is device not from linkeddevice or from alias\r\n        const channelId = copyDevice.channelId;\r\n        const isAlias = channelId.startsWith('alias.') || channelId.startsWith('linkeddevices.');\r\n        let channelObj = objects[channelId];\r\n        if (!channelObj?.common) {\r\n            if (obj) {\r\n                channelObj = obj\r\n            } else {\r\n                return null;\r\n            }\r\n        }\r\n        const { functions, rooms, icon, states, color, type } = copyDevice;\r\n        const tasks = [];\r\n\r\n        const patterns = detector.getPatterns();\r\n        const role = patterns[type]?.states && patterns[type].states.find(item => item.defaultChannelRole);\r\n\r\n        tasks.push({\r\n            id: newChannelId,\r\n            obj: {\r\n                common: {\r\n                    name: channelObj.common.name,\r\n                    color: color,\r\n                    desc: channelObj.common.desc,\r\n                    role: role?.defaultChannelRole || type,\r\n                    icon: icon && icon.startsWith('adapter/') ? `../../${icon}` : icon,\r\n                },\r\n                type: 'channel',\r\n                native: channelObj.native || {}\r\n            },\r\n            enums: rooms.concat(functions)\r\n        });\r\n\r\n        states.forEach(state => {\r\n            if (!state.id) {\r\n                return;\r\n            }\r\n            const obj = JSON.parse(JSON.stringify(objects[state.id]));\r\n            obj._id = newChannelId + '.' + state.name;\r\n\r\n            if (!obj.native) {\r\n                obj.native = {};\r\n            }\r\n            if (!isAlias) {\r\n                obj.common.alias = { id: state.id };\r\n            }\r\n            tasks.push({ id: obj._id, obj });\r\n        });\r\n\r\n        await processTasks(tasks);\r\n    }\r\n\r\n    const getIdFromName = obj => {\r\n        obj = obj || dataEdit;\r\n\r\n        if (typeof obj?.common?.name !== 'string') {\r\n            return false;\r\n        } else if (!obj?.common?.name) {\r\n            return data._id;\r\n        }\r\n\r\n        let parts;\r\n        if (newFolder) {\r\n            parts = newId;\r\n        } else {\r\n            parts = data._id.split('.');\r\n            parts.pop();\r\n            parts = parts.join('.');\r\n        }\r\n        parts = `${parts}.${obj.common.name.replace(Utils.FORBIDDEN_CHARS, '_').replace(/\\s/g, '_').replace(/\\./g, '_')}`\r\n        return parts;\r\n    }\r\n\r\n    const onChangeCopy = async () => {\r\n        let newDevices = JSON.parse(JSON.stringify(devices));\r\n\r\n        let parts = data._id.split('.');\r\n        parts.pop();\r\n        parts = parts.join('.');\r\n        parts = `${parts}.${dataEdit.common.name.replace(Utils.FORBIDDEN_CHARS, '_').replace(/\\s/g, '_').replace(/\\./g, '_')}`;\r\n\r\n        let deleteFolderID = '';\r\n        for (let i = 0; i < arrayObjects.length; i++) {\r\n            const el = arrayObjects[i];\r\n            const newId = el._id.replace(data._id, parts);\r\n            if (el.type === 'folder') {\r\n                await addNewFolder(data._id === el._id ? dataEdit.common : el.common, newId);\r\n                deleteFolderID = el._id;\r\n            } else {\r\n                const device = newDevices.find(device => el._id === device.channelId);\r\n                await onCopyDevice(device, newId, el);\r\n                newDevices = await deleteDevice(newDevices.indexOf(device));\r\n            }\r\n        }\r\n\r\n        // Delete folder and all object\r\n        deleteFolderID && (await socket.delObjects(deleteFolderID, true));\r\n    }\r\n\r\n    const id = getIdFromName();\r\n\r\n    return <ThemeProvider theme={theme(Utils.getThemeName())}>\r\n        <Dialog\r\n            onClose={() => onCloseLocal()}\r\n            open={true}\r\n            classes={{ paper: classes.paper }}\r\n        >\r\n            <DialogTitle>{I18n.t(!newFolder ? 'Edit folder %s' : 'Add new folder %s', newId)}{name && newFolder ? `.${name}` : ''}</DialogTitle>\r\n            <DialogContent className={classes.overflowHidden} dividers>\r\n                <div className={classes.divOids}>\r\n                    {newFolder && <FormControlLabel\r\n                        disabled={rootCheck === newId}\r\n                        control={<Checkbox checked={rootCheck} onChange={() => {\r\n                            let newRootCheck = null;\r\n                            let newRoot = rootCheck;\r\n                            if (!rootCheck) {\r\n                                newRootCheck = newId;\r\n                                newRoot = 'alias.0';\r\n                            }\r\n                            setRootCheck(newRootCheck);\r\n                            setId(newRoot);\r\n                        }} />}\r\n                        label={I18n.t('Add to root')}\r\n                    />}\r\n                    <div className={classes.divOidField}>\r\n                        <div className={classes.oidName} >{I18n.t('Name')}</div>\r\n                        <TextField\r\n                            key=\"_name\"\r\n                            fullWidth\r\n                            autoFocus\r\n                            onKeyPress={(ev) => {\r\n                                if (ev.key === 'Enter') {\r\n                                    // if (dataEdit.common.name && JSON.stringify(dataEdit) !== JSON.stringify(data)) {\r\n                                    //     cb(dataEdit);\r\n                                    // } else {\r\n                                    //     cb(false);\r\n                                    // }\r\n                                    onCloseLocal(true);\r\n                                    ev.preventDefault();\r\n                                }\r\n                            }}\r\n                            value={name}\r\n                            className={classes.oidField}\r\n                            error={!!objects[id] || !name}\r\n                            disabled={startTheProcess}\r\n                            onChange={e => {\r\n                                const newDataEdit = JSON.parse(JSON.stringify(dataEdit));\r\n                                newDataEdit.common.name = e.target.value;\r\n                                setDataEdit(newDataEdit);\r\n\r\n                                if (!newFolder) {\r\n                                    let parts;\r\n                                    parts = data._id.split('.');\r\n                                    parts.pop();\r\n                                    parts = parts.join('.');\r\n                                    parts = `${parts}.${e.target.value.replace(Utils.FORBIDDEN_CHARS, '_').replace(/\\s/g, '_').replace(/\\./g, '_')}`\r\n                                    setId(parts);\r\n                                }\r\n\r\n                                setName(e.target.value);\r\n\r\n                            }}\r\n                            margin=\"normal\"\r\n                        />\r\n                    </div>\r\n                    <div className={classes.divOidField}>\r\n                        <div className={classes.oidName} >{I18n.t('Color')}</div>\r\n                        <TextField\r\n                            key=\"_color\"\r\n                            disabled={startTheProcess}\r\n                            // fullWidth\r\n                            value={dataEdit?.common?.color}\r\n                            style={{ width: 'calc(100% - 40px)' }}\r\n                            onChange={e => {\r\n                                const newDataEdit = JSON.parse(JSON.stringify(dataEdit));\r\n                                newDataEdit.common.color = e.target.value;\r\n                                setDataEdit(newDataEdit);\r\n                            }}\r\n                        />\r\n                        <TextField\r\n                            key=\"_color1\"\r\n                            type=\"color\"\r\n                            style={{ width: 40 }}\r\n                            disabled={startTheProcess}\r\n                            value={dataEdit?.common?.color}\r\n                            className={Utils.clsx(classes.oidField, classes.colorButton)}\r\n                            onChange={e => {\r\n                                const newDataEdit = JSON.parse(JSON.stringify(dataEdit));\r\n                                newDataEdit.common.color = e.target.value;\r\n                                setDataEdit(newDataEdit);\r\n                            }}\r\n                        // margin=\"normal\"\r\n                        />\r\n                    </div>\r\n                    <UploadImage\r\n                        crop={false}\r\n                        icons\r\n                        className={classes.sizeDropZone}\r\n                        disabled={startTheProcess}\r\n                        maxSize={256 * 1024}\r\n                        icon={dataEdit?.common?.icon}\r\n                        removeIconFunc={e => {\r\n                            const newDataEdit = JSON.parse(JSON.stringify(dataEdit));\r\n                            newDataEdit.common.icon = '';\r\n                            setDataEdit(newDataEdit);\r\n                        }}\r\n                        onChange={base64 => {\r\n                            const newDataEdit = JSON.parse(JSON.stringify(dataEdit));\r\n                            newDataEdit.common.icon = base64;\r\n                            setDataEdit(newDataEdit);\r\n                        }}\r\n                        t={I18n.t}\r\n                    />\r\n                </div>\r\n            </DialogContent>\r\n            <DialogActions>\r\n                <Button\r\n                    variant=\"contained\"\r\n                    autoFocus\r\n                    disabled={\r\n                        JSON.stringify(dataEdit) === JSON.stringify(data) ||\r\n                        !dataEdit.common.name ||\r\n                        (!!objects[id] && getIdFromName(dataEdit) !== getIdFromName(data))  ||\r\n                        startTheProcess\r\n                    }\r\n                    onClick={() => onCloseLocal(true)}\r\n                    startIcon={<IconCheck />}\r\n                    color=\"primary\">\r\n                    {I18n.t('Save')}\r\n                </Button>\r\n                <Button\r\n                    variant=\"contained\"\r\n                    disabled={startTheProcess}\r\n                    onClick={() => onCloseLocal(false)}\r\n                    startIcon={<IconClose />}\r\n                    color=\"default\">\r\n                    {I18n.t('Close')}\r\n                </Button>\r\n            </DialogActions>\r\n        </Dialog>\r\n    </ThemeProvider>;\r\n}\r\n\r\nDialogEditFolder.defaultProps = {\r\n    data: emptyObj,\r\n    selected: 'alias.0'\r\n}\r\n\r\nexport default DialogEditFolder;","import Utils from '@iobroker/adapter-react/Components/Utils';\r\nimport I18n from '@iobroker/adapter-react/i18n';\r\nimport { TableRow } from '@material-ui/core';\r\nimport React, { useRef, useState } from 'react';\r\nimport { useDrag, useDrop } from 'react-dnd';\r\n\r\nconst DragWrapper = ({ openFolder, backgroundRow, objects, onCopyDevice, deleteDevice, deviceIdx, id, children, style, className, onClick }) => {\r\n    const ref = useRef(null);\r\n    const language = I18n.getLanguage();\r\n    const [{ isDragging }, dragRef] = useDrag({\r\n        type: 'box',\r\n        item: { id, deviceIdx },\r\n        canDrag:()=>{\r\n            return !id?.includes('linked_devices') && !id?.includes('linkeddevices.0');\r\n\r\n        },\r\n        end: async (item, monitor) => {\r\n            let parts;\r\n            if (objects[item.id]?.common?.name) {\r\n                parts = Utils.getObjectName(objects, item.id, { language }).replace(Utils.FORBIDDEN_CHARS, '_').replace(/\\s/g, '_').replace(/\\./g, '_');\r\n            } else {\r\n                parts = item.id.split('.');\r\n                parts = parts.pop();\r\n            }\r\n            const result = monitor.getDropResult();\r\n            const targetId = monitor.getTargetIds();\r\n            const didDrop = monitor.didDrop();\r\n            if (id !== `alias.0.${parts}` && !result && !targetId.length && !didDrop) {\r\n                await onCopyDevice(id, `alias.0.${parts}`);\r\n                openFolder()\r\n                if (id.includes('alias.0')) {\r\n                    await deleteDevice(item.deviceIdx);\r\n                }\r\n            }\r\n        },\r\n        collect: monitor => ({ isDragging: monitor.isDragging() }),\r\n    });\r\n    const [error, setError] = useState(false);\r\n    const [{ isOver, canDrop }, dropRef] = useDrop({\r\n        accept: 'box',\r\n        canDrop: (item) => {\r\n            let parts;\r\n            if (objects[item.id]?.common?.name) {\r\n                parts = Utils.getObjectName(objects, item.id, { language }).replace(Utils.FORBIDDEN_CHARS, '_').replace(/\\s/g, '_').replace(/\\./g, '_');\r\n            } else {\r\n                parts = item.id.split('.');\r\n                parts = parts.pop();\r\n            }\r\n            let partsId = id.split('.');\r\n            partsId.pop();\r\n            partsId = partsId.join('.');\r\n            if (!id?.includes('alias.0') || id?.includes('automatically_detected') || id?.includes('linked_devices') || objects[`${partsId}.${parts}`]) {\r\n                return false;\r\n            }\r\n            return true;\r\n        },\r\n        collect: (monitor) => ({\r\n            handlerId: monitor.getHandlerId(),\r\n            isOver: monitor.isOver(),\r\n            canDrop: monitor.canDrop()\r\n        }),\r\n        drop: async (item) => {\r\n            let parts;\r\n            if (objects[item.id]?.common?.name) {\r\n                parts = Utils.getObjectName(objects, item.id, { language }).replace(Utils.FORBIDDEN_CHARS, '_').replace(/\\s/g, '_').replace(/\\./g, '_');\r\n            } else {\r\n                parts = item.id.split('.');\r\n                parts = parts.pop();\r\n            }\r\n            let partsId = id.split('.');\r\n            partsId.pop();\r\n            partsId = partsId.join('.');\r\n            setError(false);\r\n            await onCopyDevice(item.id, `${partsId}.${parts}`);\r\n            openFolder()\r\n            if (item.id.includes('alias.0')) {\r\n                await deleteDevice(item.deviceIdx);\r\n            }\r\n        },\r\n        hover(item, monitor) {\r\n            let parts;\r\n            if (objects[item.id]?.common?.name) {\r\n                parts = Utils.getObjectName(objects, item.id, { language }).replace(Utils.FORBIDDEN_CHARS, '_').replace(/\\s/g, '_').replace(/\\./g, '_');\r\n            } else {\r\n                parts = item.id.split('.');\r\n                parts = parts.pop();\r\n            }\r\n            let partsId = id.split('.');\r\n            partsId.pop();\r\n            partsId = partsId.join('.');\r\n            if (!id?.includes('alias.0') || id?.includes('automatically_detected') || id?.includes('linked_devices') || objects[`${partsId}.${parts}`]) {\r\n                setError(true);\r\n            } else {\r\n                setError(false);\r\n            }\r\n        }\r\n    });\r\n    const isActive = isOver && canDrop;\r\n    let background = backgroundRow;\r\n    if (isOver && error) {\r\n        background = '#e73c3c75';\r\n    } else if (isActive) {\r\n        background = '#00640057';\r\n    }\r\n\r\n    const opacity = isDragging ? 0.5 : 1;\r\n    dragRef(dropRef(ref));\r\n\r\n    return <TableRow\r\n        className={className}\r\n        onClick={isDragging ? null : e => onClick(e)}\r\n        padding=\"default\"\r\n        ref={ref}\r\n        style={{ ...style, opacity, background }}>\r\n        {children}\r\n    </TableRow>;\r\n}\r\n\r\nexport default DragWrapper;","import Utils from '@iobroker/adapter-react/Components/Utils';\r\nimport I18n from '@iobroker/adapter-react/i18n';\r\nimport { TableRow } from '@material-ui/core';\r\nimport React, { useState } from 'react';\r\nimport { useDrop } from 'react-dnd';\r\n\r\nconst DropWrapper = ({ openFolder, objects, deleteDevice, onCopyDevice, id, children, className, backgroundRow, onClick }) => {\r\n    const [error, setError] = useState(false);\r\n    const language = I18n.getLanguage();\r\n    const [{ isOver, canDrop }, drop] = useDrop({\r\n        accept: 'box',\r\n        canDrop: (item) => {\r\n            let parts;\r\n            if (objects[item.id]?.common?.name) {\r\n                parts = Utils.getObjectName(objects, item.id, { language }).replace(Utils.FORBIDDEN_CHARS, '_').replace(/\\s/g, '_').replace(/\\./g, '_');\r\n                parts = item.id.split('.');\r\n                parts = parts.pop();\r\n            }\r\n            return !(!id?.includes('alias.0') ||\r\n                id?.includes('automatically_detected') ||\r\n                id?.includes('linked_devices') ||\r\n                objects[`${id}.${parts}`]);\r\n        },\r\n        collect: (monitor) => ({\r\n            handlerId: monitor.getHandlerId(),\r\n            isOver: monitor.isOver(),\r\n            canDrop: monitor.canDrop()\r\n        }),\r\n        drop: async (item) => {\r\n            let parts;\r\n            if (objects[item.id]?.common?.name) {\r\n                parts = Utils.getObjectName(objects, item.id, { language }).replace(Utils.FORBIDDEN_CHARS, '_').replace(/\\s/g, '_').replace(/\\./g, '_');\r\n            } else {\r\n                parts = item.id.split('.');\r\n                parts = parts.pop();\r\n            }\r\n            setError(false);\r\n            await onCopyDevice(item.id, `${id}.${parts}`);\r\n            openFolder();\r\n            if (item.id.includes('alias.0')) {\r\n                await deleteDevice(item.deviceIdx);\r\n            }\r\n        },\r\n        hover(item, monitor) {\r\n            let parts;\r\n            if (objects[item.id]?.common?.name) {\r\n                parts = Utils.getObjectName(objects, item.id, { language }).replace(Utils.FORBIDDEN_CHARS, '_').replace(/\\s/g, '_').replace(/\\./g, '_');\r\n            } else {\r\n                parts = item.id.split('.');\r\n                parts = parts.pop();\r\n            }\r\n            if (!id?.includes('alias.0') || id?.includes('automatically_detected') || id?.includes('linked_devices') || objects[`${id}.${parts}`]) {\r\n                setError(true);\r\n            } else {\r\n                setError(false);\r\n            }\r\n        }\r\n    });\r\n\r\n    const isActive = isOver && canDrop;\r\n    let background = backgroundRow;\r\n    if (isOver && error) {\r\n        background = '#e73c3c75';\r\n    } else if (isActive) {\r\n        background = '#00640057';\r\n    }\r\n\r\n    return <TableRow\r\n        className={className}\r\n        padding=\"default\"\r\n        ref={drop}\r\n        onClick={e => onClick(e)}\r\n        style={{ background, transition: 'background .3s' }}\r\n    >\r\n        {children}\r\n    </TableRow>;\r\n}\r\n\r\nexport default DropWrapper;","/**\r\n * Copyright 2019-2020 bluefox <dogafox@gmail.com>\r\n *\r\n * MIT License\r\n *\r\n **/\r\nimport React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport Button from '@material-ui/core/Button';\r\n\r\nimport { FaFolderOpen as IconFolderOpened } from 'react-icons/fa';\r\nimport { FaFolder as IconFolder } from 'react-icons/fa';\r\nimport { TiLightbulb as IconTypeLight } from 'react-icons/ti'\r\nimport { TiLightbulb as IconTypeDimmer } from 'react-icons/ti'\r\nimport { TiLightbulb as IconTypeSwitch } from 'react-icons/ti'\r\nimport { FaQuestion as IconTypeGeneric } from 'react-icons/fa'\r\nimport { MdExpandMore as IconCollapse } from 'react-icons/md';\r\nimport { MdKeyboardArrowRight as IconExpand } from 'react-icons/md';\r\nimport { MdCheck as IconOK } from 'react-icons/md';\r\nimport { MdCancel as IconCancel } from 'react-icons/md';\r\nimport CreateNewFolderIcon from '@material-ui/icons/CreateNewFolder';\r\n\r\nimport I18n from '@iobroker/adapter-react/i18n';\r\nimport Utils from '@iobroker/adapter-react/Components/Utils';\r\nimport { Paper, Tooltip } from '@material-ui/core';\r\nimport clsx from 'clsx';\r\nimport Icon from '@iobroker/adapter-react/Components/Icon';\r\n\r\nconst LEVEL_OFFSET = 14;\r\n\r\nconst styles = theme => ({\r\n    expandButton: {\r\n        width: 37,\r\n        height: 37\r\n    },\r\n    addButton: {\r\n        marginBottom: 5,\r\n    },\r\n    list: {\r\n        maxHeight: 400,\r\n        overflowY: 'auto',\r\n        //background: theme.palette.type === 'dark' ? '#6a6a6a' : '#e2e2e2',\r\n    },\r\n    selected: {\r\n        //color: theme.palette.action.selected\r\n    },\r\n    folder: {\r\n        //background: theme.palette.type === 'dark' ? '#6a6a6a' : '#e2e2e2',\r\n        cursor: 'pointer',\r\n        paddingTop: 0,\r\n        paddingBottom: 0,\r\n        paddingLeft: 1,\r\n        paddingRight: 0,\r\n        userSelect: 'none'\r\n    },\r\n    element: {\r\n        cursor: 'pointer',\r\n        padding: 0,\r\n        userSelect: 'none'\r\n    },\r\n    itemIcon: {\r\n        width: 18,\r\n        height: 18,\r\n        borderRadius: 2\r\n    },\r\n    dialogNewForm: {\r\n        width: 'calc(100% - 30px)',\r\n        padding: 10\r\n    },\r\n    dialogNewInput: {\r\n        width: '100%',\r\n    },\r\n    dialogNew: {\r\n        minWidth: 200,\r\n    },\r\n    childrenCount: {\r\n        fontSize: 'smaller',\r\n        opacity: 0.8,\r\n    },\r\n    wrapperFoldersBlock: {\r\n        padding: 10,\r\n        height: 'calc(100% - 20px)'\r\n    },\r\n    iconStyle: {\r\n        minWidth: 25\r\n    },\r\n    buttonWrapper: {\r\n        display: 'flex',\r\n        top: 0,\r\n        background: theme.palette.type === 'light' ? '#0000000d' : '#ffffff12',\r\n        marginBottom: 5\r\n    },\r\n    iconCommon: {\r\n        marginRight: 5,\r\n        width: 15,\r\n        height: 15\r\n    },\r\n    fontStyle: {\r\n        fontSize: 14,\r\n        fontFamily: '\"Roboto\", \"Helvetica\", \"Arial\", sans-serif',\r\n        lineHeight: 1.5,\r\n        fontWeight: 600,\r\n        overflow: 'hidden',\r\n        textOverflow: 'ellipsis',\r\n        paddingRight: '30px !important'\r\n    },\r\n    addNewFolderTitle: {\r\n        whiteSpace: 'nowrap',\r\n        overflow: 'hidden',\r\n        textOverflow: 'ellipsis',\r\n        '& h2': {\r\n            whiteSpace: 'nowrap',\r\n            overflow: 'hidden',\r\n            textOverflow: 'ellipsis',\r\n        }\r\n    },\r\n    displayFlex: {\r\n        display: 'flex',\r\n        flexDirection: 'column'\r\n    }\r\n});\r\n\r\nconst prepareList = (data, root) => {\r\n    const result = [];\r\n    const ids = Object.keys(data);\r\n    root = root || '';\r\n\r\n    // place common and global scripts at the end\r\n    ids.sort((a, b) => {\r\n        if ((a === 'script.js.common' || a === 'script.js.global') && (b === 'script.js.common' || b === 'script.js.global')) {\r\n            return a > b ? 1 : -1;\r\n        } else if (a === 'script.js.common' || a === 'script.js.global' || b === 'script.js.common' || b === 'script.js.global') {\r\n            return 1;\r\n        } else {\r\n            return a > b ? 1 : -1;\r\n        }\r\n    });\r\n\r\n    for (let i = 0; i < ids.length; i++) {\r\n        const obj = data[ids[i]];\r\n        const parts = ids[i].split('.');\r\n        parts.pop();\r\n        result.push({\r\n            id: ids[i],\r\n            title: Utils.getObjectName(data, ids[i], { language: I18n.getLanguage() }),\r\n            icon: obj.common.icon || null,\r\n            color: obj.common.color || null,\r\n            depth: parts.length - 1,\r\n            type: obj.type,\r\n            parent: parts.length > 2 ? parts.join('.') : null,\r\n            instance: obj.common.engine ? parseInt(obj.common.engine.split('.').pop(), 10) || 0 : null\r\n        });\r\n    }\r\n\r\n    // Place all folder-less items at start\r\n    result.sort((a, b) => {\r\n        // without folders => always at start\r\n        if (!a.parent && a.type !== 'folder' && !b.parent && b.type !== 'folder') {\r\n            if (a.id === b.id) return 0;\r\n            return a.id > b.id ? 1 : -1;\r\n        } else if (!a.parent && a.type !== 'folder') {\r\n            return -1;\r\n        } else if (!b.parent && b.type !== 'folder') {\r\n            return 1;\r\n        } else {\r\n            // common and global are always at the end\r\n            if ((a.id.startsWith('script.js.common') || a.id.startsWith('script.js.global')) &&\r\n                (b.id.startsWith('script.js.common') || b.id.startsWith('script.js.global'))) {\r\n                if (a.id === b.id) return 0;\r\n                return a.id > b.id ? 1 : -1;\r\n            } else if (a.id.startsWith('script.js.common') || a.id.startsWith('script.js.global')) {\r\n                return 1;\r\n            } else if (b.id.startsWith('script.js.common') || b.id.startsWith('script.js.global')) {\r\n                return -1;\r\n            } else {\r\n                if (a.id === b.id) return 0;\r\n                return a.id > b.id ? 1 : -1;\r\n            }\r\n        }\r\n    });\r\n\r\n    // Fill all index\r\n    result.forEach((item, i) => item.index = i);\r\n\r\n    let modified;\r\n    const regEx = new RegExp('^' + root.replace(/\\./g, '\\\\.'));\r\n    do {\r\n        modified = false;\r\n        // check if all parents exists\r\n\r\n        // eslint-disable-next-line no-loop-func\r\n        result.forEach(item => {\r\n            if (item.parent) {\r\n                const parent = result.find(it => it.id === item.parent);\r\n                if (!parent) {\r\n                    const parts = item.parent.split('.');\r\n                    parts.pop();\r\n                    result.push({\r\n                        id: item.parent,\r\n                        title: root ? item.parent.replace(regEx, '') : item.parent,\r\n                        depth: parts.length - 1,\r\n                        type: 'folder',\r\n                        parent: parts.length >= 2 ? parts.join('.') : null\r\n                    });\r\n                    modified = true;\r\n                }\r\n            }\r\n        });\r\n    } while (modified);\r\n\r\n    // Fill all parentIndex\r\n    result.forEach(item => {\r\n        if (item.parent) {\r\n            const parent = result.find(it => it.id === item.parent);\r\n            if (parent) {\r\n                item.parentIndex = parent.index;\r\n            }\r\n        }\r\n    });\r\n\r\n    return result;\r\n};\r\n\r\nconst images = {\r\n    'dimmer': IconTypeDimmer,\r\n    'light': IconTypeLight,\r\n    'socket': IconTypeSwitch,\r\n    def: IconTypeGeneric,\r\n};\r\n\r\nclass TreeView extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        let expanded = window.localStorage ? window.localStorage.getItem('TreeView.expanded') : '';\r\n        try {\r\n            expanded = expanded ? JSON.parse(expanded) || null : null;\r\n        } catch (e) {\r\n            expanded = null;\r\n        }\r\n        const listItems = prepareList(props.objects || {});\r\n\r\n        if (expanded === null) {\r\n            expanded = [];\r\n            listItems.forEach(item =>\r\n                expanded.includes(item.parent) && expanded.push(item.parent));\r\n        }\r\n\r\n        this.state = {\r\n            listItems,\r\n            expanded,\r\n            theme: this.props.theme,\r\n            selected: this.props.selected || (listItems[0] && listItems[0].id) || '',\r\n            renaming: null,\r\n            deleting: null,\r\n            errorText: '',\r\n            width: this.props.width || 300,\r\n            filterMenuOpened: false,\r\n            addNew: false,\r\n            addNewName: '',\r\n            typeFilter: window.localStorage ? window.localStorage.getItem('TreeView.typeFilter') || '' : '', // lamp, window, ...\r\n            searchText: window.localStorage ? window.localStorage.getItem('TreeView.searchText') || '' : '',\r\n        };\r\n\r\n        this.theme = this.props.theme || 'light';\r\n\r\n        const newExp = this.ensureSelectedIsVisible();\r\n        if (newExp) {\r\n            this.state.expanded = newExp;\r\n        }\r\n        // debounce search process\r\n        this.filterTimer = null;\r\n        // setTimeout(() => this.props.onSelect && this.props.onSelect(this.state.selected), 200);\r\n    }\r\n\r\n    handleOk() {\r\n        this.props.onClose && this.props.onClose();\r\n    };\r\n\r\n    static getDerivedStateFromProps(props, state) {\r\n        let changed = false;\r\n        const newState = {};\r\n        if (props.objects) {\r\n            const listItems = prepareList(props.objects || {});\r\n            if (JSON.stringify(listItems) !== JSON.stringify(state.listItems)) {\r\n                state.listItems = listItems;\r\n                changed = true;\r\n            }\r\n        }\r\n\r\n        return changed ? newState : null;\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n        if (prevProps.selected !== this.props.selected) {\r\n            this.setState({ selected: this.props.selected });\r\n        }\r\n    }\r\n\r\n    generateId = () => {\r\n        if (!this.state.addNewName) {\r\n            return true;\r\n        }\r\n        let parts = `${this.state.selected}.${this.state.addNewName.replace(Utils.FORBIDDEN_CHARS, '_').replace(/\\s/g, '_').replace(/\\./g, '_')}`;\r\n        return parts;\r\n\r\n    }\r\n\r\n    renderNewItemDialog() {\r\n        // const id = this.state.addNew ? `${this.state.addNew.id}.${this.state.addNewName.replace(FORBIDDEN_CHARS, '_').replace(/\\s/g, '_').replace(/\\./g, '_')}` : null;\r\n        const error = this.generateId() === true ? true : this.props.objects[this.generateId()];\r\n        return (\r\n            <Dialog\r\n                key=\"newDialog\" onClose={() => this.setState({ addNew: null })} open={!!this.state.addNew} className={this.props.classes.dialogNew}>\r\n                <DialogTitle className={this.props.classes.addNewFolderTitle} >{I18n.t('Add new folder to \"%s\"', this.state.addNew && this.state.addNew.title)}</DialogTitle>\r\n                <form className={this.props.classes.dialogNewForm} noValidate autoComplete=\"off\">\r\n                    <TextField\r\n                        onKeyPress={async ev => {\r\n                            if (ev.key === 'Enter') {\r\n                                ev.preventDefault();\r\n                                ev.stopPropagation();\r\n\r\n                                if (this.state.addNewName) {\r\n                                    const id = this.state.selected;\r\n                                    await this.props.onAddNew(this.state.addNewName, this.state.addNew.id);\r\n                                    this.toggleExpanded(id, true);\r\n                                    this.setState({ addNew: null, addNewName: '' });\r\n                                } else {\r\n                                    this.setState({ addNew: null, addNewName: '' });\r\n                                }\r\n                            }\r\n                        }}\r\n                        error={!!error}\r\n                        className={this.props.classes.dialogNewInput} autoFocus\r\n                        label={I18n.t('Folder name')}\r\n                        value={this.state.addNewName}\r\n                        onChange={e => this.setState({ addNewName: e.target.value })} />\r\n                </form>\r\n                <DialogActions>\r\n                    <Button\r\n                        variant=\"contained\"\r\n                        disabled={!!error}\r\n                        onClick={async () => {\r\n                            const id = this.state.selected;\r\n                            await this.props.onAddNew(this.state.addNewName, this.state.addNew.id);\r\n                            this.toggleExpanded(id, true);\r\n                            this.setState({ addNew: null, addNewName: '' });\r\n                        }}\r\n                        startIcon={<IconOK />}\r\n                        color=\"primary\"\r\n                    >{I18n.t('Add')}</Button>\r\n                    <Button\r\n                        variant=\"contained\"\r\n                        onClick={() => this.setState({ addNew: null, addNewName: '' })}\r\n                        startIcon={<IconCancel />}\r\n                    >{I18n.t('Cancel')}</Button>\r\n                </DialogActions>\r\n            </Dialog>);\r\n    }\r\n\r\n    ensureSelectedIsVisible(selected, expanded) {\r\n        expanded = JSON.parse(JSON.stringify(expanded || this.state.expanded));\r\n        selected = selected || this.state.selected;\r\n        let changed = false;\r\n        // ensure that the item is visible\r\n        let el = typeof selected === 'object' ? selected : this.state.listItems.find(it => it.id === selected);\r\n        do {\r\n            // eslint-disable-next-line\r\n            el = el && el.parent && this.state.listItems.find(it => it.id === el.parent);\r\n            if (el) {\r\n                if (!expanded.includes(el.id)) {\r\n                    expanded.push(el.id);\r\n                    changed = true;\r\n                }\r\n            }\r\n        } while (el);\r\n        return changed && expanded;\r\n    }\r\n\r\n    onCollapseAll() {\r\n        this.setState({ expanded: [] });\r\n        this.saveExpanded([]);\r\n    }\r\n\r\n    onExpandAll() {\r\n        const expanded = [];\r\n        this.state.listItems.forEach(item => {\r\n            if (this.state.listItems.find(it => it.parent === item.id)) {\r\n                expanded.push(item.id);\r\n            }\r\n        });\r\n        this.setState({ expanded });\r\n        this.saveExpanded(expanded);\r\n    }\r\n\r\n    saveExpanded(expanded) {\r\n        window.localStorage.setItem('TreeView.expanded', JSON.stringify(expanded || this.state.expanded));\r\n    }\r\n\r\n    toggleExpanded(id, onlyOpen) {\r\n        if(this.props.disabled){\r\n            return;\r\n        }\r\n        const expanded = this.state.expanded.slice();\r\n        const pos = expanded.indexOf(id);\r\n        if (pos === -1) {\r\n            expanded.push(id);\r\n            expanded.sort();\r\n        } else {\r\n            if (!onlyOpen) {\r\n                expanded.splice(pos, 1);\r\n            }\r\n        }\r\n\r\n        this.setState({ expanded });\r\n        this.saveExpanded(expanded);\r\n    }\r\n\r\n    isFilteredOut(item) {\r\n        return false;\r\n    }\r\n\r\n    getTextStyle(item) {\r\n        if (item.type !== 'folder') {\r\n            return {\r\n                //width: 130,\r\n                width: `calc(100% - ${this.state.width > 350 ? 210 : 165}px)`,\r\n                overflow: 'hidden',\r\n                whiteSpace: 'nowrap',\r\n                flex: 'none',\r\n                padding: '0 16px 0 0'\r\n            };\r\n        } else {\r\n            const style = {\r\n                whiteSpace: 'nowrap',\r\n                padding: '0 16px 0 0'\r\n            };\r\n\r\n            if (item.id === this.state.selected) {\r\n                style.fontWeight = 'bold'\r\n            }\r\n\r\n            return style;\r\n        }\r\n    }\r\n\r\n    renderFolderButtons(item, children, isExpanded) {\r\n        if (children && children.length) {\r\n            return <IconButton\r\n                className={this.props.classes.expandButton}\r\n                onClick={isExpanded ? e => this.onCollapse(item.id, e) : e => this.onExpand(item.id, e)}>\r\n                {isExpanded ? <IconCollapse fontSize=\"small\" /> : <IconExpand fontSize=\"small\" />}\r\n            </IconButton>;\r\n        } else {\r\n            return <div className={this.props.classes.expandButton} />;\r\n        }\r\n    }\r\n\r\n    onClick(item, e) {\r\n        if (this.props.disabled) {\r\n            return\r\n        }\r\n        // window.localStorage.setItem('TreeView.selected', item.id);\r\n        this.setState({ selected: item.id });\r\n        this.props.onSelect && this.props.onSelect(item.id);\r\n    }\r\n\r\n    renderOneItem(items, item) {\r\n        let childrenFiltered = (this.state.searchText || this.state.typeFilter) && items.filter(i => i.parent === item.id ? !this.isFilteredOut(i) : false);\r\n        let children = items.filter(i => i.parent === item.id);\r\n\r\n        if (this.isFilteredOut(item)) {\r\n            return;\r\n        }\r\n\r\n        if (item.type === 'folder' && (this.state.searchText || this.state.typeFilter) && !childrenFiltered.length) {\r\n            return;\r\n        }\r\n\r\n        const depthPx = item.depth * LEVEL_OFFSET + 10;\r\n\r\n        let title = item.title;\r\n\r\n        if (this.state.searchText) {\r\n            const pos = title.toLowerCase().indexOf(this.state.searchText.toLowerCase());\r\n            if (pos !== -1) {\r\n                title = [\r\n                    <span key=\"first\">{title.substring(0, pos)}</span>,\r\n                    <span key=\"second\" style={{ color: 'orange' }}>{title.substring(pos, pos + this.state.searchText.length)}</span>,\r\n                    <span key=\"third\">{title.substring(pos + this.state.searchText.length)}</span>,\r\n                ];\r\n            }\r\n        }\r\n\r\n        const style = Object.assign({\r\n            paddingLeft: depthPx,\r\n            borderRadius: 3,\r\n            cursor: item.type === 'folder' && this.state.reorder ? 'default' : 'pointer',\r\n            opacity: item.filteredPartly ? 0.5 : 1,\r\n        }, item.id === this.state.selected ? { background: this.props.theme.palette.secondary.dark, color: '#FFF' } : {});\r\n\r\n        let isExpanded = false;\r\n        if (children && children.length) {\r\n            isExpanded = this.state.expanded.includes(item.id);\r\n        }\r\n\r\n        let iconStyle = {};\r\n        let countSpan = (childrenFiltered && childrenFiltered.length) || children.length ?\r\n            <span className={this.props.classes.childrenCount}>{childrenFiltered && childrenFiltered.length !== children.length ?\r\n                `${childrenFiltered.length}(${children.length})` :\r\n                children.length}</span>\r\n            : null;\r\n\r\n        if (!countSpan) {\r\n            iconStyle.opacity = 0.5;\r\n        }\r\n        if (item.id === this.state.selected) {\r\n            iconStyle.opacity = 1;\r\n        }\r\n        iconStyle.color = \"#448dde\";\r\n\r\n        if (item.color) {\r\n            iconStyle.color = item.color;\r\n        }\r\n\r\n        const inner = <ListItem\r\n            key={item.id}\r\n            style={style}\r\n            onDoubleClick={() => this.toggleExpanded(item.id)}\r\n            className={Utils.clsx(item.type === 'folder' ? this.props.classes.folder : this.props.classes.element, this.state.reorder && this.props.classes.reorder)}\r\n            onClick={e => this.onClick(item, e)}\r\n        >\r\n            <ListItemIcon className={this.props.classes.iconStyle}>{item.type === 'folder' ?\r\n                (isExpanded ?\r\n                    <IconFolderOpened onClick={() => this.toggleExpanded(item.id)} style={iconStyle} /> :\r\n                    <IconFolder onClick={() => this.toggleExpanded(item.id)} style={iconStyle} />)\r\n                :\r\n                <Icon className={this.props.classes.itemIcon} alt={item.type} src={images[item.type] || images.def} />\r\n            }</ListItemIcon>\r\n            {item.icon && <Icon className={this.props.classes.iconCommon} alt={item.type} src={item.icon} />}\r\n            <div\r\n                style={this.getTextStyle(item)}\r\n                className={clsx(item.id === this.state.selected && this.props.classes.selected, this.props.classes.fontStyle)}\r\n\r\n            >{title}</div>\r\n            <ListItemSecondaryAction style={{ color: item.id === this.state.selected ? 'white' : 'inherit' }}>{countSpan}</ListItemSecondaryAction>\r\n        </ListItem>;\r\n\r\n        const result = [inner];\r\n\r\n        if (isExpanded) {\r\n            children.forEach(it => result.push(this.renderOneItem(items, it)));\r\n        }\r\n        return result;\r\n    }\r\n\r\n    renderAllItems(items, dragging) {\r\n        const result = [];\r\n        items.forEach(item => !item.parent && result.push(this.renderOneItem(items, item, dragging)));\r\n\r\n        return <List key=\"list\" dense={true} disablePadding={true} className={this.props.classes.list}>{result}</List>;\r\n    }\r\n\r\n    renderAddButton() {\r\n\r\n        return <Paper className={this.props.classes.buttonWrapper} position=\"sticky\" color=\"default\">\r\n            {this.props.onAddNew && <Tooltip title={I18n.t('Create new folder')}>\r\n                <div>\r\n                    <IconButton\r\n                        color=\"primary\"\r\n                        disabled={this.props.disabled}\r\n                        onClick={() => this.setState({ addNew: this.state.listItems.find(it => it.id === this.state.selected) })}>\r\n                        <CreateNewFolderIcon />\r\n                    </IconButton>\r\n                </div>\r\n            </Tooltip>}\r\n            <Tooltip title={I18n.t('Expand all nodes')}>\r\n                <div>\r\n                    <IconButton\r\n                        color=\"primary\"\r\n                        disabled={this.props.disabled}\r\n                        onClick={() => this.onExpandAll()}>\r\n                        <IconFolderOpened />\r\n                    </IconButton>\r\n                </div>\r\n            </Tooltip>\r\n            <Tooltip title={I18n.t('Collapse all nodes')}>\r\n                <div>\r\n                    <IconButton\r\n                        color=\"primary\"\r\n                        disabled={this.props.disabled}\r\n                        onClick={() => this.onCollapseAll()}>\r\n                        <IconFolder />\r\n                    </IconButton>\r\n                </div>\r\n            </Tooltip>\r\n        </Paper>;\r\n    }\r\n\r\n    renderTree() {\r\n        return this.renderAllItems(this.state.listItems);\r\n    }\r\n\r\n    render() {\r\n        return <Paper className={clsx(this.props.classes.wrapperFoldersBlock, this.props.displayFlex && this.props.classes.displayFlex)}>\r\n            {this.renderAddButton()}\r\n            {this.renderTree()}\r\n            {this.renderNewItemDialog()}\r\n        </Paper>;\r\n    }\r\n}\r\n\r\nTreeView.propTypes = {\r\n    objects: PropTypes.object,\r\n    onSelect: PropTypes.func,\r\n    selected: PropTypes.string,\r\n    theme: PropTypes.object,\r\n    themeType: PropTypes.string,\r\n    root: PropTypes.string,\r\n    onAddNew: PropTypes.func,\r\n    disabled: PropTypes.bool\r\n};\r\n\r\nexport default withStyles(styles)(TreeView);\r\n","import React, { useEffect, useState } from 'react';\r\nimport clsx from 'clsx';\r\n\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport {\r\n    Checkbox,\r\n    DialogTitle, FormControl, FormControlLabel, IconButton, InputLabel, LinearProgress, makeStyles,\r\n    MenuItem,\r\n    Select,\r\n    TextField,\r\n    ThemeProvider,\r\n    Tooltip\r\n} from '@material-ui/core';\r\n\r\nimport { MdModeEdit as IconEdit } from 'react-icons/md';\r\nimport IconClose from '@material-ui/icons/Close';\r\nimport IconCheck from '@material-ui/icons/Check';\r\n\r\nimport I18n from '@iobroker/adapter-react/i18n';\r\nimport theme from '@iobroker/adapter-react/Theme';\r\nimport Utils from '@iobroker/adapter-react/Components/Utils';\r\nimport Icon from '@iobroker/adapter-react/Components/Icon';\r\n\r\nimport TypeIcon from '../Components/TypeIcon';\r\nimport TreeView from '../Components/TreeView';\r\nimport { useStateLocal } from '../Components/helpers/hooks/useStateLocal';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        backgroundColor: theme.palette.background.paper,\r\n        width: '100%',\r\n        height: 'auto',\r\n        display: 'flex'\r\n    },\r\n    paper: {\r\n        maxWidth: 960,\r\n        maxHeight: 'calc(100% - 64px)',\r\n        width: '100%'\r\n    },\r\n    overflowHidden: {\r\n        display: 'flex',\r\n        overflow: 'hidden'\r\n    },\r\n    pre: {\r\n        overflow: 'auto',\r\n        whiteSpace: 'pre-wrap',\r\n        margin: 0\r\n    },\r\n    divOids: {\r\n        display: 'flex',\r\n        width: '100%',\r\n    },\r\n    divOidField: {\r\n        width: '100%',\r\n        display: 'block',\r\n        paddingTop: 7,\r\n        paddingBottom: 7,\r\n    },\r\n\r\n    oidName: {\r\n        fontSize: 14,\r\n        fontWeight: 'bold'\r\n    },\r\n    flex: {\r\n        flex: 1,\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        overflow: 'hidden'\r\n    },\r\n    type: {\r\n        width: '100%',\r\n    },\r\n    deviceWrapper: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        padding: 4,\r\n        margin: '2px 10px',\r\n        '&:hover': {\r\n            background: '#6969694f',\r\n            borderRadius: 4\r\n        }\r\n    },\r\n    fontStyle: {\r\n        padding: '0px 8px',\r\n        overflow: 'hidden',\r\n        fontWeight: 'bold',\r\n        whiteSpace: 'nowrap',\r\n        textOverflow: 'ellipsis'\r\n    },\r\n    fontStyleId: {\r\n        padding: '0px 8px',\r\n        overflow: 'hidden',\r\n        fontWeight: 'bold',\r\n        whiteSpace: 'nowrap',\r\n        textOverflow: 'ellipsis',\r\n        opacity: 0.6,\r\n        fontSize: 9,\r\n        fontStyle: 'italic'\r\n    },\r\n    wrapperTitleAndId: {\r\n        alignSelf: 'center',\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        width: '100%',\r\n        overflow: 'hidden'\r\n    },\r\n    tableIcon: {\r\n        margin: 'auto 0'\r\n    },\r\n    tableIconImg: {\r\n        width: 20,\r\n        height: 20\r\n    },\r\n    header: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        background: '#00000057',\r\n        margin: 10,\r\n        padding: 4,\r\n        borderRadius: 4,\r\n        marginBottom: 10\r\n    },\r\n    wrapperDevices: {\r\n        margin: '0 10px'\r\n    },\r\n    wrapperItems: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        overflow: 'auto'\r\n    },\r\n    wrapperCloning: {\r\n        backgroundColor: '#FFFFFF10',\r\n        borderRadius: 3,\r\n        flex: 2\r\n    },\r\n    wrapperNameAndId: {\r\n        display: 'flex',\r\n        justifyContent: 'space-between',\r\n        width: '100%'\r\n    },\r\n    wrapperCheckbox: {\r\n        display: 'flex',\r\n        width: '100%'\r\n    },\r\n    enumsWrapper: {\r\n        display: 'flex',\r\n        paddingLeft: 60,\r\n        overflow: 'hidden'\r\n    },\r\n    wrapperIconEnumCell: {\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        margin: '0 4px'\r\n    },\r\n    enumIcon: {\r\n        width: 20,\r\n        height: 20\r\n    },\r\n    nameEnumCell: {\r\n        fontSize: 10,\r\n        opacity: 0.7,\r\n        marginLeft: 4\r\n    },\r\n    backgroundRed: {\r\n        background: '#ff000029',\r\n        borderRadius: 4\r\n    },\r\n    dialogNewForm: {\r\n        margin: 10\r\n    },\r\n    emptyList: {\r\n        display: 'flex',\r\n        margin: 10,\r\n        padding: '0 10px',\r\n        opacity: 0.7,\r\n        fontWeight: 'bold'\r\n    },\r\n    enumsStyle: {\r\n        color: '#448dde',\r\n        opacity: 1\r\n    },\r\n    formControlLabel: {\r\n        marginLeft: 0,\r\n        opacity: 0.6\r\n    },\r\n    headerWrapElement: {\r\n        display: 'flex'\r\n    },\r\n    backgroundSilver: {\r\n        opacity: 0.5\r\n    },\r\n    startTheProcess: {\r\n        opacity: 0.5\r\n    },\r\n    '@media screen and (max-width: 650px)': {\r\n        divOids: {\r\n            flexDirection: 'column'\r\n        },\r\n        wrapperDevices: {\r\n            height: 200,\r\n            width: '100%',\r\n            display: 'block',\r\n            flex: 'auto',\r\n            margin: '10px 0'\r\n        },\r\n        overflowHidden: {\r\n            overflowY: 'auto',\r\n            padding: 10\r\n        },\r\n        wrapperCloning:{\r\n            flex: 'auto',\r\n            overflow: 'auto'\r\n        },\r\n        flex:{\r\n            overflow: 'initial'\r\n        },\r\n        formControlLabel:{\r\n            '& span':{\r\n                fontSize:10,\r\n            }\r\n        },\r\n        header:{\r\n            margin: 0\r\n        },\r\n        deviceWrapper:{\r\n            margin:'2px 0'\r\n        },\r\n        fontStyle:{\r\n            fontSize:10,\r\n        },\r\n        fontStyleId:{\r\n            fontSize:8,\r\n        },\r\n        nameEnumCell:{\r\n            fontSize: 7,\r\n            marginLeft: 2\r\n        }\r\n    }\r\n}));\r\n\r\nconst RenderNewItemDialog = ({ classes, object, onClose, open, checkDeviceInObjects }) => {\r\n    const [name, setName] = useState(object.title);\r\n    const error = !name || (object && checkDeviceInObjects(name, object.id));\r\n\r\n    useEffect(() => {\r\n        if (object && name !== object.title) {\r\n            setName(object.title)\r\n        }\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [object]);\r\n\r\n    return <Dialog\r\n        key=\"newDialog\"\r\n        onClose={() => onClose()}\r\n        open={open}>\r\n        <DialogTitle className={classes.addNewFolderTitle} >{I18n.t('Edit name \"%s\"', name)}</DialogTitle>\r\n        <form className={classes.dialogNewForm} autoComplete=\"off\">\r\n            <TextField\r\n                onKeyPress={(ev) => {\r\n                    if (ev.key === 'Enter') {\r\n                        ev.preventDefault();\r\n\r\n                        if (name && !error) {\r\n                            onClose(name);\r\n                        } else {\r\n                            onClose();\r\n                        }\r\n                    }\r\n                }}\r\n                error={!!error}\r\n                className={classes.dialogNewInput}\r\n                autoFocus\r\n                fullWidth\r\n                label={I18n.t('Name')}\r\n                value={name}\r\n                onChange={e => setName(e.target.value)} />\r\n        </form>\r\n        <DialogActions>\r\n            <Button\r\n                variant=\"contained\"\r\n                disabled={!!error || object.title === name}\r\n                onClick={() => onClose(name)}\r\n                startIcon={<IconCheck />}\r\n                color=\"primary\">{I18n.t('Apply')}</Button>\r\n            <Button\r\n                variant=\"contained\"\r\n                onClick={() => onClose()}\r\n                startIcon={<IconClose />}\r\n            >{I18n.t('Cancel')}</Button>\r\n        </DialogActions>\r\n    </Dialog>;\r\n}\r\n\r\nconst DialogImporter = ({\r\n    onClose,\r\n    item,\r\n    socket,\r\n    devices,\r\n    objects,\r\n    listItems,\r\n    onCopyDevice\r\n}) => {\r\n    const classes = useStyles();\r\n    const [arrayDevice, setArrayDevice] = useState([]);\r\n    const [cloningMethod, setCloningMethod] = useStateLocal('flat', 'importer.cloningMethod');\r\n    const [idsFolder, setSdsFolder] = useState([]);\r\n    const [selectFolder, setSelectFolder] = useState('alias.0');\r\n    const [checkedSelect, setCheckedSelect] = useState([]);\r\n    const [openEdit, setOpenEdit] = useState(false);\r\n    const [skipElement, setSkipElement] = useState(true);\r\n    const [startTheProcess, setStartTheProcess] = useState(false);\r\n\r\n    useEffect(() => {\r\n        const ids = [];\r\n        const getParentId = id => {\r\n            const pos = id.lastIndexOf('.');\r\n            if (pos !== -1) {\r\n                return id.substring(0, pos);\r\n            } else {\r\n                return '';\r\n            }\r\n        };\r\n\r\n        const getLastPart = (id) => {\r\n            const pos = id.lastIndexOf('.');\r\n            if (pos !== -1) {\r\n                return id.substring(pos + 1);\r\n            } else {\r\n                return id;\r\n            }\r\n        };\r\n\r\n        const prefix = 'alias.0';\r\n        Object.keys(objects).forEach(id => {\r\n            if (id.startsWith(prefix) &&\r\n                objects[id] &&\r\n                objects[id].common &&\r\n                (objects[id].type === 'channel' || objects[id].type === 'device' || objects[id].type === 'folder')) {\r\n                let parentId;\r\n                // getParentId\r\n                if (objects[id].type === 'folder') {\r\n                    parentId = id;\r\n                } else {\r\n                    parentId = getParentId(id);\r\n                }\r\n\r\n                if (parentId && !ids.includes(parentId)) {\r\n                    ids.push(parentId);\r\n                }\r\n            }\r\n        });\r\n\r\n        const stateIds = {};\r\n        const language = I18n.getLanguage();\r\n        ids.forEach(id => stateIds[id] = {\r\n            common: {\r\n                name: objects[id] && objects[id].type === 'folder' ? Utils.getObjectName(objects, id, { language }) : getLastPart(id),\r\n                nondeletable: true,\r\n                color: objects[id]?.common && objects[id].common.color ? objects[id].common.color : null,\r\n                icon: objects[id]?.common && objects[id].common.icon ? objects[id].common.icon : null\r\n            },\r\n            type: 'folder'\r\n        });\r\n\r\n        stateIds[prefix] = {\r\n            common: {\r\n                name: I18n.t('Root'),\r\n                nondeletable: true\r\n            },\r\n            type: 'folder'\r\n        };\r\n\r\n        setSdsFolder(stateIds);\r\n    }, [objects, listItems]);\r\n\r\n    useEffect(() => {\r\n        const originalIds = listItems.filter(el => el?.obj?.native?.originalId).map(el => el.obj.native.originalId)\r\n\r\n        const newArray = listItems.filter(device => device.parent === item.id && !originalIds.includes(device.id));\r\n        setArrayDevice(newArray);\r\n        const selectId = newArray.map(device => device.id);\r\n        setCheckedSelect(selectId);\r\n    }, [item.id, item.parent, listItems]);\r\n\r\n    const addNewFolder = async (dataFolder, id) => {\r\n        const obj = {\r\n            _id: id,\r\n            common: {\r\n                name: dataFolder.objName ? dataFolder.objName : { [I18n.getLanguage()]: dataFolder.name },\r\n                color: dataFolder.color,\r\n                icon: dataFolder.icon\r\n            },\r\n            native: {},\r\n            type: 'folder'\r\n        };\r\n\r\n        await socket.setObject(id, obj);\r\n    };\r\n\r\n    const addDevice = async (id, el) => {\r\n        const newId = `${id}.${el.title.replace(Utils.FORBIDDEN_CHARS, '_').replace(/\\s/g, '_').replace(/\\./g, '_')}`\r\n        await onCopyDevice(el.id, newId);\r\n    };\r\n\r\n    const arrayDeviceFunction = async () => {\r\n        for (let s = 0; s < arrayDevice.length; s++) {\r\n            const el = arrayDevice[s];\r\n            if (checkedSelect.indexOf(el.id) === -1 ||\r\n                checkDeviceInObjects(el.title, el.id) ||\r\n                checkEnumsScip(el.id)\r\n            ) {\r\n                continue;\r\n            }\r\n            let newId = `${selectFolder}`;\r\n            const device = devices.find(device => el.id === device.channelId);\r\n\r\n            if (cloningMethod === 'rooms') {\r\n                if (device.rooms.length) {\r\n                    newId = `${newId}.${device.rooms[0].replace('enum.rooms.', '')}`;\r\n                    if (!objects[newId]) {\r\n                        const newObjFolder = objects[device.rooms[0]];\r\n                        await addNewFolder({\r\n                            objName: newObjFolder.common.name,\r\n                            color: newObjFolder.common.color,\r\n                            icon: newObjFolder.common.icon\r\n                        }, newId);\r\n                        await addDevice(newId, el);\r\n                        continue;\r\n                    }\r\n                }\r\n            } else if (cloningMethod === 'functions') {\r\n                if (device.functions.length) {\r\n                    newId = `${newId}.${device.functions[0].replace('enum.functions.', '')}`;\r\n                    if (!objects[newId]) {\r\n                        const newObjFolder = objects[device.functions[0]];\r\n                        await addNewFolder({\r\n                            objName: newObjFolder.common.name,\r\n                            color: newObjFolder.common.color,\r\n                            icon: newObjFolder.common.icon\r\n                        }, newId);\r\n                        await addDevice(newId, el);\r\n                        continue;\r\n                    }\r\n                }\r\n            }\r\n            await addDevice(newId, el);\r\n        }\r\n    };\r\n\r\n    const onChangeCopy = async () => {\r\n        if (!objects[selectFolder] && selectFolder !== 'alias.0') {\r\n            let parts = selectFolder.split('.');\r\n            parts = parts.pop();\r\n            await addNewFolder({\r\n                name: parts.replace(Utils.FORBIDDEN_CHARS, '_').replace(/\\s/g, '_').replace(/\\./g, '_'),\r\n                color: null,\r\n                icon: null\r\n            }, selectFolder);\r\n        }\r\n        await arrayDeviceFunction();\r\n    };\r\n\r\n    const generateFolders = () => {\r\n        switch (cloningMethod) {\r\n            case 'flat':\r\n                return '';\r\n            case 'rooms':\r\n                return `.{${I18n.t('rooms')}}`;\r\n            case 'functions':\r\n                return `.{${I18n.t('functions')}}`;\r\n            default:\r\n                return '';\r\n        }\r\n    };\r\n\r\n    const renderEnumCell = (id, name) => {\r\n        const device = devices.find(device => id === device.channelId);\r\n        if (!device || (device && !device[name])) {\r\n            return null;\r\n        }\r\n        return device[name].map(id => ({\r\n            icon: Utils.getObjectIcon(id, objects[id]),\r\n            name: Utils.getObjectName(objects, id, { language: I18n.getLanguage() }),\r\n            id\r\n        })).map(obj => <div className={clsx(classes.wrapperIconEnumCell, name === 'rooms' && classes.enumsStyle)} key={obj.id}>\r\n            {obj.icon && <Icon className={classes.enumIcon} src={obj.icon} alt={obj.id} />}\r\n            <div className={classes.nameEnumCell}>{obj.name}</div>\r\n        </div>);\r\n    };\r\n\r\n    const checkDeviceInObjects = (name, id) => {\r\n        const device = devices.find(device => id === device.channelId);\r\n        let newId = `${selectFolder}.${name.replace(Utils.FORBIDDEN_CHARS, '_').replace(/\\s/g, '_').replace(/\\./g, '_')}`;\r\n        if (cloningMethod === 'rooms') {\r\n            if (device.rooms.length) {\r\n                newId = `${selectFolder}.${device.rooms[0].replace('enum.rooms.', '')}.${name.replace(Utils.FORBIDDEN_CHARS, '_').replace(/\\s/g, '_').replace(/\\./g, '_')}`;\r\n            }\r\n        } else if (cloningMethod === 'functions') {\r\n            if (device.functions.length) {\r\n                newId = `${selectFolder}.${device.functions[0].replace('enum.functions.', '')}.${name.replace(Utils.FORBIDDEN_CHARS, '_').replace(/\\s/g, '_').replace(/\\./g, '_')}`;\r\n            }\r\n        }\r\n        return !!objects[newId];\r\n    };\r\n\r\n    const checkEnumsScip = (id) => {\r\n        const device = devices.find(device => id === device.channelId);\r\n\r\n        if (cloningMethod === 'rooms' && skipElement) {\r\n            return !device.rooms.length;\r\n        } else if (cloningMethod === 'functions' && skipElement) {\r\n            return !device.functions.length;\r\n        } else {\r\n            return false;\r\n        }\r\n    };\r\n\r\n    return <ThemeProvider theme={theme(Utils.getThemeName())}>\r\n        <Dialog\r\n            onClose={() => onClose()}\r\n            open={true}\r\n            classes={{ paper: classes.paper }}\r\n        >\r\n            <DialogTitle>{I18n.t('Importer')} {item.title} → {selectFolder}{generateFolders()}</DialogTitle>\r\n            <DialogContent className={classes.overflowHidden} dividers>\r\n                <RenderNewItemDialog\r\n                    classes={classes}\r\n                    object={openEdit}\r\n                    checkDeviceInObjects={checkDeviceInObjects}\r\n                    onClose={name => {\r\n                        if (name) {\r\n                            const indexDevice = arrayDevice.indexOf(openEdit);\r\n                            if (indexDevice !== -1) {\r\n                                const newDevice = JSON.parse(JSON.stringify(openEdit));\r\n                                const newArrayDevice = JSON.parse(JSON.stringify(arrayDevice));\r\n                                newDevice.title = name;\r\n                                newArrayDevice[indexDevice] = newDevice;\r\n                                setArrayDevice(newArrayDevice);\r\n                            }\r\n                        }\r\n                        setOpenEdit(false);\r\n                    }}\r\n                    open={openEdit}\r\n                />\r\n                <div className={classes.divOids}>\r\n                    <div className={clsx(classes.flex, classes.wrapperDevices, startTheProcess && classes.startTheProcess)}>\r\n                        <TreeView\r\n                            themeType={Utils.getThemeType()}\r\n                            theme={theme(Utils.getThemeName())}\r\n                            objects={idsFolder}\r\n                            onAddNew={async (name, parentId) => await addNewFolder({ name, icon: null, color: null }, `${parentId}.${name.replace(Utils.FORBIDDEN_CHARS, '_').replace(/\\s/g, '_').replace(/\\./g, '_')}`)}\r\n                            onSelect={id => setSelectFolder(id)}\r\n                            selected={selectFolder}\r\n                            displayFlex\r\n                            disabled={startTheProcess}\r\n                        />\r\n                    </div>\r\n                    <div className={clsx(classes.flex, classes.wrapperCloning)}>\r\n                        {startTheProcess && <LinearProgress />}\r\n                        <div className={classes.header}>\r\n                            <div className={clsx(classes.headerWrapElement, startTheProcess && classes.startTheProcess)}>\r\n                                <Checkbox\r\n                                    disabled={!arrayDevice.length || startTheProcess}\r\n                                    checked={arrayDevice.length === checkedSelect.length || ((arrayDevice.length !== checkedSelect.length) && checkedSelect.length !== 0)}\r\n                                    indeterminate={(arrayDevice.length !== checkedSelect.length) && checkedSelect.length !== 0}\r\n                                    onChange={() => {\r\n                                        if (arrayDevice.length === checkedSelect.length) {\r\n                                            setCheckedSelect([]);\r\n                                        } else {\r\n                                            const selectId = arrayDevice.map(device => device.id);\r\n                                            setCheckedSelect(selectId);\r\n                                        }\r\n                                    }}\r\n                                />\r\n                                <FormControl className={classes.type}>\r\n                                    <InputLabel>{I18n.t('cloning method')}</InputLabel>\r\n                                    <Select\r\n                                        className={classes.oidField}\r\n                                        fullWidth\r\n                                        disabled={!arrayDevice.length || startTheProcess}\r\n                                        value={cloningMethod}\r\n                                        onChange={e => {\r\n                                            setCloningMethod(e.target.value);\r\n                                        }}\r\n                                    >\r\n                                        <MenuItem value={'flat'}>\r\n                                            {I18n.t('flat')}\r\n                                        </MenuItem>\r\n                                        <MenuItem value={'rooms'}>\r\n                                            {I18n.t('rooms')}\r\n                                        </MenuItem>\r\n                                        <MenuItem value={'functions'}>\r\n                                            {I18n.t('functions')}\r\n                                        </MenuItem>\r\n                                    </Select>\r\n                                </FormControl>\r\n                            </div>\r\n                            {cloningMethod !== 'flat' &&\r\n                                <FormControlLabel\r\n                                    className={classes.formControlLabel}\r\n                                    control={<Checkbox\r\n                                        checked={skipElement}\r\n                                        onChange={() => setSkipElement(!skipElement)}\r\n                                    />}\r\n                                    label={I18n.t('do not export devices without category')}\r\n                                />}\r\n                        </div>\r\n                        <div className={clsx(classes.wrapperItems, startTheProcess && classes.startTheProcess)}>\r\n                            {!arrayDevice.length && <div className={classes.emptyList}>\r\n                                {I18n.t('The list of devices to copy is empty')}\r\n                            </div>}\r\n                            {arrayDevice.map(device => <div className={clsx(classes.deviceWrapper, checkDeviceInObjects(device.title, device.id) && classes.backgroundRed, checkEnumsScip(device.id) && classes.backgroundSilver)} key={device.id}>\r\n                                <div className={classes.wrapperNameAndId}>\r\n                                    <div className={classes.wrapperCheckbox}>\r\n                                        <Checkbox\r\n                                            disabled={checkDeviceInObjects(device.title, device.id) || checkEnumsScip(device.id) || startTheProcess}\r\n                                            checked={checkedSelect.indexOf(device.id) !== -1}\r\n                                            onChange={() => {\r\n                                                const newArray = JSON.parse(JSON.stringify(checkedSelect));\r\n                                                const indexCurrent = checkedSelect.indexOf(device.id);\r\n                                                if (indexCurrent !== -1) {\r\n                                                    newArray.splice(indexCurrent, 1);\r\n                                                    setCheckedSelect(newArray);\r\n                                                } else {\r\n                                                    newArray.push(device.id);\r\n                                                    setCheckedSelect(newArray);\r\n                                                }\r\n                                            }}\r\n                                        />\r\n                                        <div className={classes.tableIcon}>\r\n                                            <TypeIcon src={device.icon} className={classes.tableIconImg} type={device.role} />\r\n                                        </div>\r\n                                        <div className={classes.wrapperTitleAndId}>\r\n                                            <div className={classes.fontStyle}>\r\n                                                {device.title}\r\n                                            </div>\r\n                                            <div className={classes.fontStyleId}>\r\n                                                {device.id}\r\n                                            </div>\r\n                                        </div>\r\n                                        <Tooltip title={I18n.t('Edit')}>\r\n                                            <div>\r\n                                                <IconButton\r\n                                                    onClick={() => setOpenEdit(device)}\r\n                                                    disabled={startTheProcess}\r\n                                                >\r\n                                                    <IconEdit />\r\n                                                </IconButton>\r\n                                            </div>\r\n                                        </Tooltip>\r\n                                    </div>\r\n                                </div>\r\n                                <div className={classes.enumsWrapper}>\r\n                                    {renderEnumCell(device.id, 'functions')}\r\n                                    {renderEnumCell(device.id, 'rooms')}\r\n                                    {/* {checkDeviceInObjects(device.title, device.id)} */}\r\n                                </div>\r\n                            </div>)}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </DialogContent>\r\n            <DialogActions>\r\n                <Button\r\n                    variant=\"contained\"\r\n                    autoFocus\r\n                    disabled={!checkedSelect.length || startTheProcess}\r\n                    onClick={async () => {\r\n                        setStartTheProcess(true);\r\n                        await onChangeCopy();\r\n                        onClose();\r\n                    }}\r\n                    startIcon={<IconCheck />}\r\n                    color=\"primary\">\r\n                    {I18n.t('Import')}\r\n                </Button>\r\n                <Button\r\n                    variant=\"contained\"\r\n                    disabled={startTheProcess}\r\n                    onClick={() =>\r\n                        onClose()}\r\n                    startIcon={<IconClose />}\r\n                    color=\"default\">\r\n                    {I18n.t('Close')}\r\n                </Button>\r\n            </DialogActions>\r\n        </Dialog>\r\n    </ThemeProvider>;\r\n}\r\n\r\nexport default DialogImporter;","import * as React from 'react';\r\n\r\nexport function useStateLocal(defaultValue, key) {\r\n    const [state, setState] = React.useState(\r\n        window.localStorage.getItem(key) ?\r\n            JSON.parse(window.localStorage.getItem(key))\r\n            :\r\n            defaultValue\r\n    );\r\n\r\n    const eventsToInstall = newValue => {\r\n        window.localStorage.setItem(key, JSON.stringify(newValue));\r\n        setState(newValue);\r\n    };\r\n\r\n    return [state, eventsToInstall, !!window.localStorage.getItem(key)];\r\n}","/**\r\n * Copyright 2019-2021 bluefox <dogafox@gmail.com>\r\n *\r\n * MIT License\r\n *\r\n **/\r\nimport React, { Component, createRef } from 'react';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport PropTypes from 'prop-types';\r\nimport clsx from 'clsx';\r\nimport { DndProvider } from 'react-dnd';\r\nimport { HTML5Backend } from 'react-dnd-html5-backend';\r\nimport { TouchBackend } from 'react-dnd-touch-backend';\r\n\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport ButtonBase from '@material-ui/core/ButtonBase';\r\nimport { Toolbar, InputAdornment, ListItemIcon, TextField, Tooltip, withWidth } from '@material-ui/core';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Select from '@material-ui/core/Select';\r\n\r\nimport { MdAdd as IconAdd } from 'react-icons/md';\r\nimport { MdRefresh as IconRefresh } from 'react-icons/md';\r\nimport { MdClear as IconClear } from 'react-icons/md';\r\nimport { FaInfoCircle as IconInfo } from 'react-icons/fa';\r\nimport { MdDelete as IconDelete } from 'react-icons/md';\r\nimport { MdModeEdit as IconEdit } from 'react-icons/md';\r\nimport { FaPowerOff as IconOn } from 'react-icons/fa';\r\nimport { FaThermometerHalf as IconTemperature } from 'react-icons/fa';\r\nimport { FaLongArrowAltUp as IconUp } from 'react-icons/fa';\r\nimport { FaLongArrowAltDown as IconDown } from 'react-icons/fa';\r\nimport { FaPercentage as IconPercentage } from 'react-icons/fa';\r\nimport { FaPalette as IconColor } from 'react-icons/fa';\r\nimport { FaLightbulb as IconBulb } from 'react-icons/fa';\r\nimport { FaLockOpen as IconLock } from 'react-icons/fa';\r\nimport { FaThermometer as IconThermometer } from 'react-icons/fa';\r\nimport { HiLink } from 'react-icons/hi';\r\nimport { FaFolderOpen as IconFolderOpened } from 'react-icons/fa';\r\nimport { FaFolder as IconFolder } from 'react-icons/fa';\r\nimport DvrIcon from '@material-ui/icons/Dvr';\r\nimport FileCopyIcon from '@material-ui/icons/FileCopy';\r\nimport CreateNewFolderIcon from '@material-ui/icons/CreateNewFolder';\r\n\r\nimport { Types } from 'iobroker.type-detector';\r\nimport I18n from '@iobroker/adapter-react/i18n';\r\nimport MessageDialog from '@iobroker/adapter-react/Dialogs/Message';\r\nimport Router from '@iobroker/adapter-react/Components/Router';\r\nimport Utils from '@iobroker/adapter-react/Components/Utils';\r\nimport Icon from '@iobroker/adapter-react/Components/Icon';\r\nimport SelectWithIcon from '@iobroker/adapter-react/Components/SelectWithIcon';\r\n\r\nimport SmartDetector from '../Devices/SmartDetector';\r\nimport DialogEdit from '../Dialogs/DialogEditDevice';\r\nimport DialogNew from '../Dialogs/DialogNewDevice';\r\nimport LocalUtils from '../Components/helpers/LocalUtils';\r\nimport DialogEditEnums from '../Dialogs/DialogEditEnums';\r\nimport TypeIcon from '../Components/TypeIcon';\r\nimport { deleteFolderAndDeviceCallBack } from '../Dialogs/DialogDeleteFolder';\r\nimport DialogEditFolder from '../Dialogs/DialogEditFolder';\r\nimport TYPE_OPTIONS, { ICONS_TYPE } from '../Components/TypeOptions';\r\nimport DragWrapper from '../Components/DragWrapper';\r\nimport DropWrapper from '../Components/DropWrapper';\r\nimport DialogImporter from '../Dialogs/DialogImporter';\r\n\r\nconst colorOn = '#aba613';\r\nconst colorOff = '#444';\r\nconst colorSet = '#00c6ff';\r\nconst colorRead = '#00bc00';\r\nconst colorLinkedDevices = '#2cbd1c';\r\nconst colorNativeDevices = '#F1C40F';\r\n\r\nconst actionsMapping = {\r\n    turnOn: { color: colorOn, icon: IconOn, desc: 'Turn on' },\r\n    turnOff: { color: colorOff, icon: IconOn, desc: 'Turn off' },\r\n\r\n    setTargetTemperature: { color: colorSet, icon: IconTemperature, desc: 'Set target temperature' },\r\n    incrementTargetTemperature: { color: colorOn, icon: IconUp, desc: 'Increment target temperature' },\r\n    decrementTargetTemperature: { color: colorOff, icon: IconDown, desc: 'Decrement target temperature' },\r\n\r\n    setPercentage: { color: colorSet, icon: IconPercentage, desc: 'Set percentage' },\r\n    incrementPercentage: { color: colorOn, icon: IconUp, desc: 'Increment percentage' },\r\n    decrementPercentage: { color: colorOff, icon: IconDown, desc: 'Decrement percentage' },\r\n\r\n    setColor: { color: colorSet, icon: IconColor, desc: 'Set color' },\r\n\r\n    setColorTemperature: { color: colorSet, icon: IconBulb, desc: 'Set color temperature' },\r\n    incrementColorTemperature: { color: colorOn, icon: IconUp, desc: 'Increment color temperature' },\r\n    decrementColorTemperature: { color: colorOff, icon: IconDown, desc: 'Decrement color temperature' },\r\n\r\n    getTargetTemperature: { color: colorRead, icon: IconThermometer, desc: 'Get target temperature' },\r\n    getTemperatureReading: { color: colorRead, icon: IconThermometer, desc: 'Get actual temperature' },\r\n\r\n    setLockState: { color: colorSet, icon: IconLock, desc: 'Set lock state' },\r\n    getLockState: { color: colorRead, icon: IconLock, desc: 'Read lock state' },\r\n};\r\n\r\nconst TYPES_MAPPING = {\r\n    button: 'boolean',\r\n    value: 'number',\r\n    level: 'number',\r\n    indicator: 'boolean',\r\n    action: 'boolean'\r\n};\r\n\r\nconst UNSUPPORTED_TYPES = [\r\n    Types.unknown\r\n];\r\n\r\nfunction getParentId(id) {\r\n    const pos = id.lastIndexOf('.');\r\n    if (pos !== -1) {\r\n        return id.substring(0, pos);\r\n    } else {\r\n        return '';\r\n    }\r\n}\r\n\r\nfunction getLastPart(id) {\r\n    const pos = id.lastIndexOf('.');\r\n    if (pos !== -1) {\r\n        return id.substring(pos + 1);\r\n    } else {\r\n        return id;\r\n    }\r\n}\r\n\r\nconst prepareList = (data, root, objects) => {\r\n    const result = [];\r\n    const ids = Object.keys(data);\r\n    root = root || '';\r\n\r\n    // place common and global scripts at the end\r\n    ids.sort();\r\n\r\n    for (let i = 0; i < ids.length; i++) {\r\n        const obj = data[ids[i]];\r\n        const parts = ids[i].split('.');\r\n        parts.pop();\r\n\r\n        result.push({\r\n            id: obj.obj?._id || ids[i],\r\n            title: Utils.getObjectName(data, ids[i], { language: I18n.getLanguage() }),\r\n            icon: obj.common?.icon || null,\r\n            color: obj.common?.color || null,\r\n            depth: parts.length - 1,\r\n            type: obj.type,\r\n            role: obj.role,\r\n            obj: obj.obj,\r\n            noEdit: !!obj?.noEdit,\r\n            showId: !!obj?.showId,\r\n            importer: !!obj?.importer,\r\n            originalId: obj?.native?.originalId || null,\r\n            parent: parts.length > 2 ? parts.join('.') : null,\r\n            instance: obj.common?.engine ? parseInt(obj.common.engine.split('.').pop(), 10) || 0 : null\r\n        });\r\n    }\r\n\r\n    // Place all folder-less items at start\r\n    result\r\n        .sort((a, b) => {\r\n            if (a.title === b.title) {\r\n                return 0;\r\n            } else {\r\n                return a.title > b.title ? 1 : -1;\r\n            }\r\n        })\r\n        .sort((a, b) => {\r\n            if (a.id === 'alias.0.automatically_detected' && b.type === 'folder') return 1;\r\n            if (b.id === 'alias.0.automatically_detected' && a.type !== 'folder') return -1;\r\n            if (b.id === 'alias.0.automatically_detected' && a.type === 'folder') return -1;\r\n            if (a.id === 'alias.0.linked_devices' && b.type === 'folder') return 1;\r\n            if (b.id === 'alias.0.linked_devices' && a.type !== 'folder') return -1;\r\n            if (b.id === 'alias.0.linked_devices' && a.type === 'folder') return -1;\r\n            return 0\r\n        })\r\n        .sort((a, b) => {\r\n            if (!a.parent && a.type !== 'folder' && !b.parent && b.type !== 'folder') {\r\n                if (a.title === b.title) {\r\n                    return 0;\r\n                } else {\r\n                    return a.title > b.title ? 1 : -1;\r\n                }\r\n            }\r\n            else if (!a.parent && a.type !== 'folder') {\r\n                return 1;\r\n            } else if (!b.parent && b.type !== 'folder') {\r\n                return -1;\r\n            }\r\n            return 0\r\n        });\r\n\r\n    // Fill all index\r\n    result.forEach((item, i) => item.index = i);\r\n\r\n    let modified;\r\n    const regEx = new RegExp('^' + root.replace(/\\./g, '\\\\.'));\r\n    do {\r\n        modified = false;\r\n        // check if all parents exists\r\n\r\n        // eslint-disable-next-line no-loop-func\r\n        result.forEach(item => {\r\n            if (item.parent) {\r\n                const parent = result.find(it => it.id === item.parent);\r\n                if (!parent) {\r\n                    let obj = {};\r\n                    if (item.id.startsWith('linkeddevices.0.')) {\r\n                        const partsLinkedDevices = item.id.split('.');\r\n                        partsLinkedDevices.pop();\r\n                        obj = objects[partsLinkedDevices.join('.')];\r\n                    }\r\n                    const parts = item.parent.split('.');\r\n                    parts.pop();\r\n                    result.push({\r\n                        id: item.parent,\r\n                        title: root ? item.parent.replace(regEx, '') : item.parent.split('.').pop(),\r\n                        depth: parts.length - 1,\r\n                        type: 'folder',\r\n                        obj: obj,\r\n                        noEdit: !!obj?.noEdit,\r\n                        showId: !!obj?.showId,\r\n                        originalId: obj?.native?.originalId || null,\r\n                        importer: !!obj?.importer,\r\n                        parent: parts.length >= 2 ? parts.join('.') : null\r\n                    });\r\n                    modified = true;\r\n                }\r\n            }\r\n        });\r\n    } while (modified);\r\n\r\n    // Fill all parentIndex\r\n    result.forEach(item => {\r\n        if (item.parent) {\r\n            const parent = result.find(it => it.id === item.parent);\r\n            if (parent) {\r\n                item.parentIndex = parent.index;\r\n            }\r\n        }\r\n    });\r\n\r\n    return result;\r\n};\r\n\r\nconst WIDTHS = [\r\n    1350,\r\n    1050,\r\n    950,\r\n    1250,\r\n    600,\r\n    500,\r\n    450\r\n];\r\n\r\nconst ALIAS = 'alias.';\r\nconst LINKEDDEVICES = 'linkeddevices.';\r\nconst IS_CHROME = /Chrome/.test(navigator.userAgent) && /Google Inc/.test(navigator.vendor);\r\n\r\nconst styles = theme => ({\r\n    tab: {\r\n        width: '100%',\r\n        height: '100%'\r\n    },\r\n    column: {\r\n        display: 'inline-block',\r\n        verticalAlign: 'top',\r\n        marginRight: 20,\r\n        height: '100%',\r\n        overflow: 'hidden'\r\n    },\r\n    columnDiv: {\r\n        height: 'calc(100% - 40px)',\r\n        overflow: 'auto',\r\n        minWidth: 300\r\n    },\r\n    filter: {\r\n        margin: 0,\r\n    },\r\n    button: {\r\n        marginRight: 20\r\n    },\r\n    buttonLinkedDevices: {\r\n        background: '#17faff'\r\n    },\r\n    devLineExpand: {\r\n        marginRight: 10,\r\n    },\r\n    devLineEnabled: {\r\n        position: 'absolute',\r\n        right: 0,\r\n        top: 0,\r\n    },\r\n    devLineEdit: {\r\n        position: 'absolute',\r\n        top: 5,\r\n        right: 50\r\n    },\r\n    devLineDelete: {\r\n        position: 'absolute',\r\n        top: 5,\r\n        right: 0\r\n    },\r\n    devLineName: {\r\n\r\n    },\r\n    devLineNumber: {\r\n        display: 'inline-block',\r\n        verticalAlign: 'middle',\r\n        width: 15,\r\n    },\r\n    editedId: {\r\n        fontStyle: 'italic'\r\n    },\r\n    enumLineSubName: {\r\n        fontStyle: 'italic',\r\n    },\r\n    devLine: {\r\n        height: 48,\r\n        width: '100%',\r\n        position: 'relative'\r\n    },\r\n    devLineDescription: {\r\n        display: 'block',\r\n        fontStyle: 'italic',\r\n        fontSize: 12\r\n    },\r\n    devLineActions: {\r\n        fontStyle: 'italic',\r\n        fontSize: 12,\r\n        paddingLeft: 50,\r\n        display: 'inline-block',\r\n    },\r\n    devLineProgress: {\r\n        position: 'absolute',\r\n        top: 0,\r\n        left: 0,\r\n    },\r\n    channelLineActions: {\r\n        width: 80\r\n    },\r\n    devLineNameBlock: {\r\n        display: 'inline-block',\r\n        width: 'calc(100% - 350px)'\r\n    },\r\n    columnHeader: {\r\n        background: theme.palette.primary.light,\r\n        padding: 10,\r\n        color: theme.palette.primary.contrastText\r\n    },\r\n    devModified: {\r\n        fontStyle: 'italic'\r\n    },\r\n    actionIcon: {\r\n        width: 16\r\n    },\r\n\r\n    devSubLine: {\r\n        position: 'relative',\r\n        height: 48\r\n    },\r\n    devSubLineName: {\r\n        marginLeft: 5,\r\n        marginTop: 14,\r\n        display: 'inline-block',\r\n        fontSize: 13,\r\n        width: 'calc(100% - 400px)'\r\n    },\r\n    devSubSubLineName: {\r\n        fontSize: 8,\r\n        fontStyle: 'italic',\r\n        display: 'block'\r\n    },\r\n    devSubLineByOn: {\r\n        marginLeft: 5\r\n    },\r\n    devSubLineDelete: {\r\n        position: 'absolute',\r\n        top: 12,\r\n        right: 12,\r\n        padding: 0\r\n    },\r\n    devSubLineEdit: {\r\n        position: 'absolute',\r\n        top: 12,\r\n        right: 62,\r\n        padding: 0\r\n    },\r\n    devSubLineTypeTitle: {\r\n        marginTop: 0\r\n    },\r\n    orderSelector: {\r\n        marginRight: 10,\r\n    },\r\n    paperTable: {\r\n        width: '100%',\r\n        height: 'calc(100% - 57px)',\r\n        overflowX: 'hidden',\r\n        overflowY: 'auto',\r\n        marginTop: 5,\r\n    },\r\n    tableLine: {\r\n        height: 50,\r\n        '&:hover': {\r\n            background: `#3399cccc !important`,\r\n            '& *': {\r\n                color: '#ffffff !important'\r\n            }\r\n        }\r\n    },\r\n    tableIconImg: {\r\n        width: 20,\r\n        height: 20,\r\n        color: theme.palette.type === 'dark' ? '#FFF' : '#000',\r\n    },\r\n    tableIcon: {\r\n        width: 24,\r\n        height: 24,\r\n        display: 'flex',\r\n        padding: 2,\r\n        background: theme.palette.type === 'dark' ? '#3b3b3b' : '#e0e0e0',\r\n        borderRadius: 3,\r\n        alignItems: 'center',\r\n        justifyContent: 'center'\r\n    },\r\n    tableNameCell: {\r\n        whiteSpace: 'nowrap',\r\n        width: IS_CHROME ? undefined : 150,\r\n        textOverflow: 'ellipsis',\r\n    },\r\n    tableSmartName: {\r\n        fontSize: 10,\r\n        opacity: 0.8,\r\n    },\r\n    tableIdCell: {\r\n        whiteSpace: 'nowrap',\r\n        textOverflow: 'ellipsis',\r\n        maxWidth: 150,\r\n        overflow: 'hidden',\r\n        direction: 'rtl',\r\n        textAlign: 'left'\r\n    },\r\n    headerCell: {\r\n        fontWeight: 'bold'\r\n    },\r\n    tableExpandIconCell: {\r\n        padding: 0,\r\n        width: 40,\r\n    },\r\n    tableIconCell: {\r\n        padding: 0,\r\n        width: 40\r\n    },\r\n    tableEditButtonCell: {\r\n        padding: 0,\r\n        width: 40,\r\n    },\r\n    buttonsCellHeader: {\r\n        width: 90,\r\n    },\r\n    buttonsCell: {\r\n        width: IS_CHROME ? undefined : 90,\r\n        padding: '0 !important',\r\n    },\r\n    tableGroup: {\r\n        background: theme.palette.secondary.main,\r\n        borderTop: '5px solid ' + theme.palette.background.paper,\r\n    },\r\n    tableGroupCell: {\r\n        fontWeight: 'bold',\r\n        fontSize: 18,\r\n        color: '#FFF',\r\n        cursor: 'pointer',\r\n        textTransform: 'uppercase'\r\n    },\r\n    tableExpandIcon: {\r\n        marginRight: 5,\r\n        marginLeft: 10,\r\n        marginTop: 6,\r\n        color: '#FFF',\r\n        width: 20,\r\n        height: 20,\r\n        cursor: 'pointer',\r\n    },\r\n    tableGroupIcon: {\r\n        height: 20,\r\n        marginRight: 5,\r\n        color: '#ffffff'\r\n    },\r\n\r\n    enumsEdit: {\r\n        minHeight: 20,\r\n        minWidth: 100,\r\n        textAlign: 'left',\r\n        justifyContent: 'left',\r\n        padding: 3,\r\n        whiteSpace: 'nowrap',\r\n        '&:hover, &$focusVisible': {\r\n            zIndex: 1,\r\n            opacity: 0.7,\r\n            borderRadius: 3,\r\n            background: 'gray'\r\n        },\r\n    },\r\n    enumsEditFocusVisible: {},\r\n    wrapperButtonEnum: {\r\n        maxWidth: 200,\r\n        display: 'flex',\r\n        overflow: 'hidden'\r\n    },\r\n    emptyClear: {\r\n        width: 32\r\n    },\r\n    wrapperButton: {\r\n        marginRight: 10,\r\n        display: 'flex',\r\n        justifyContent: 'flex-end'\r\n    },\r\n    emptyBlock: {\r\n        width: 24\r\n    },\r\n    displayFlex: {\r\n        display: 'flex',\r\n        alignItems: 'center'\r\n    },\r\n    iconCommon: {\r\n        width: 20,\r\n        height: 20,\r\n        position: 'absolute',\r\n        top: 10,\r\n        left: 8,\r\n        opacity: 0.8\r\n    },\r\n    iconStyle: {\r\n        position: 'relative',\r\n        minWidth: 24\r\n    },\r\n    fontStyle: {\r\n        // maxWidth: 160,\r\n        whiteSpace: 'nowrap',\r\n        overflow: 'hidden',\r\n        textOverflow: 'ellipsis',\r\n        fontWeight: 'bold'\r\n    },\r\n    wrapperTitleAndId: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        overflow: 'hidden'\r\n    },\r\n    fontStyleId: {\r\n        whiteSpace: 'nowrap',\r\n        overflow: 'hidden',\r\n        textOverflow: 'ellipsis',\r\n        fontWeight: 'bold',\r\n        fontSize: 9,\r\n        opacity: 0.6,\r\n        fontStyle: 'italic'\r\n    },\r\n    wrapperIconEnumCell: {\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        marginLeft: 3,\r\n        marginRight: 3\r\n    },\r\n    enumIcon: {\r\n        width: 16,\r\n        height: 16,\r\n    },\r\n    iconInSelect: {\r\n        marginRight: 4,\r\n    },\r\n    nameEnumCell: {\r\n        marginLeft: 3\r\n    },\r\n    emptyBlockFlex: {\r\n        flexGrow: 1\r\n    },\r\n    wrapperName: {\r\n        fontWeight: 800,\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        marginRight: 10\r\n    },\r\n    table: {\r\n        '& th': {\r\n            background: theme.name === 'dark' ? '#202020' : theme.name === 'blue' ? '#22292d' : 'white'\r\n        }\r\n    },\r\n    spaceBetween: {\r\n        justifyContent: 'space-between'\r\n\r\n    },\r\n    iconWrapper: {\r\n        display: 'flex',\r\n        alignItems: 'center'\r\n    },\r\n    iconStyleType: {\r\n        width: 16,\r\n        height: 16,\r\n        margin: '0 3px'\r\n    },\r\n    emptyIcon: {\r\n        width: 16,\r\n        height: 16,\r\n        margin: '0 3px'\r\n    },\r\n    typeCellNameAndIcon: {\r\n        display: 'flex',\r\n        alignItems: 'center'\r\n    },\r\n    iconOpen: {\r\n        transform: 'skew(147deg, 183deg) scale(0.5) translate(-43px, 11px)'\r\n    },\r\n    hoverRow: {\r\n        '&:hover:after': {\r\n            width: '100%',\r\n        },\r\n        position: 'relative',\r\n        transform: 'scale(1)',\r\n        '&:after': {\r\n            content: '\"\"',\r\n            position: 'absolute',\r\n            top: 0,\r\n            left: 0,\r\n            height: '100%',\r\n            background: '#ffffff36',\r\n            pointerEvents: 'none'\r\n        }\r\n    },\r\n    selected: {\r\n        background: theme.palette.type === 'dark' ? theme.palette.primary.dark : theme.palette.primary.light,\r\n    },\r\n    wrapperHeadButtons:{\r\n        display: 'flex',\r\n        overflowY: 'auto',\r\n        marginRight: 'auto'\r\n    },\r\n    '@media screen and (max-width: 700px)': {\r\n        hide700: {\r\n            display: 'none'\r\n        },\r\n        wrapperName:{\r\n            marginLeft:10\r\n        }\r\n    },\r\n    '@media screen and (max-width: 600px)': {\r\n        emptyBlock: {\r\n            width: 24\r\n        },\r\n    },\r\n    '@media screen and (max-width: 500px)': {\r\n        wrapperTitleAndId: {\r\n            maxWidth: 200\r\n        },\r\n    },\r\n    '@media screen and (max-width: 440px)': {\r\n        wrapperTitleAndId: {\r\n            maxWidth: 150\r\n        },\r\n        fontStyle: {\r\n            fontSize: 11\r\n        },\r\n        fontStyleId: {\r\n            fontSize: 7\r\n        },\r\n        wrapperName:{\r\n            '& span':{\r\n                display: 'none'\r\n            }\r\n        }\r\n    },\r\n    '@media screen and (max-width: 360px)': {\r\n        wrapperTitleAndId: {\r\n            maxWidth: 120\r\n        },\r\n    },\r\n    filterType: {\r\n        minWidth: 100\r\n    },\r\n    searchText: {\r\n        color: 'orange'\r\n    },\r\n    textStyle: {\r\n        overflow: 'hidden',\r\n        whiteSpace: 'nowrap',\r\n        padding: '0 16px 0 16px'\r\n    },\r\n    cell: {\r\n        padding: '0 24px 0 16px',\r\n    },\r\n    cellMobile: {\r\n        padding: '6px 24px 6px 16px',\r\n    }\r\n});\r\n\r\nclass ListDevices extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        if (!actionsMapping.translated) {\r\n            Object.keys(actionsMapping).forEach(a => actionsMapping[a].desc = I18n.t(actionsMapping[a].desc));\r\n            actionsMapping.translated = true;\r\n        }\r\n        const location = Router.getLocation();\r\n\r\n        let expanded = window.localStorage.getItem('Devices.expanded') || '[]';\r\n        try {\r\n            expanded = JSON.parse(expanded);\r\n        } catch (e) {\r\n            expanded = [];\r\n        }\r\n\r\n        let expandedIDs = window.localStorage ? window.localStorage.getItem('IDs.expanded') : '';\r\n        try {\r\n            expandedIDs = expandedIDs ? JSON.parse(expandedIDs) || null : null;\r\n        } catch (e) {\r\n            expandedIDs = null;\r\n        }\r\n\r\n        const selected = window.localStorage.getItem('Devices.selected') || '';\r\n        if (expandedIDs && selected) {\r\n            // be sure, that selected element is visible\r\n            const parts = selected.split('.');\r\n            let id = parts[0] + '.' + parts[1];\r\n            for (let i = 2; i < parts.length; i++) {\r\n                id += '.' + parts[i];\r\n                if (!expandedIDs.includes(id)) {\r\n                    expandedIDs.push(id);\r\n                }\r\n            }\r\n            expandedIDs.sort();\r\n        }\r\n\r\n        this.state = {\r\n            editId: location.dialog === 'edit' ? location.id : null,\r\n            copyId: null,\r\n            // deleteIndex: null,\r\n            deleteId: '',\r\n            editEnum: null,\r\n            listItems: [],\r\n            expandedIDs,\r\n\r\n            windowWidth: window.innerWidth,\r\n            showAddDialog: '',\r\n            showConfirmation: '',\r\n            changed: [],\r\n            devices: [],\r\n            message: '',\r\n            loading: true,\r\n            browse: false,\r\n            expanded,\r\n            lastChanged: '',\r\n            linkeddevices: '',\r\n            filter: {\r\n                func: window.localStorage.getItem('Devices.filter.func') || '',\r\n                room: window.localStorage.getItem('Devices.filter.room') || '',\r\n                type: window.localStorage.getItem('Devices.filter.type') || '',\r\n                text: window.localStorage.getItem('Devices.filter.text') || '',\r\n                noInfo: window.localStorage.getItem('Devices.filter.noInfo') !== 'false',\r\n            },\r\n            selected,\r\n            iot: '',\r\n            iotNoCommon: false,\r\n            showImporterDialog: null,\r\n            showEditFolder: undefined,\r\n            newFolder: false,\r\n            // onlyAliases: window.localStorage.getItem('Devices.onlyAliases') ? JSON.parse(window.localStorage.getItem('Devices.onlyAliases')) : true,\r\n            onlyAliases: false,\r\n            updating: [],\r\n        };\r\n\r\n        this.inputRef = createRef();\r\n\r\n        this.timerChanged = null;\r\n\r\n        this.waitForUpdateID = null;\r\n\r\n        this.objects = {};\r\n        this.states = {};\r\n        this.instances = [];\r\n        this.enumObj = {};\r\n\r\n        this.filter = this.state.filter.text;\r\n\r\n        this.subscribes = {};\r\n        this.onUpdateBound = this.onUpdate.bind(this);\r\n\r\n        this.detector = new SmartDetector();\r\n        this.patterns = this.detector.getPatterns();\r\n\r\n        // read if linkeddevices installed\r\n        this.props.socket.getAdapterInstances('linkeddevices')\r\n            .catch(e => [])\r\n            .then(linkedDevices => {\r\n                // read if iot installed\r\n                this.props.socket.getAdapterInstances('iot')\r\n                    .catch(e => [])\r\n                    .then(iot => {\r\n                        const newState = {};\r\n                        let changed = false;\r\n                        // always take the first one\r\n                        if (linkedDevices && linkedDevices.length && linkedDevices[0] && linkedDevices[0]._id) {\r\n                            newState.linkeddevices = linkedDevices[0]._id.replace('system.adapter.', '') || '';\r\n                            changed = true;\r\n                        }\r\n                        if (iot && iot.length && iot[0] && iot[0]._id) {\r\n                            newState.iotNoCommon = iot[0].native && iot[0].native.noCommon;\r\n                            newState.iot = iot[0]._id.replace('system.adapter.', '') || '';\r\n                            changed = true;\r\n                        }\r\n                        changed && this.setState(newState);\r\n                    });\r\n\r\n                this.detectDevices();\r\n            });\r\n    }\r\n\r\n    setStateAsync(newState) {\r\n        return new Promise(resolve => this.setState(newState, () => resolve()));\r\n    }\r\n\r\n    componentDidMount() {\r\n        window.addEventListener('resize', this.onResize, false);\r\n        this.props.socket.subscribeObject('*', this.onObjectChanged);\r\n        window.addEventListener('hashchange', this.onHashChange, false);\r\n\r\n        setTimeout(() => {\r\n            const el = document.getElementById('td_' + this.state.selected);\r\n            if (el) {\r\n                el.scrollIntoView({ block: 'center' });\r\n            }\r\n        }, 300);\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        window.removeEventListener('resize', this.onResize, false);\r\n        window.removeEventListener('hashchange', this.onHashChange, false);\r\n        this.props.socket.unsubscribeObject('*', this.onObjectChanged);\r\n        this.updateTimeout && clearTimeout(this.updateTimeout);\r\n        this.updateTimeout = null;\r\n        this.resizeTimer && clearTimeout(this.resizeTimer);\r\n        this.resizeTimer = null;\r\n    }\r\n\r\n    onHashChange = () => {\r\n        const location = Router.getLocation();\r\n        if (location.dialog === 'edit' && location.id && location.id !== this.state.editId) {\r\n            this.setState({ editId: location.id });\r\n        }\r\n    }\r\n\r\n    onSelect(selected) {\r\n            this.setState({ selected });\r\n            window.localStorage.setItem('Devices.selected', selected);\r\n    }\r\n\r\n    disabledButtons = () =>{\r\n        return this.state.selected.startsWith('alias.0.automatically_detected') ||\r\n            this.state.selected.startsWith('alias.0.linked_devices') ||\r\n            !this.state.selected.startsWith('alias.0');\r\n    }\r\n\r\n    onObjectChanged = (id, obj) => {\r\n        if (this.state.loading) {\r\n            return;\r\n        }\r\n\r\n        if (!obj) {\r\n            if (this.objects[id]) {\r\n                delete this.objects[id];\r\n            }\r\n        } else {\r\n            this.objects[id] = obj;\r\n        }\r\n\r\n        this.updateTimeout && clearTimeout(this.updateTimeout);\r\n        this.updateTimeout = setTimeout(async () => {\r\n            this.updateTimeout = null;\r\n            await this.updateListItems();\r\n        }, 300);\r\n    };\r\n\r\n    onResize = () => {\r\n        this.resizeTimer && clearTimeout(this.resizeTimer);\r\n        this.resizeTimer = setTimeout(() => {\r\n            this.resizeTimer = null;\r\n            this.setState({ windowWidth: window.innerWidth });\r\n        }, 300);\r\n    }\r\n\r\n    updateListItems = async () => {\r\n        const idsInEnums = [];\r\n\r\n        this.enumIDs.forEach(en => {\r\n            const e = this.enumObj[en];\r\n            e?.common?.members && e.common.members.forEach(id =>\r\n                !idsInEnums.includes(id) && idsInEnums.push(id));\r\n        });\r\n\r\n        // List all devices in aliases\r\n        const keys = Object.keys(this.objects).sort();\r\n\r\n        for (let i = 0; i < keys.length; i++) {\r\n            if (keys[i] < ALIAS) {\r\n                // go to the next\r\n            } else\r\n                if (keys[i] > LINKEDDEVICES + '\\u9999') {\r\n                    break;\r\n                } else\r\n                    if ((keys[i].startsWith(ALIAS) || keys[i].startsWith(LINKEDDEVICES)) && this.objects[keys[i]] && !idsInEnums.includes(keys[i])) {\r\n                        if (this.objects[keys[i]].type === 'device') {\r\n                            idsInEnums.push(keys[i]);\r\n                        } else if (this.objects[keys[i]].type === 'channel') {\r\n                            const parts = keys[i].split('.');\r\n                            parts.pop();\r\n\r\n                            const parentId = parts.join('.');\r\n                            // if parent was not yet included\r\n                            if (!this.objects[parentId] || !idsInEnums.includes(parentId)) {\r\n                                idsInEnums.push(keys[i]);\r\n                            }\r\n                        }\r\n                    }\r\n        }\r\n\r\n        idsInEnums.sort();\r\n\r\n        const _usedIdsOptional = [];\r\n        const devices = [];\r\n        idsInEnums.forEach(id => {\r\n            const result = this.detector.detect({ id, objects: this.objects, _usedIdsOptional, _keysOptional: keys });\r\n            result && result.forEach(device => devices.push(device));\r\n        });\r\n\r\n        this.funcEnums = this.enumIDs.filter(id => id.startsWith('enum.functions.'));\r\n        this.roomsEnums = this.enumIDs.filter(id => id.startsWith('enum.rooms.'));\r\n\r\n        // find channelID for every device\r\n        devices.map(device =>\r\n            this.updateEnumsForOneDevice(device, this.funcEnums, this.roomsEnums));\r\n\r\n        const listItems = this.onObjectsGenerate(this.objects || {}, JSON.parse(JSON.stringify(devices)));\r\n\r\n        let expandedIDs = this.state.expandedIDs;\r\n        if (expandedIDs === null) {\r\n            expandedIDs = [];\r\n            listItems.forEach(item =>\r\n                expandedIDs.includes(item.parent) && expandedIDs.push(item.parent));\r\n        }\r\n\r\n        this.applyFilter(listItems, devices);\r\n\r\n        await this.setStateAsync({ devices, expandedIDs, listItems, loading: false, browse: false });\r\n\r\n        if (this.editCreatedId && this.objects[this.editCreatedId]) {\r\n            const id = this.editCreatedId;\r\n            this.editCreatedId = null;\r\n            Router.doNavigate('list', 'edit', id);\r\n        }\r\n    }\r\n\r\n    async detectDevices() {\r\n        // read objects\r\n        await this.setStateAsync({ browse: true });\r\n\r\n        this.instances = await this.props.socket.getAdapters();\r\n        this.objects = await this.props.socket.getObjects(true);\r\n        const enums = await this.props.socket.getEnums();\r\n        this.enumIDs = Object.keys(enums).sort();\r\n        this.enumObj = enums;\r\n\r\n        await this.updateListItems();\r\n    }\r\n\r\n    onObjectsGenerate = (objects, devices) => {\r\n        this.prefix = this.props.prefix || 'alias.0';\r\n\r\n        let keys = Object.keys(objects).sort();\r\n\r\n        const prefix = this.prefix.startsWith('alias.') ? this.prefix.replace(/\\d+$/, '') : this.prefix; // alias.0 => alias.\r\n\r\n        const ids = [];\r\n\r\n        for (let j = 0; j < keys.length; j++) {\r\n            const id = keys[j];\r\n            if (id < prefix) {\r\n\r\n            } else\r\n                if (id.startsWith(prefix) &&\r\n                    objects[id] &&\r\n                    objects[id].common &&\r\n                    (objects[id].type === 'channel' || objects[id].type === 'device' || objects[id].type === 'folder')\r\n                ) {\r\n                    let parentId;\r\n                    // getParentId\r\n                    if (objects[id].type === 'channel' || objects[id].type === 'device' || objects[id].type === 'folder') {\r\n                        parentId = id;\r\n                    } else {\r\n                        parentId = getParentId(id);\r\n                    }\r\n\r\n                    if (parentId && !ids.includes(parentId)) {\r\n                        ids.push(parentId);\r\n                    }\r\n                } else\r\n                    if (id > prefix + '\\u9999') {\r\n                        break;\r\n                    }\r\n        }\r\n\r\n        this.typesWords = {};\r\n\r\n        Object.keys(Types)\r\n            .filter(id => !UNSUPPORTED_TYPES.includes(id))\r\n            .forEach(typeId => this.typesWords[typeId] = I18n.t('type-' + Types[typeId]));\r\n\r\n        // sort types by ABC in the current language\r\n        this.types = Object.keys(this.typesWords).sort((a, b) => {\r\n            if (this.typesWords[a] === this.typesWords[b]) {\r\n                return 0;\r\n            } else\r\n                if (this.typesWords[a] > this.typesWords[b]) {\r\n                    return 1;\r\n                } else {\r\n                    return -1;\r\n                }\r\n        });\r\n\r\n        const stateIds = {};\r\n        const language = I18n.getLanguage();\r\n        ids.forEach(id => {\r\n            stateIds[id] = {\r\n                common: {\r\n                    name: objects[id]?.type === 'folder' ? Utils.getObjectName(objects, id, { language }) : getLastPart(id),\r\n                    nondeletable: true,\r\n                    color: objects[id]?.common?.color || null,\r\n                    icon: objects[id]?.common?.icon || this.searchIcon(id.channelId)\r\n                },\r\n                obj: objects[id],\r\n                type: objects[id].type,\r\n                role: objects[id].type !== 'folder' && objects[id].common ? objects[id].common.role || null : null\r\n            };\r\n        });\r\n\r\n        stateIds[`${this.prefix}.automatically_detected`] = {\r\n            common: {\r\n                name: I18n.t('Automatically detected'),\r\n                nondeletable: true,\r\n                noEdit: true,\r\n                showId: true,\r\n            },\r\n            type: 'folder'\r\n        };\r\n\r\n        let devicesArr = devices || this.state.devices;\r\n\r\n        devicesArr = devicesArr.filter(({ channelId }) => !channelId.startsWith('alias.0') && !channelId.startsWith('linkeddevices.0'));\r\n\r\n        devicesArr.forEach(device => {\r\n            let [adapter, instance] = device.channelId.split('.');\r\n            const name = adapter + '-' + instance;\r\n            if (!stateIds[`${this.prefix}.automatically_detected.${name}`]) {\r\n                const instances = this.instances.find(inst => inst._id.replace('system.adapter.', '') === adapter);\r\n                stateIds[`${this.prefix}.automatically_detected.${name}`] = {\r\n                    common: {\r\n                        name,\r\n                        nondeletable: true,\r\n                        icon: instances?.common?.extIcon || this.searchIcon(device.channelId)\r\n                    },\r\n                    noEdit: true,\r\n                    importer: true,\r\n                    showId: true,\r\n                    // obj:instances,\r\n                    type: 'folder'\r\n                };\r\n            }\r\n        });\r\n\r\n        devicesArr.forEach(device => {\r\n            let [adapter, instance] = device.channelId.split('.');\r\n            const name = adapter + '-' + instance;\r\n            stateIds[`${this.prefix}.automatically_detected.${name}.${device.channelId.replace(/[\\s.,%]/g, '')}`] = {\r\n                common: {\r\n                    name: Utils.getObjectName(objects, device.channelId, { language }),\r\n                    nondeletable: true,\r\n                    color: objects[device.channelId]?.common && objects[device.channelId].common.color ? objects[device.channelId].common.color : null,\r\n                    icon: objects[device.channelId]?.common && objects[device.channelId].common.icon ? objects[device.channelId].common.icon : this.searchIcon(device.channelId)\r\n                },\r\n                obj: objects[device.channelId],\r\n                type: objects[device.channelId]?.type,\r\n                role: device.type\r\n            };\r\n        });\r\n\r\n        if (this.state.linkeddevices) {\r\n            let devicesArrLinkeddevices = devices || this.state.devices;\r\n\r\n            devicesArrLinkeddevices = devicesArrLinkeddevices.filter(({ channelId }) => channelId.startsWith('linkeddevices.0'));\r\n            stateIds[`${this.prefix}.linked_devices`] = {\r\n                common: {\r\n                    name: I18n.t('Linked devices'),\r\n                    nondeletable: true,\r\n                    noEdit: true,\r\n                    showId: true,\r\n                    icon: <HiLink style={{ color: 'black' }} className={this.props.classes.iconCommon}\r\n                    />\r\n                },\r\n                type: 'folder'\r\n            };\r\n\r\n            devicesArrLinkeddevices.forEach(device => {\r\n                stateIds[`${this.prefix}.linked_devices.${device.channelId.replace('linkeddevices.0.', '')}`] = {\r\n                    common: {\r\n                        name: Utils.getObjectName(objects, device.channelId, { language }),\r\n                        nondeletable: true,\r\n                        color: objects[device.channelId]?.common && objects[device.channelId].common.color ? objects[device.channelId].common.color : null,\r\n                        icon: objects[device.channelId]?.common && objects[device.channelId].common.icon ? objects[device.channelId].common.icon : this.searchIcon(device.channelId)\r\n                    },\r\n                    obj: objects[device.channelId],\r\n                    type: objects[device.channelId]?.type,\r\n                    role: device.type\r\n                }\r\n            });\r\n        }\r\n\r\n        return prepareList(stateIds, null, objects);\r\n    }\r\n\r\n    updateEnumsForOneDevice(device, funcEnums, roomsEnums) {\r\n        funcEnums = funcEnums || this.enumIDs.filter(id => id.startsWith('enum.functions.'));\r\n        roomsEnums = roomsEnums || this.enumIDs.filter(id => id.startsWith('enum.rooms.'));\r\n        if (!device) {\r\n            return;\r\n        }\r\n        const stateId = device.states.find(state => state.id).id;\r\n        let statesCount = device.states.filter(state => state.id).length;\r\n        const pos = stateId.lastIndexOf('.');\r\n        let channelId = stateId;\r\n        if (pos !== -1 && (statesCount > 1 || channelId.startsWith(ALIAS) || channelId.startsWith(LINKEDDEVICES))) {\r\n            channelId = stateId.substring(0, pos);\r\n            if (!this.objects[channelId] ||\r\n                !this.objects[channelId].common ||\r\n                (this.objects[channelId].type !== 'channel' && this.objects[channelId].type !== 'device')) {\r\n                channelId = stateId;\r\n            }\r\n        }\r\n        device.usedStates = device.states.filter(state => state.id).length;\r\n        device.mainStateId = stateId;\r\n        device.channelId = channelId;\r\n\r\n        const functions = funcEnums.filter(id => {\r\n            const obj = this.objects[id];\r\n            return obj &&\r\n                obj.common &&\r\n                obj.common.members &&\r\n                (obj.common.members.includes(device.channelId) ||\r\n                    obj.common.members.includes(device.mainStateId));\r\n        });\r\n\r\n        const rooms = roomsEnums.filter(id => {\r\n            const obj = this.objects[id];\r\n            return obj &&\r\n                obj.common &&\r\n                obj.common.members &&\r\n                (obj.common.members.includes(device.channelId) ||\r\n                    obj.common.members.includes(device.mainStateId));\r\n        });\r\n\r\n        device.functions = functions;\r\n        device.functionsNames = functions.map(id => Utils.getObjectNameFromObj(this.objects[id], null, { language: I18n.getLanguage() })).join(', ');\r\n        device.rooms = rooms;\r\n        device.roomsNames = rooms.map(id => Utils.getObjectNameFromObj(this.objects[id], null, { language: I18n.getLanguage() })).join(', ');\r\n        device.name = LocalUtils.getObjectName(this.objects, device.channelId, null, null, this.enumIDs);\r\n\r\n        device.icon = Utils.getObjectIcon(device.channelId, this.objects[device.channelId]) || this.searchIcon(device.channelId);\r\n\r\n        device.color = this.objects[channelId]?.common?.color || null;\r\n        if (!device.icon) {\r\n            const parts = device.channelId.split('.');\r\n            parts.pop();\r\n            const deviceId = parts.join('.');\r\n\r\n            if (this.objects[deviceId] && (this.objects[deviceId].type === 'channel' || this.objects[deviceId].type === 'device')) {\r\n                device.icon = Utils.getObjectIcon(deviceId, this.objects[deviceId]) || this.searchIcon(device.channelId);\r\n            }\r\n        }\r\n    }\r\n\r\n    searchIcon = (channelId) => {\r\n        if (!this.objects) {\r\n            return null;\r\n        }\r\n        let icon = null;\r\n        if (channelId) {\r\n            // check the parent\r\n            if (channelId && channelId.split('.').length > 2) {\r\n                const channelObj = this.objects[channelId];\r\n                if (channelObj && (channelObj.type === 'channel' || channelObj.type === 'device' || channelObj.type === 'state')) {\r\n                    if (channelObj.common?.icon) {\r\n                        icon = channelObj.common?.icon;\r\n                    } else {\r\n                        // check the parent\r\n                        const deviceId = Utils.getParentId(channelId);\r\n                        if (deviceId && deviceId.split('.').length > 2) {\r\n                            const arrayParent = deviceId.split('.');\r\n                            let parentId = deviceId;\r\n                            for (let i = 0; i < arrayParent.length - 2; i++) {\r\n                                const deviceObj = this.objects[parentId];\r\n                                if (deviceObj && (deviceObj.type === 'channel' || deviceObj.type === 'device')) {\r\n                                    if (deviceObj.common?.icon) {\r\n                                        icon = deviceObj.common?.icon;\r\n                                        break;\r\n                                    }\r\n                                }\r\n                                parentId = Utils.getParentId(parentId);\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        let imagePrefix = '../..';\r\n\r\n        const objects = this.objects;\r\n        const cIcon = icon;\r\n        const id = channelId;\r\n\r\n        if (cIcon && !cIcon.startsWith('data:image/') && cIcon.includes('.')) {\r\n            let instance;\r\n            if (objects[id].type === 'instance' || objects[id].type === 'adapter') {\r\n                icon = `${imagePrefix}/adapter/${objects[id].common.name}/${cIcon}`;\r\n            } else if (id && id.startsWith('system.adapter.')) {\r\n                instance = id.split('.', 3);\r\n                if (cIcon[0] === '/') {\r\n                    instance[2] += cIcon;\r\n                } else {\r\n                    instance[2] += '/' + cIcon;\r\n                }\r\n                icon = `${imagePrefix}/adapter/${instance[2]}`;\r\n            } else {\r\n                instance = id.split('.', 2);\r\n                if (cIcon[0] === '/') {\r\n                    instance[0] += cIcon;\r\n                } else {\r\n                    instance[0] += '/' + cIcon;\r\n                }\r\n                icon = `${imagePrefix}/adapter/${instance[0]}`;\r\n            }\r\n        }\r\n        return icon;\r\n    }\r\n\r\n    addChanged(id, cb) {\r\n        const changed = JSON.parse(JSON.stringify(this.state.changed));\r\n        if (!changed.includes(id)) {\r\n            changed.push(id);\r\n            this.setState({ changed }, () => cb && cb());\r\n        } else {\r\n            cb && cb();\r\n        }\r\n    }\r\n\r\n    removeChanged(id) {\r\n        const changed = JSON.parse(JSON.stringify(this.state.changed));\r\n        const pos = changed.indexOf(id);\r\n\r\n        if (pos !== -1) {\r\n            changed.splice(pos, 1);\r\n            this.setState({ changed });\r\n        }\r\n    }\r\n\r\n    renderMessage() {\r\n        if (this.state.message) {\r\n            return <MessageDialog text={this.state.message} onClose={() => this.setState({ message: '' })} />;\r\n        } else {\r\n            return null;\r\n        }\r\n    }\r\n\r\n    onUpdate(id, state) {\r\n        if (this.subscribes[id]) {\r\n            this.states[id] = state;\r\n            this.subscribes[id].forEach(elem => elem.updateState(id, state));\r\n        }\r\n    }\r\n\r\n    onEdit(editId, e) {\r\n        e && e.preventDefault();\r\n        e && e.stopPropagation();\r\n        Router.doNavigate('list', 'edit', editId.toString());\r\n        this.setState({ editId });\r\n    }\r\n\r\n    onCopy(copyId, e) {\r\n        e && e.preventDefault();\r\n        e && e.stopPropagation();\r\n        this.setState({ copyId, showAddDialog: ALIAS + '0' });\r\n    }\r\n\r\n    onEditEnum(values, enums, index) {\r\n        this.setState({ editEnum: { values, enums, index } });\r\n    }\r\n\r\n    renderEnumCell(names, values, enums, index) {\r\n        const objs = values.map(id => ({\r\n            icon: Utils.getObjectIcon(id, this.objects[id]),\r\n            name: Utils.getObjectName(this.objects, id, { language: I18n.getLanguage() }),\r\n            id\r\n        }));\r\n\r\n        const content = objs.map(obj =>\r\n            <div className={this.props.classes.wrapperIconEnumCell} key={obj.id}>\r\n                {obj.icon && <Icon className={this.props.classes.enumIcon} src={obj.icon} alt={obj.id} />}\r\n                <div className={this.props.classes.nameEnumCell}>{obj.name}</div>\r\n            </div>);\r\n\r\n        return <Tooltip title={content}>\r\n            <ButtonBase\r\n                focusRipple\r\n                onClick={() => this.onEditEnum(values, enums, index)}\r\n                className={this.props.classes.enumsEdit}\r\n                focusVisibleClassName={this.props.classes.enumsEditFocusVisible}>\r\n                <div className={this.props.classes.wrapperButtonEnum}>\r\n                    {objs.map(obj =>\r\n                        <div className={this.props.classes.wrapperIconEnumCell} key={obj.id}>\r\n                            {obj.icon && <Icon className={this.props.classes.enumIcon} src={obj.icon} alt={obj.id} />}\r\n                            <div className={this.props.classes.nameEnumCell}>{obj.name}</div>\r\n                        </div>)}\r\n                </div>\r\n            </ButtonBase>\r\n        </Tooltip>;\r\n    }\r\n\r\n    renderTypeCell(type) {\r\n        return <div className={clsx(this.props.classes.wrapperIconEnumCell, this.props.classes.spaceBetween)}>\r\n            <div className={this.props.classes.typeCellNameAndIcon}>\r\n                <TypeIcon className={this.props.classes.enumIcon} type={type} />\r\n                <div className={this.props.classes.nameEnumCell}>{I18n.t('type-' + type)}</div>\r\n            </div>\r\n            <div className={this.props.classes.iconWrapper}>\r\n                {TYPE_OPTIONS[type] ? Object.keys(TYPE_OPTIONS[type])\r\n                    .map(key => TYPE_OPTIONS[type][key] ?\r\n                        <Icon key={key} className={this.props.classes.iconStyleType} src={ICONS_TYPE[key]} title={I18n.t('Supported by \"%s\"', key)} /> :\r\n                        <div key={key} className={this.props.classes.emptyIcon} />\r\n                    )\r\n                : null}\r\n            </div>\r\n        </div>;\r\n    }\r\n\r\n    saveExpanded(expandedIDs) {\r\n        window.localStorage.setItem('IDs.expanded', JSON.stringify(expandedIDs || this.state.expandedIDs));\r\n    }\r\n\r\n    toggleExpanded(id, open) {\r\n        const expandedIDs = this.state.expandedIDs.slice();\r\n        const pos = expandedIDs.indexOf(id);\r\n        if (pos === -1) {\r\n            expandedIDs.push(id);\r\n            expandedIDs.sort();\r\n        } else if (!open) {\r\n            expandedIDs.splice(pos, 1);\r\n        }\r\n        this.setState({ expandedIDs });\r\n        this.saveExpanded(expandedIDs);\r\n    }\r\n\r\n    applyFilter(listItems, devices, filter) {\r\n        filter = filter || this.state.filter;\r\n        devices = devices || this.state.devices;\r\n\r\n        let setState;\r\n        if (!listItems) {\r\n            listItems = JSON.parse(JSON.stringify(this.state.listItems));\r\n            setState = true;\r\n        }\r\n\r\n        // hasVisibleChildren\r\n        // visible\r\n        listItems.forEach(item => {\r\n            const device = devices.find(el => el.channelId === item.id);\r\n            item.visible = true;\r\n\r\n            if (device) {\r\n                if (filter.type && device.type !== filter.type) {\r\n                    item.visible = false;\r\n                } else if (filter.room && !device.rooms.includes(filter.room)) {\r\n                    item.visible = false;\r\n                } else if (filter.func && !device.functions.includes(filter.func)) {\r\n                    item.visible = false;\r\n                } else if (filter.noInfo && device.type === 'info') {\r\n                    item.visible = false;\r\n                }\r\n            }\r\n\r\n            if (item.visible &&\r\n                filter.text &&\r\n                !item.title.includes(filter.text) &&\r\n                !item.id.toLowerCase().includes(filter.text)\r\n            ) {\r\n                item.visible = false;\r\n            }\r\n        });\r\n\r\n        const someFilterActive = filter.type || filter.func || filter.room || filter.text;\r\n\r\n        let someChanges = false;\r\n        let folders = listItems.filter(item => item.type === 'folder');\r\n        do {\r\n            someChanges = false;\r\n            for (let f = 0; f < folders.length; f++) {\r\n                const item = folders[f];\r\n                item.hasVisibleChildren = listItems.filter(_item => _item.parent === item.id && _item.visible).length;\r\n                if (someFilterActive && !item.hasVisibleChildren && item.visible) {\r\n                    item.visible = false;\r\n                    someChanges = true;\r\n                }\r\n            }\r\n        } while (someChanges);\r\n\r\n        setState && this.setState({listItems});\r\n    }\r\n\r\n    renderOneItem(items, item) {\r\n        if (!item.visible && !item.hasVisibleChildren) {\r\n            return null;\r\n        }\r\n\r\n        let children = items.filter(i => i.parent === item.id);\r\n\r\n        let isExpanded = false;\r\n        if (children && children.length) {\r\n            isExpanded = this.state.expandedIDs.includes(item.id);\r\n        }\r\n\r\n        const depthPx = item.depth * (this.state.windowWidth <= WIDTHS[6] ? 8 : 20) + 10;\r\n\r\n        let title = item.title;\r\n        let searchId = item.id;\r\n\r\n        if (this.state.filter.text) {\r\n            let pos = title.toLowerCase().indexOf(this.state.filter.text);\r\n            if (pos !== -1) {\r\n                title = [\r\n                    <span key=\"0\">{title.substring(0, pos)}</span>,\r\n                    <span key=\"1\" className={this.props.classes.searchText}>{title.substring(pos, pos + this.state.filter.text.length)}</span>,\r\n                    <span key=\"2\">{title.substring(pos + this.state.filter.text.length)}</span>,\r\n                ];\r\n            }\r\n            pos = searchId.toLowerCase().indexOf(this.state.filter.text);\r\n            if (pos !== -1) {\r\n                searchId = [\r\n                    <span key=\"0\">{searchId.substring(0, pos)}</span>,\r\n                    <span key=\"1\" className={this.props.classes.searchText}>{searchId.substring(pos, pos + this.state.filter.text.length)}</span>,\r\n                    <span key=\"2\">{searchId.substring(pos + this.state.filter.text.length)}</span>,\r\n                ];\r\n            }\r\n        }\r\n\r\n        const style = Object.assign({\r\n            paddingLeft: depthPx,\r\n            cursor: 'pointer',\r\n            opacity: item.visible ? 1 : 0.5,\r\n        });\r\n\r\n        let iconStyle = {};\r\n        let countSpan = children.length ?\r\n            <span className={this.props.classes.childrenCount}>{\r\n                children.length !== item.hasVisibleChildren ?\r\n                    item.hasVisibleChildren + ' (' + children.length + ')' : children.length}\r\n            </span>\r\n            : null;\r\n\r\n        const searchStyle = {};\r\n\r\n        if (!countSpan) {\r\n            iconStyle.opacity = 0.5;\r\n        }\r\n        if (!countSpan && item.type === 'folder') {\r\n            searchStyle.opacity = 0.5;\r\n        }\r\n\r\n        if (item.hasVisibleChildren && !item.visible) {\r\n            searchStyle.opacity = 0.5;\r\n            iconStyle.opacity = 0.5;\r\n        }\r\n\r\n        iconStyle.color = '#448dde';\r\n        iconStyle.width = 36;\r\n        iconStyle.height = 36;\r\n\r\n        let backgroundRow = null;\r\n\r\n        if (item.id === 'alias.0.automatically_detected') {\r\n            iconStyle.color = colorNativeDevices;\r\n            backgroundRow = colorNativeDevices + '33';\r\n        } else\r\n        if (item.id === 'alias.0.linked_devices') {\r\n            iconStyle.color = colorLinkedDevices;\r\n            backgroundRow = colorLinkedDevices + '33';\r\n        } else\r\n        if ((item.id === 'alias.0.automatically_detected' || item.id === 'alias.0.linked_devices') && !countSpan) {\r\n            return null;\r\n        }\r\n\r\n        const classes = this.props.classes;\r\n        let background;\r\n        let color;\r\n        let index = null;\r\n\r\n        const device = this.state.devices.find(el => el.channelId === item.id);\r\n        const deviceIdx = this.state.devices.indexOf(device);\r\n        const roomsEnums = this.enumIDs.filter(id => id.startsWith('enum.rooms.'));\r\n        const funcEnums = this.enumIDs.filter(id => id.startsWith('enum.functions.'));\r\n\r\n        if (device) {\r\n            background = this.objects[device.channelId] && this.objects[device.channelId].common && this.objects[device.channelId].common.color;\r\n            color = Utils.invertColor(background, true);\r\n            index = this.state.devices.indexOf(device);\r\n        } else {\r\n            background = item.color;\r\n            color = Utils.invertColor(background, true);\r\n        }\r\n\r\n        if (background && item.type === 'folder') {\r\n            iconStyle.color = background;\r\n        }\r\n\r\n        let j = 0;\r\n        const WrapperRow = item.type === 'folder' ? DropWrapper : DragWrapper;\r\n        const inner = <WrapperRow\r\n            id={item.id}\r\n            objects={this.objects}\r\n            deleteDevice={this.deleteDevice}\r\n            onCopyDevice={this.onCopyDevice}\r\n            openFolder={() => this.toggleExpanded(item.id, true)}\r\n            deviceIdx={deviceIdx}\r\n            backgroundRow={backgroundRow}\r\n            className={Utils.clsx(this.props.classes.hoverRow, this.state.selected === item.id && this.props.classes.selected)}\r\n            key={item.id || title}\r\n            padding=\"default\"\r\n            onClick={() => this.onSelect(item.id)}\r\n        >\r\n            <TableCell\r\n                id={'td_' + item.id}\r\n                colSpan={3}\r\n                size=\"small\"\r\n                style={Object.assign({ maxWidth: 300 }, style)}\r\n                onDoubleClick={() => this.toggleExpanded(item.id)}\r\n                className={clsx(this.state.windowWidth > WIDTHS[2] ? this.props.classes.cell : this.props.classes.cellMobile, item.type === 'folder' ? this.props.classes.folder : this.props.classes.element)}\r\n            >\r\n                <div className={classes.displayFlex}>\r\n                    <ListItemIcon className={this.props.classes.iconStyle}>\r\n                        {item.type === 'folder' ?\r\n                            (isExpanded ?\r\n                                <IconFolderOpened onClick={() => this.toggleExpanded(item.id)} style={iconStyle} /> :\r\n                                <IconFolder onClick={() => this.toggleExpanded(item.id)} style={iconStyle} />)\r\n                            :\r\n                            <Tooltip title={I18n.t('You can drag & drop device')}>\r\n                                <div style={{ background }} className={this.props.classes.tableIcon}>\r\n                                    <TypeIcon src={item.icon} style={{ color }} className={this.props.classes.tableIconImg} type={item.role} />\r\n                                </div>\r\n                            </Tooltip>}\r\n                        {item.type === 'folder' && item.icon &&\r\n                            <div className={clsx(isExpanded && this.props.classes.iconOpen)} onClick={() => this.toggleExpanded(item.id)}>\r\n                                <Icon className={this.props.classes.iconCommon} onClick={() => this.toggleExpanded(item.id)} alt={item.type} src={item.icon} />\r\n                            </div>}\r\n                    </ListItemIcon>\r\n                    <Tooltip title={<div>\r\n                        <div>{`${I18n.t('Name')}: ${title}`}</div>\r\n                        {!item.showId && item.id !== 'alias.0.automatically_detected' && item.id !== 'alias.0.linked_devices' &&\r\n                            <div>{`${I18n.t('Id')}: ${item.id}`}</div>\r\n                        }\r\n                    </div>}>\r\n                        <div className={this.props.classes.wrapperTitleAndId}>\r\n                            <div\r\n                                style={searchStyle}\r\n                                className={clsx(this.props.classes.fontStyle, this.props.classes.textStyle)}\r\n                            >{title}</div>\r\n                            {!item.showId && item.id !== 'alias.0.automatically_detected' && item.id !== 'alias.0.linked_devices' && <div\r\n                                style={searchStyle}\r\n                                className={clsx(this.props.classes.fontStyleId, this.props.classes.textStyle)}\r\n                            >{searchId}</div>}\r\n                        </div>\r\n                    </Tooltip>\r\n                </div>\r\n            </TableCell>\r\n            {device && this.state.windowWidth >= WIDTHS[1 + j++] ? <TableCell size=\"small\" className={this.state.windowWidth > WIDTHS[2] ? this.props.classes.cell : this.props.classes.cellMobile}>\r\n                {this.renderEnumCell(device.functionsNames, device.functions, funcEnums, index)}\r\n            </TableCell> : null}\r\n\r\n            {device && this.state.windowWidth >= WIDTHS[1 + j++] ? <TableCell size=\"small\" className={this.state.windowWidth > WIDTHS[2] ? this.props.classes.cell : this.props.classes.cellMobile}>\r\n                {this.renderEnumCell(device.roomsNames, device.rooms, roomsEnums, index)}\r\n            </TableCell> : null}\r\n            {device && this.state.windowWidth >= WIDTHS[1 + j++] ? <TableCell size=\"small\" className={this.state.windowWidth > WIDTHS[2] ? this.props.classes.cell : this.props.classes.cellMobile}>{this.renderTypeCell(device.type)}</TableCell> : null}\r\n            {device && this.state.windowWidth >= WIDTHS[0] ? <TableCell className={this.state.windowWidth > WIDTHS[2] ? this.props.classes.cell : this.props.classes.cellMobile}>{device.usedStates}</TableCell> : null}\r\n            {device && <TableCell align=\"right\" size=\"small\" className={clsx(this.state.windowWidth > WIDTHS[2] ? this.props.classes.cell : this.props.classes.cellMobile, classes.buttonsCell)}>\r\n                <div className={classes.wrapperButton}>\r\n                    <Tooltip title={I18n.t('Copy device')}>\r\n                        <IconButton\r\n                            //size={this.state.windowWidth <= WIDTHS[4] ? 'small' : 'medium'}\r\n                            size=\"small\"\r\n                            onClick={e => this.onCopy(item.id, e)}>\r\n                            <FileCopyIcon />\r\n                        </IconButton>\r\n                    </Tooltip>\r\n                    <Tooltip title={I18n.t('Edit states')}>\r\n                        <IconButton\r\n                            //size={this.state.windowWidth <= WIDTHS[4] ? 'small' : 'medium'}\r\n                            size=\"small\"\r\n                            onClick={e => this.onEdit(item.id, e)}>\r\n                            <IconEdit />\r\n                        </IconButton>\r\n                    </Tooltip>\r\n                    {(device.channelId.startsWith(ALIAS) || device.channelId.startsWith(LINKEDDEVICES)) ?\r\n                        <Tooltip title={I18n.t('Delete device with all states')}>\r\n                            <IconButton\r\n                               //size={this.state.windowWidth <= WIDTHS[4] ? 'small' : 'medium'}\r\n                                size=\"small\"\r\n                                onClick={e =>\r\n                                    deleteFolderAndDeviceCallBack(result =>\r\n                                        result && this.deleteDevice(index), true)}\r\n                            >\r\n                                <IconDelete />\r\n                            </IconButton>\r\n                        </Tooltip> : <div className={classes.emptyBlock} />}\r\n\r\n                </div>\r\n            </TableCell>}\r\n            {!device && this.state.windowWidth >= WIDTHS[1 + j++] && <TableCell className={this.state.windowWidth > WIDTHS[2] ? this.props.classes.cell : this.props.classes.cellMobile} size=\"small\" colSpan={1} />}\r\n            {!device && this.state.windowWidth >= WIDTHS[1 + j++] && <TableCell className={this.state.windowWidth > WIDTHS[2] ? this.props.classes.cell : this.props.classes.cellMobile} size=\"small\" colSpan={1} />}\r\n            {!device && this.state.windowWidth >= WIDTHS[1 + j++] && <TableCell className={this.state.windowWidth > WIDTHS[2] ? this.props.classes.cell : this.props.classes.cellMobile} size=\"small\" colSpan={1} />}\r\n            {!device && this.state.windowWidth >= WIDTHS[0] && <TableCell className={this.state.windowWidth > WIDTHS[2] ? this.props.classes.cell : this.props.classes.cellMobile} size=\"small\" colSpan={1} >{countSpan}</TableCell>}\r\n            {!device && <TableCell size=\"small\" align=\"right\" className={clsx(classes.buttonsCell, this.state.windowWidth > WIDTHS[2] ? this.props.classes.cell : this.props.classes.cellMobile)}>\r\n                {item.importer &&\r\n                    <div className={classes.wrapperButton}>\r\n                        <Tooltip title={I18n.t('Importer')}>\r\n                            <IconButton\r\n                                size=\"small\"\r\n                                //size={this.state.windowWidth <= WIDTHS[4] ? 'small' : 'medium'}\r\n                                onClick={() => this.setState({ showImporterDialog: item })}\r\n                            >\r\n                                <FileCopyIcon />\r\n                            </IconButton>\r\n                        </Tooltip>\r\n                        <div className={classes.emptyBlock} />\r\n                        <div className={classes.emptyBlock} />\r\n                    </div>}\r\n                {!item.noEdit && item.id !== 'alias.0.automatically_detected' && item.id !== 'alias.0.linked_devices' &&\r\n                    <div className={classes.wrapperButton}>\r\n                        <Tooltip title={I18n.t('Edit folder')}>\r\n                            <IconButton\r\n                                size=\"small\"\r\n                                //size={this.state.windowWidth <= WIDTHS[4] ? 'small' : 'medium'}\r\n                                onClick={_ => this.setState({ showEditFolder: item.obj })}>\r\n                                <IconEdit />\r\n                            </IconButton>\r\n                        </Tooltip>\r\n                        {!countSpan ?\r\n                            <Tooltip title={I18n.t('Delete folder')}>\r\n                                <IconButton\r\n                                    //size={this.state.windowWidth <= WIDTHS[4] ? 'small' : 'medium'}\r\n                                    size=\"small\"\r\n                                    onClick={e =>\r\n                                        deleteFolderAndDeviceCallBack(result =>\r\n                                            result && this.props.socket.delObjects(item.id, true), false)}\r\n                                >\r\n                                    <IconDelete />\r\n                                </IconButton>\r\n                            </Tooltip> : <div className={classes.emptyBlock} />}\r\n                    </div>\r\n                }\r\n            </TableCell>}\r\n        </WrapperRow>;\r\n\r\n        const result = [inner];\r\n\r\n        if (isExpanded) {\r\n            children.forEach(it => result.push(this.renderOneItem(items, it)));\r\n        }\r\n        return result;\r\n    }\r\n\r\n    changeFilter(func, room, type, text, noInfo) {\r\n        const filter = JSON.parse(JSON.stringify(this.state.filter));\r\n        if (func !== undefined && func !== null) {\r\n            filter.func = func === '_' ? '' : func;\r\n            window.localStorage.setItem('Devices.filter.func', filter.func);\r\n        }\r\n        if (room !== undefined && room !== null) {\r\n            filter.room = room === '_' ? '' : room;\r\n            window.localStorage.setItem('Devices.filter.room', filter.room);\r\n        }\r\n        if (type !== undefined && type !== null) {\r\n            filter.type = type === '_' ? '' : type;\r\n            window.localStorage.setItem('Devices.filter.type', filter.type);\r\n        }\r\n        if (text !== undefined && text !== null) {\r\n            filter.text = text.toLowerCase();\r\n            window.localStorage.setItem('Devices.filter.text', filter.text);\r\n        }\r\n        if (noInfo !== undefined && noInfo !== null) {\r\n            filter.noInfo = noInfo;\r\n            window.localStorage.setItem('Devices.filter.noInfo', filter.noInfo ? 'true' : 'false');\r\n        }\r\n\r\n        const listItems = this.state.listItems; //JSON.parse(JSON.stringify(this.state.listItems));\r\n        this.applyFilter(listItems, null, filter);\r\n        this.setState({/*listItems,*/ filter});\r\n    }\r\n\r\n    renderAllItems(items) {\r\n        return items\r\n            .filter(item => !item.parent)\r\n            .map(item => this.renderOneItem(items, item));\r\n    }\r\n\r\n    renderHeaderType() {\r\n        let result = [];\r\n        const noInfo = this.state.filter.noInfo;\r\n        this.state.devices.forEach(el => (!noInfo || el.type !== 'info') && !result.includes(el.type) && result.push(el.type));\r\n        result = result.map(type => ({value: type, label: I18n.t('type-' + type)}));\r\n        result.sort((a, b) => a.label > b.label ? 1 : (a.label < b.label ? -1 : 0))\r\n\r\n        return <Select\r\n            value={this.state.filter.type || '_'}\r\n            onChange={e => this.changeFilter(null, null, e.target.value)}\r\n        >\r\n            <MenuItem value={'_'}><span style={{color: this.props.themeType === 'dark' ? '#FFFFFF40' : '#00000040'}}>{I18n.t('Type')}</span></MenuItem>\r\n            {result.map(item => <MenuItem key={item.value} value={item.value}>\r\n                <TypeIcon className={clsx(this.props.classes.enumIcon, this.props.classes.iconInSelect)} type={item.value} />\r\n                {item.label}\r\n            </MenuItem>)}\r\n        </Select>;\r\n    }\r\n\r\n    renderHeaderFunction() {\r\n        if (!this.funcEnums) {\r\n            return I18n.t('Function');\r\n        } else {\r\n            const list = this.funcEnums.map(id => this.objects[id]);\r\n            list.unshift({\r\n                _id: '_',\r\n                common: {\r\n                    name: I18n.t('Function'),\r\n                    color: this.props.themeType === 'dark' ? '#FFFFFF40' : '#00000040'\r\n                }\r\n            });\r\n\r\n            return <SelectWithIcon\r\n                t={I18n.t}\r\n                dense\r\n                lang={I18n.getLanguage()}\r\n                themeType={this.props.themeType}\r\n                value={this.state.filter.func || '_'}\r\n                list={list}\r\n                onChange={text => this.changeFilter(text)}\r\n            />;\r\n        }\r\n    }\r\n\r\n    renderHeaderRoom() {\r\n        if (!this.roomsEnums) {\r\n            return I18n.t('Room');\r\n        } else {\r\n            const list = this.roomsEnums.map(id => this.objects[id]);\r\n            list.unshift({\r\n                _id: '_',\r\n                common: {\r\n                    name: I18n.t('Room'),\r\n                    color: this.props.themeType === 'dark' ? '#FFFFFF40' : '#00000040'\r\n                }\r\n            });\r\n\r\n            return <SelectWithIcon\r\n                t={I18n.t}\r\n                dense\r\n                lang={I18n.getLanguage()}\r\n                themeType={this.props.themeType}\r\n                value={this.state.filter.func || '_'}\r\n                list={list}\r\n                onChange={text => this.changeFilter(text)}\r\n            />;\r\n        }\r\n    }\r\n\r\n    renderDevices() {\r\n        const classes = this.props.classes;\r\n\r\n        let j = 0;\r\n\r\n        return <Paper className={classes.paperTable}>\r\n            <Table stickyHeader className={classes.table} size=\"small\">\r\n                <TableHead>\r\n                    <TableRow>\r\n                        <TableCell className={classes.tableExpandIconCell} />\r\n                        <TableCell className={classes.tableIconCell} />\r\n                        <TableCell className={classes.headerCell + ' ' + classes.tableNameCell}>{I18n.t('Name')}</TableCell>\r\n                        {this.state.windowWidth >= WIDTHS[1 + j++] ? <TableCell className={classes.headerCell}>{this.renderHeaderFunction()}</TableCell> : null}\r\n                        {this.state.windowWidth >= WIDTHS[1 + j++] ? <TableCell className={classes.headerCell}>{this.renderHeaderRoom()}</TableCell> : null}\r\n                        {this.state.windowWidth >= WIDTHS[1 + j++] ? <TableCell className={classes.headerCell}>{this.renderHeaderType()}</TableCell> : null}\r\n                        {this.state.windowWidth >= WIDTHS[0] ? <TableCell style={{ width: 50 }} className={classes.headerCell}>{I18n.t('States')}</TableCell> : null}\r\n                        <TableCell className={classes.headerCell + ' ' + classes.buttonsCellHeader} />\r\n                    </TableRow>\r\n                </TableHead>\r\n                <TableBody>{this.renderAllItems(this.state.listItems)}</TableBody>\r\n            </Table>\r\n        </Paper>;\r\n    }\r\n\r\n    onExpand(group) {\r\n        if (!this.state.expanded.includes(group)) {\r\n            const expanded = JSON.parse(JSON.stringify(this.state.expanded));\r\n            expanded.push(group);\r\n            window.localStorage.setItem('Devices.expanded', JSON.stringify(expanded));\r\n            this.setState({ expanded });\r\n        }\r\n    }\r\n\r\n    onCollapse(group) {\r\n        const pos = this.state.expanded.indexOf(group);\r\n        if (pos !== -1) {\r\n            const expanded = JSON.parse(JSON.stringify(this.state.expanded));\r\n            expanded.splice(pos, 1);\r\n            window.localStorage.setItem('Devices.expanded', JSON.stringify(expanded));\r\n            this.setState({ expanded });\r\n        }\r\n    }\r\n\r\n    onToggle(group) {\r\n        if (!this.state.expanded.includes(group)) {\r\n            this.onExpand(group);\r\n        } else {\r\n            this.onCollapse(group);\r\n        }\r\n    }\r\n\r\n    setSmartName(obj, newSmartName, language) {\r\n        // set smartName\r\n        language = language || I18n.getLanguage();\r\n        if (newSmartName || newSmartName === false) {\r\n            if (this.state.iotNoCommon) {\r\n                const iot = this.state.iot || 'iot.0';\r\n                obj.common.custom = obj.common.custom || {};\r\n                obj.common.custom[iot] = obj.common.custom[iot] || {};\r\n                obj.common.custom[iot].smartName = obj.common.custom[iot].smartName || {};\r\n                obj.common.custom[iot].smartName[language] = newSmartName;\r\n            } else {\r\n                obj.common.smartName = obj.common.smartName || {};\r\n                obj.common.smartName[language] = newSmartName;\r\n            }\r\n        } else {\r\n            if (this.state.iotNoCommon) {\r\n                const iot = this.state.iot || 'iot.0';\r\n                if (obj.common.custom && obj.common.custom[iot]) {\r\n                    obj.common.custom[iot].smartName[language] = '';\r\n                }\r\n            } else {\r\n                if (obj.common.smartName) {\r\n                    obj.common.smartName[language] = '';\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    getSmartName(obj, language) {\r\n        language = language || I18n.getLanguage();\r\n        let smartName;\r\n        if (obj &&\r\n            obj.common &&\r\n            obj.common.custom) {\r\n            if (this.state.iotNoCommon) {\r\n                const iot = this.state.iot || 'iot.0';\r\n                if (obj.common.custom[iot] && obj.common.custom[iot].smartName) {\r\n                    smartName = obj.common.custom[iot].smartName;\r\n                }\r\n            } else {\r\n                smartName = obj.common.smartName;\r\n            }\r\n        }\r\n\r\n        if (smartName && typeof smartName === 'object') {\r\n            smartName = smartName[language] || smartName.en || '';\r\n        }\r\n        return smartName || '';\r\n    }\r\n\r\n    addToEnum = async (enumId, id) => {\r\n        const obj = await this.props.socket.getObject(enumId);\r\n        if (obj && obj.common) {\r\n            obj.common.members = obj.common.members || [];\r\n            if (!obj.common.members.includes(id)) {\r\n                obj.common.members.push(id);\r\n                obj.common.members.sort();\r\n                return this.props.socket.setObject(enumId, obj);\r\n            }\r\n        }\r\n    }\r\n\r\n    removeFromEnum = async (enumId, id) => {\r\n        const obj = await this.props.socket.getObject(enumId);\r\n\r\n        if (obj?.common?.members) {\r\n            const pos = obj.common.members.indexOf(id);\r\n            if (pos !== -1) {\r\n                obj.common.members.splice(pos, 1);\r\n                await this.props.socket.setObject(enumId, obj);\r\n            }\r\n        }\r\n    }\r\n\r\n    processTasks = async tasks => {\r\n        for (let t = 0; t < tasks.length; t++) {\r\n            const task = tasks[t];\r\n\r\n            if (task.obj) {\r\n                if (task.enums) {\r\n                    for (let i = 0; i < task.enums.length; i++) {\r\n                        let enumId = task.enums[i];\r\n                        try {\r\n                            await this.addToEnum(enumId, task.id);\r\n                        } catch (e) {\r\n                            window.alert('Cannot change enum: ' + e);\r\n                        }\r\n                    }\r\n                }\r\n\r\n                try {\r\n                    await this.props.socket.setObject(task.id, task.obj);\r\n                } catch (e) {\r\n                    window.alert('Cannot change object: ' + e);\r\n                }\r\n            } else {\r\n                // delete\r\n                if (task.enums) {\r\n                    for (let i = 0; i < task.enums.length; i++) {\r\n                        let enumId = task.enums[i];\r\n                        try {\r\n                            await this.removeFromEnum(enumId, task.id);\r\n                        } catch (e) {\r\n                            window.alert('Cannot change enum: ' + e);\r\n                        }\r\n                    }\r\n                }\r\n\r\n            }\r\n        }\r\n    }\r\n\r\n    onCopyDevice = async (id, newChannelId) => {\r\n        // if this is device not from linkeddevice or from alias\r\n        const copyDevice = this.state.devices.find(device => device.channelId === id);\r\n\r\n        if (!copyDevice) {\r\n            return;\r\n        }\r\n\r\n        const channelId = copyDevice.channelId;\r\n        const isAlias = channelId.startsWith('alias.') || channelId.startsWith('linkeddevices.');\r\n\r\n        const channelObj = this.objects[channelId];\r\n        const { functions, rooms, icon, states, color, type } = copyDevice;\r\n        const tasks = [];\r\n\r\n        const patterns = this.detector.getPatterns();\r\n        const role = patterns[type]?.states && patterns[type].states.find(item => item.defaultChannelRole);\r\n\r\n        const obj = {\r\n            id: newChannelId,\r\n            obj: {\r\n                common: {\r\n                    name: channelObj.common.name,\r\n                    color,\r\n                    desc: channelObj.common.desc,\r\n                    role: role?.defaultChannelRole || type,\r\n                    icon: icon && icon.startsWith('adapter/') ? `../../${icon}` : icon,\r\n                },\r\n                native: {},\r\n                type: 'channel'\r\n            },\r\n            enums: rooms.concat(functions)\r\n        }\r\n\r\n        if (!obj.obj.common.color) {\r\n            delete obj.obj.common.color;\r\n        }\r\n\r\n        if (!isAlias) {\r\n            obj.obj.native.originalId = id;\r\n        }\r\n\r\n        tasks.push(obj);\r\n\r\n        states.forEach(state => {\r\n            if (!state.id) {\r\n                return;\r\n            }\r\n            const obj = JSON.parse(JSON.stringify(this.objects[state.id]));\r\n            obj._id = newChannelId + '.' + state.name;\r\n\r\n            obj.native = {};\r\n\r\n            if(obj?.common?.custom){\r\n                delete obj.common.custom;\r\n            }\r\n\r\n            if(obj?.common?.smartName){\r\n                delete obj.common.smartName;\r\n            }\r\n\r\n            if (!isAlias) {\r\n                obj.common.alias = { id: state.id };\r\n            }\r\n\r\n            tasks.push({ id: obj._id, obj });\r\n        });\r\n\r\n        await this.processTasks(tasks);\r\n    }\r\n\r\n    onEditFinished = async (data, refresh, cb) => {\r\n        let somethingChanged = false;\r\n        const device = this.state.devices.find(({ channelId }) => channelId === this.state.editId);\r\n        if (data) {\r\n            // const device = this.state.devices[this.state.editIndex];\r\n            const channelId = device.channelId;\r\n\r\n            if (channelId.startsWith(ALIAS)) {\r\n                for (let s = 0; s < device.states.length; s++) {\r\n                    const state = device.states[s];\r\n                    const obj = state.id ? (await this.props.socket.getObject(state.id)) : null;\r\n                    if (obj?.common?.alias) {\r\n                        if (data.ids[state.name] !== obj.common.alias.id ||\r\n                            obj.common.alias.read !== data.fx[state.name].read ||\r\n                            obj.common.alias.write !== data.fx[state.name].write) {\r\n                            // update alias ID\r\n                            if (!state.required && !data.ids[state.name]) {\r\n                                // delete state\r\n                                await this.props.socket.delObject(state.id);\r\n                            } else {\r\n                                // update state\r\n                                const stateObj = await this.props.socket.getObject(state.id);\r\n                                stateObj.common = stateObj.common || {};\r\n                                stateObj.common.alias = stateObj.common.alias || {};\r\n                                stateObj.common.alias.id = data.ids[state.name];\r\n                                if (!data.fx[state.name].read) {\r\n                                    delete stateObj.common.alias.read;\r\n                                } else {\r\n                                    stateObj.common.alias.read = data.fx[state.name].read;\r\n                                }\r\n                                if (!data.fx[state.name].write) {\r\n                                    delete stateObj.common.alias.write;\r\n                                } else {\r\n                                    stateObj.common.alias.write = data.fx[state.name].write;\r\n                                }\r\n                                await this.props.socket.setObject(stateObj._id, stateObj);\r\n                            }\r\n                        } // else nothing changed\r\n                    } else if (data.ids[state.name]) {\r\n                        state.id = state.id || (channelId + '.' + state.name);\r\n\r\n                        // Object not yet exists or invalid\r\n                        let stateObj;\r\n                        try {\r\n                            stateObj = await this.props.socket.getObject(state.id);\r\n                        } catch (e) {\r\n\r\n                        }\r\n                        stateObj = stateObj || {};\r\n                        stateObj._id = state.id;\r\n                        stateObj.native = stateObj.native || {};\r\n                        stateObj.type = 'state';\r\n                        stateObj.common = stateObj.common || {};\r\n                        const common = stateObj.common;\r\n                        common.alias = common.alias || {};\r\n                        common.alias.id = data.ids[state.name];\r\n                        common.name = common.name || state.name;\r\n                        common.role = state.defaultRole;\r\n                        if (state.read !== undefined) {\r\n                            common.read = state.read;\r\n                        }\r\n                        if (state.write !== undefined) {\r\n                            common.write = state.write;\r\n                        }\r\n\r\n                        if (state.defaultStates) {\r\n                            common.states = state.defaultStates;\r\n                        }\r\n\r\n                        if (data.fx[state.name].read) {\r\n                            stateObj.common.alias.read = data.fx[state.name].read;\r\n                        }\r\n                        if (data.fx[state.name].write) {\r\n                            stateObj.common.alias.write = data.fx[state.name].write;\r\n                        }\r\n\r\n                        common.type = state.type ? (typeof state.type === 'object' ? state.type[0] : state.type) : TYPES_MAPPING[state.defaultRole.split('.')[0]] || 'state';\r\n\r\n                        if (state.defaultMin !== undefined) {\r\n                            common.min = state.defaultMin;\r\n                        } else\r\n                            if (state.min !== undefined) {\r\n                                common.min = 0;\r\n                            }\r\n\r\n                        if (state.defaultMax !== undefined) {\r\n                            common.max = state.defaultMax;\r\n                        } else\r\n                            if (state.max !== undefined) {\r\n                                common.max = 100;\r\n                            }\r\n\r\n                        if (state.defaultUnit) {\r\n                            common.unit = state.defaultUnit;\r\n                        } else if (state.unit) {\r\n                            common.unit = state.unit;\r\n                        }\r\n                        somethingChanged = true;\r\n                        await this.props.socket.setObject(stateObj._id, stateObj);\r\n                    }\r\n                }\r\n            } else\r\n                if (channelId.startsWith(LINKEDDEVICES)) {\r\n                    for (let s = 0; s < device.states.length; s++) {\r\n                        let state = device.states[s];\r\n                        const obj = state.id && (await this.props.socket.getObject(state.id));\r\n                        let attrs;\r\n                        if (state.id && obj && obj.common && obj.common.custom && (attrs = Object.keys(obj.common.custom).filter(id => id.startsWith(LINKEDDEVICES))).length) {\r\n                            const attr = attrs[0];\r\n                            if (data.ids[state.name] !== obj.common.custom[attr].parentId ||\r\n                                !obj.common.custom[attr].enabled ||\r\n                                !obj.common.custom[attr].isLinked) {\r\n                                // update alias ID\r\n                                if (!state.required && !data.ids[state.name]) {\r\n                                    // delete state\r\n                                    await this.props.socket.delObject(state.id);\r\n                                    somethingChanged = true;\r\n                                } else {\r\n                                    // update state\r\n                                    obj.common = obj.common || {};\r\n                                    obj.common.custom = obj.common.custom || {};\r\n                                    obj.common.custom[attr] = obj.common.custom[attr] || {};\r\n                                    obj.common.custom[attr].parentId = data.ids[state.name];\r\n                                    obj.common.custom[attr].enabled = true;\r\n                                    obj.common.custom[attr].isLinked = true;\r\n                                    somethingChanged = true;\r\n                                    await this.props.socket.setObject(obj._id, obj);\r\n                                }\r\n                            } // else nothing changed\r\n                        } else if (data.ids[state.name]) {\r\n                            state.id = state.id || (channelId + '.' + state.name);\r\n\r\n                            // Object not yet exists or invalid\r\n                            let stateObj;\r\n                            try {\r\n                                stateObj = await this.props.socket.getObject(state.id);\r\n                            } catch (e) {\r\n\r\n                            }\r\n                            stateObj = stateObj || {};\r\n                            stateObj._id = state.id;\r\n                            stateObj.native = stateObj.native || {};\r\n                            stateObj.type = 'state';\r\n                            stateObj.common = stateObj.common || {};\r\n                            const common = stateObj.common;\r\n                            const attr = this.state.linkeddevices;\r\n                            common.custom = common.custom || {};\r\n                            common.custom[attr] = common.custom[attr] || {};\r\n                            common.custom[attr].parentId = data.ids[state.name];\r\n                            common.custom[attr].enabled = true;\r\n                            common.custom[attr].isLinked = true;\r\n                            common.custom[attr].parentType = 'mixed';\r\n\r\n                            common.name = common.name || state.name;\r\n                            common.role = state.defaultRole;\r\n\r\n                            if (state.read !== undefined) {\r\n                                common.read = state.read;\r\n                            }\r\n                            if (state.write !== undefined) {\r\n                                common.write = state.write;\r\n                            }\r\n\r\n                            if (state.defaultStates) {\r\n                                common.states = state.defaultStates;\r\n                            }\r\n                            common.type = state.type ? (typeof state.type === 'object' ? state.type[0] : state.type) : TYPES_MAPPING[state.defaultRole.split('.')[0]] || 'state';\r\n\r\n                            if (state.defaultMin !== undefined) {\r\n                                common.min = state.defaultMin;\r\n                            } else\r\n                                if (state.min !== undefined) {\r\n                                    common.min = 0;\r\n                                }\r\n\r\n                            if (state.defaultMax !== undefined) {\r\n                                common.max = state.defaultMax;\r\n                            } else\r\n                                if (state.max !== undefined) {\r\n                                    common.max = 100;\r\n                                }\r\n\r\n                            if (state.defaultUnit) {\r\n                                common.unit = state.defaultUnit;\r\n                            } else if (state.unit) {\r\n                                common.unit = state.unit;\r\n                            }\r\n                            somethingChanged = true;\r\n                            await this.props.socket.setObject(stateObj._id, stateObj);\r\n                        }\r\n                    }\r\n                }\r\n        }\r\n\r\n        // update expert mode if was changed\r\n        const newState = { editId: null, expertMode: window.localStorage.getItem('Devices.expertMode') === 'true' };\r\n        if (somethingChanged) {\r\n            //const devices = JSON.parse(JSON.stringify(this.state.devices));\r\n            // update enums, name\r\n            this.updateEnumsForOneDevice(device); // TODO: here the device will be changed directly in state!\r\n            //newState.devices = devices;\r\n        }\r\n        cb && cb();\r\n        await this.setStateAsync(newState);\r\n        refresh && (await this.detectDevices(true));\r\n        Router.doNavigate(null, '', '');\r\n    }\r\n\r\n    onSaveProperties = async data => {\r\n        let somethingChanged = false;\r\n        const device = this.state.devices.find(({ channelId }) => channelId === this.state.editId);\r\n        if (data) {\r\n            const language = I18n.getLanguage();\r\n            const channelId = device.channelId;\r\n            const oldName = Utils.getObjectNameFromObj(this.objects[channelId], null, { language });\r\n\r\n            let oldSmartName = this.getSmartName(this.objects[channelId], language);\r\n\r\n            if (this.objects[channelId] && this.objects[channelId].common &&\r\n                (oldName !== data.name ||\r\n                    oldSmartName !== data.smartName ||\r\n                    (this.objects[channelId].common.color || '') !== data.color ||\r\n                    (this.objects[channelId].common.icon || '') !== data.icon)\r\n            ) {\r\n                // update channel\r\n                let obj = await this.props.socket.getObject(channelId);\r\n                obj = obj || {};\r\n                obj.common = obj.common || {};\r\n                if (typeof obj.common.name !== 'object') {\r\n                    obj.common.name = { [language]: obj.common.name || '' };\r\n                }\r\n                obj.common.name[language] = data.name;\r\n                // obj._id = data.name.replace(Utils.FORBIDDEN_CHARS, '_').replace(/\\s/g, '_').replace(/\\./g, '_');\r\n                obj.common.role = device.type;\r\n                obj.common.color = data.color;\r\n                if (!data.color) {\r\n                    delete obj.common.color;\r\n                }\r\n                obj.common.icon = data.icon;\r\n                if (!data.icon) {\r\n                    delete obj.common.icon;\r\n                }\r\n                obj.type = obj.type || 'channel';\r\n\r\n                if (data.smartName === false) {\r\n                    obj.common.smartName = false;\r\n                } else {\r\n                    this.setSmartName(obj, data.smartName, language);\r\n                }\r\n\r\n                await this.props.socket.setObject(obj._id, obj);\r\n                somethingChanged = true;\r\n            }\r\n\r\n            if (await this.setEnumsOfDevice(channelId, data.functions, data.rooms)) {\r\n                somethingChanged = true;\r\n            }\r\n        }\r\n\r\n        if (somethingChanged) {\r\n            const devices = JSON.parse(JSON.stringify(this.state.devices));\r\n            // update enums, name\r\n            this.updateEnumsForOneDevice(device);\r\n            this.setState({ devices });\r\n        }\r\n    }\r\n\r\n    renderEditDialog() {\r\n        if (this.state.editId === null) {\r\n            return null;\r\n        }\r\n        const device = this.state.devices.find(({ channelId }) => channelId === this.state.editId);\r\n        if (!device) {\r\n            return null;\r\n        }\r\n        if (!this.objects[this.state.editId]) {\r\n            window.alert('Device not found');\r\n            Router.doNavigate(null, '', '');\r\n            return this.setState({ editId: null });\r\n        }\r\n\r\n        return <DialogEdit\r\n            channelId={device.channelId}\r\n            type={device.type}\r\n            channelInfo={device}\r\n            objects={this.objects}\r\n            states={this.states}\r\n            patterns={this.patterns}\r\n            themeType={this.props.themeType}\r\n            processTasks={this.processTasks}\r\n            enumIDs={this.enumIDs}\r\n            socket={this.props.socket}\r\n            onCopyDevice={async (id, newId) => {\r\n                await this.onCopyDevice(id, newId);\r\n                const copiedDevice = this.state.devices.find(device => device.channelId === id);\r\n                if (copiedDevice) {\r\n                    await this.deleteDevice(this.state.devices.indexOf(copiedDevice));\r\n                }\r\n            }}\r\n            onSaveProperties={data => this.onSaveProperties(data)}\r\n            onClose={(data, refresh, cb) => this.onEditFinished(data, refresh, cb)}\r\n        />;\r\n    }\r\n\r\n    async setEnumsOfDevice(channelId, functions, rooms) {\r\n        let somethingChanged = false;\r\n\r\n        for (let e = 0; e < this.enumIDs.length; e++) {\r\n            const id = this.enumIDs[e];\r\n            const members = (this.objects[id] && this.objects[id].common && this.objects[id].common.members) || [];\r\n            // if this channel is in enum\r\n            if (id.startsWith('enum.functions.') && functions) {\r\n                if (functions.includes(id)) {\r\n                    if (!members.includes(channelId)) {\r\n                        const obj = await this.props.socket.getObject(id);\r\n                        obj.common = obj.common || {};\r\n                        obj.common.members = obj.common.members || [];\r\n                        obj.common.members.push(channelId);\r\n                        obj.common.members.sort();\r\n                        await this.props.socket.setObject(obj._id, obj);\r\n                        somethingChanged = true;\r\n                    }\r\n                } else {\r\n                    if (members.includes(channelId)) {\r\n                        const obj = await this.props.socket.getObject(id);\r\n                        obj.common = obj.common || {};\r\n                        obj.common.members = obj.common.members || [];\r\n                        const pos = obj.common.members.indexOf(channelId);\r\n                        if (pos !== -1) {\r\n                            obj.common.members.splice(pos, 1);\r\n                            obj.common.members.sort();\r\n                            await this.props.socket.setObject(obj._id, obj);\r\n                            somethingChanged = true;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            if (id.startsWith('enum.rooms.') && rooms) {\r\n                if (rooms.includes(id)) {\r\n                    if (!members.includes(channelId)) {\r\n                        const obj = await this.props.socket.getObject(id)\r\n                        obj.common = obj.common || {};\r\n                        obj.common.members = obj.common.members || [];\r\n                        obj.common.members.push(channelId);\r\n                        obj.common.members.sort();\r\n                        await this.props.socket.setObject(obj._id, obj);\r\n                        somethingChanged = true;\r\n                    }\r\n                } else {\r\n                    if (members.includes(channelId)) {\r\n                        const obj = await this.props.socket.getObject(id);\r\n                        obj.common = obj.common || {};\r\n                        obj.common.members = obj.common.members || [];\r\n                        const pos = obj.common.members.indexOf(channelId);\r\n                        if (pos !== -1) {\r\n                            obj.common.members.splice(pos, 1);\r\n                            obj.common.members.sort();\r\n                            await this.props.socket.setObject(obj._id, obj);\r\n                            somethingChanged = true;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        return somethingChanged;\r\n    }\r\n\r\n    deleteDevice = async (index, devices) => {\r\n        devices = devices || JSON.parse(JSON.stringify(this.state.devices));\r\n        const device = devices[index];\r\n        if (!device) {\r\n            return;\r\n        }\r\n\r\n        // remove this device from all enums\r\n        for (let i = 0; i < this.enumIDs.length; i++) {\r\n            const enumId = this.enumIDs[i];\r\n            if (this.objects[enumId] && this.objects[enumId].common && this.objects[enumId].common.members) {\r\n                if (device.states.find(state => state.id && this.objects[enumId].common.members.includes(state.id)) ||\r\n                    this.objects[enumId].common.members.includes(device.channelId)\r\n                ) {\r\n                    const obj = await this.props.socket.getObject(enumId);\r\n                    if (!obj || !obj.common || !obj.common.members) {\r\n                        continue;\r\n                    }\r\n                    const members = [];\r\n\r\n                    obj.common.members.forEach(sid => {\r\n                        if (!device.states.find(state => state.id === sid) && sid !== device.channelId) {\r\n                            members.push(sid);\r\n                        }\r\n                    });\r\n\r\n                    if (JSON.stringify(members) !== JSON.stringify(obj.common.members)) {\r\n                        obj.common.members = members;\r\n                        await this.props.socket.setObject(obj._id, obj);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        // delete all states of this device\r\n        for (let i = 0; i < device.states.length; i++) {\r\n            const state = device.states[i];\r\n            if (state.id) {\r\n                const id = state.id;\r\n                await this.props.socket.delObject(id);\r\n            }\r\n        }\r\n\r\n        if (device.channelId && device.channelId !== device.mainStateId) {\r\n            await this.props.socket.delObject(device.channelId);\r\n        }\r\n\r\n        devices.splice(index, 1);\r\n\r\n        return devices;\r\n    }\r\n\r\n    async createDevice(options) {\r\n        const patterns = this.detector.getPatterns();\r\n        let states = Object.keys(patterns).find(t => patterns[t].type === options.type);\r\n        if (!states) {\r\n            return await this.setStateAsync({ message: I18n.t('Unknown type!') + options.type });\r\n        }\r\n        states = patterns[states].states;\r\n        if (options.states.length) {\r\n            states = options.states;\r\n        }\r\n\r\n        // try to find channelRole\r\n        const role = states.find(item => item.defaultChannelRole);\r\n\r\n        const obj = {\r\n            _id: options.id,\r\n            common: {\r\n                name: { [I18n.getLanguage()]: options.name },\r\n                role: role?.defaultChannelRole || options.type,\r\n                icon: options.icon,\r\n                color: options.color,\r\n            },\r\n            native: {},\r\n            type: 'channel'\r\n        };\r\n\r\n        // create channel\r\n        await this.props.socket.setObject(options.id, obj);\r\n\r\n        for (let s = 0; s < states.length; s++) {\r\n            const state = states[s];\r\n\r\n            if (state.required && state.defaultRole) {\r\n                const common = {\r\n                    name: state.name,\r\n                    role: state.defaultRole,\r\n                    type: state.type ? (typeof state.type === 'object' ? state.type[0] : state.type) : TYPES_MAPPING[state.defaultRole.split('.')[0]] || 'state',\r\n                    read: state.read === undefined ? true : state.read,\r\n                    write: state.write === undefined ? false : state.write,\r\n                    alias: {\r\n                        id: ''\r\n                    }\r\n                };\r\n                if (state.defaultStates) {\r\n                    common.states = state.defaultStates;\r\n                }\r\n\r\n                if (state.defaultMin !== undefined) {\r\n                    common.min = state.defaultMin;\r\n                } else\r\n                    if (state.min !== undefined) {\r\n                        common.min = 0;\r\n                    }\r\n\r\n                if (state.defaultMax !== undefined) {\r\n                    common.max = state.defaultMax;\r\n                } else\r\n                    if (state.max !== undefined) {\r\n                        common.max = 100;\r\n                    }\r\n\r\n                if (state.defaultUnit) {\r\n                    common.unit = state.defaultUnit;\r\n                } else\r\n                    if (state.unit) {\r\n                        common.unit = state.unit;\r\n                    }\r\n\r\n                const obj = {\r\n                    _id: options.id + '.' + state.name,\r\n                    common,\r\n                    native: {},\r\n                    type: 'state'\r\n                };\r\n                await this.props.socket.setObject(options.id + '.' + state.name, obj);\r\n            }\r\n\r\n            await this.setEnumsOfDevice(options.id, options.functions, options.rooms);\r\n        }\r\n\r\n        /*const devices = JSON.parse(JSON.stringify(this.state.devices));\r\n        const result = this.detector.detect({ id: options.id, objects: this.objects, forceRebuildKeys: true });\r\n\r\n        if (result) {\r\n            for (let r = 0; r < result.length; r++) {\r\n                this.updateEnumsForOneDevice(result[r]);\r\n                devices.push(result[r]);\r\n            }\r\n        }*/\r\n\r\n        this.editCreatedId = obj._id;\r\n        /*await this.setStateAsync({ devices, editId: obj._id });\r\n        Router.doNavigate('list', 'edit', obj._id);*/\r\n    }\r\n\r\n    renderAddDialog() {\r\n        if (!this.state.showAddDialog) {\r\n            return null;\r\n        } else {\r\n            return <DialogNew\r\n                themeType={this.props.themeType}\r\n                theme={this.props.theme}\r\n                detector={this.detector}\r\n                objects={this.objects}\r\n                socket={this.props.socket}\r\n                processTasks={this.processTasks}\r\n                enumIDs={this.enumIDs}\r\n                selected={this.state.selected}\r\n                prefix={this.state.showAddDialog}\r\n                copyDevice={this.state.copyId ? this.state.devices.find(el => el.channelId === this.state.copyId) || null : null}\r\n                onClose={options =>\r\n                    this.setState({ showAddDialog: '', copyId: '' }, () =>\r\n                        options && this.createDevice(options))}\r\n            />;\r\n        }\r\n    }\r\n\r\n    renderImporterDialog = () => {\r\n        if (!this.state.showImporterDialog) {\r\n            return null;\r\n        } else {\r\n            return <DialogImporter\r\n                item={this.state.showImporterDialog}\r\n                socket={this.props.socket}\r\n                devices={this.state.devices}\r\n                objects={this.objects}\r\n                onCopyDevice={this.onCopyDevice}\r\n                onClose={result =>\r\n                    this.setState({ showImporterDialog: null }, () =>\r\n                        result && this.detectDevices(true))}\r\n                listItems={this.state.listItems}\r\n            />;\r\n        }\r\n    }\r\n\r\n    renderEditFolder = () => {\r\n        if (!this.state.showEditFolder && !this.state.newFolder) {\r\n            return null;\r\n        } else {\r\n            return <DialogEditFolder\r\n                processTasks={this.processTasks}\r\n                deleteDevice={async (index, devices) => await this.deleteDevice(index, devices)}\r\n                objects={this.objects}\r\n                socket={this.props.socket}\r\n                detector={this.detector}\r\n                devices={this.state.devices}\r\n                data={this.state.showEditFolder}\r\n                selected={this.disabledButtons() ? undefined : this.state.selected}\r\n                newFolder={this.state.newFolder}\r\n                onClose={() =>\r\n                    this.setState({ showEditFolder: undefined, newFolder: false })}\r\n            />;\r\n        }\r\n    }\r\n\r\n    // renderDeleteDialog() {\r\n    //     if (this.state.deleteIndex === null) {\r\n    //         return null;\r\n    //     } else {\r\n    //         const time = window.localStorage.getItem('DeleteDeviceTime');\r\n    //         const fiveMin = 1000 * 60 * 5;\r\n    //         const index = this.state.deleteIndex;\r\n    //         if (time && new Date().getTime() - time < fiveMin) {\r\n    //             return this.setState({ deleteIndex: null }, () => {\r\n    //                 this.deleteDevice(index);\r\n    //             })\r\n    //         }\r\n    //         return <DialogConfirm\r\n    //             title={I18n.t('Please confirm...')}\r\n    //             text={I18n.t('Device and all states will be deleted. Are you sure?')}\r\n    //             onClose={result => {\r\n    //                 const index = this.state.deleteIndex;\r\n    //                 this.setState({ deleteIndex: null }, async () => {\r\n    //                     if (result) {\r\n    //                         window.localStorage.setItem('DeleteDeviceTime', new Date().getTime());\r\n    //                         const devices = await this.deleteDevice(index);\r\n    //                         this.setState({ devices });\r\n    //                     }\r\n    //                 })\r\n    //             }}\r\n    //         />;\r\n    //     }\r\n    // }\r\n\r\n    renderEditEnumDialog() {\r\n        if (!this.state.editEnum) {\r\n            return null;\r\n        } else {\r\n            return <DialogEditEnums\r\n                objects={this.objects}\r\n                values={this.state.editEnum.values}\r\n                enumIDs={this.state.editEnum.enums}\r\n                deviceName={this.state.devices[this.state.editEnum.index].name}\r\n                onClose={async values => {\r\n                    if (values && JSON.stringify(values) !== JSON.stringify(this.state.editEnum.values)) {\r\n                        if (this.state.editEnum.enums[0] && this.state.editEnum.enums[0].startsWith('enum.functions.')) {\r\n                            await this.setEnumsOfDevice(this.state.devices[this.state.editEnum.index].channelId, values);\r\n                        } else {\r\n                            await this.setEnumsOfDevice(this.state.devices[this.state.editEnum.index].channelId, undefined, values);\r\n                        }\r\n                        const devices = JSON.parse(JSON.stringify(this.state.devices));\r\n                        // update enums, name\r\n                        this.updateEnumsForOneDevice(devices[this.state.editEnum.index]);\r\n                        this.setState({ editEnum: null, devices });\r\n                    } else {\r\n                        this.setState({ editEnum: null });\r\n                    }\r\n                }}\r\n            />;\r\n        }\r\n    }\r\n\r\n    setFilter(value) {\r\n        this.filter = value.toLowerCase();\r\n        this.filterTimer && clearTimeout(this.filterTimer);\r\n        this.filterTimer = setTimeout(() => {\r\n            this.filterTimer = null;\r\n            this.changeFilter(null, null, null, this.filter);\r\n        }, 400);\r\n    }\r\n\r\n    onCollapseAll() {\r\n        this.setState({ expandedIDs: [] });\r\n        this.saveExpanded([]);\r\n    }\r\n\r\n    onExpandAll() {\r\n        const expandedIDs = [];\r\n        this.state.listItems.forEach(item =>\r\n            this.state.listItems.find(it => it.parent === item.id) && expandedIDs.push(item.id));\r\n        this.setState({ expandedIDs });\r\n        this.saveExpanded(expandedIDs);\r\n    }\r\n\r\n    render() {\r\n        if (this.state.loading) {\r\n            return <CircularProgress />;\r\n        } else {\r\n            const classes = this.props.classes;\r\n            const small = this.props.width === 'xs' || this.props.width === 'sm';\r\n            const disabledButtons = this.disabledButtons();\r\n\r\n            return <DndProvider backend={!small ? HTML5Backend : TouchBackend}>\r\n                <div className={classes.tab}>\r\n                    <Toolbar variant=\"dense\">\r\n                        <div className={classes.wrapperHeadButtons}>\r\n                        <Tooltip title={I18n.t('Create new device with Aliases')}>\r\n                            <div>\r\n                                <IconButton\r\n                                        disabled={disabledButtons}\r\n                                        onClick={() => this.setState({ showAddDialog: ALIAS + '0' })}>\r\n                                    <IconAdd color={this.state.viewCategory ? 'primary' : 'inherit'} />\r\n                                </IconButton>\r\n                            </div>\r\n                        </Tooltip>\r\n                        {this.state.linkeddevices && <Tooltip title={I18n.t('Create new device with LinkedDevices')}>\r\n                            <IconButton onClick={() => this.setState({ showAddDialog: this.state.linkeddevices })}>\r\n                                <IconAdd style={{ color: colorLinkedDevices }} />\r\n                            </IconButton>\r\n                        </Tooltip>}\r\n                        <Tooltip title={I18n.t('Refresh')}>\r\n                            <IconButton onClick={() => this.detectDevices()} disabled={this.state.browse}>\r\n                                {this.state.browse ? <CircularProgress size={20} /> : <IconRefresh />}\r\n                            </IconButton>\r\n                        </Tooltip>\r\n                        <Tooltip title={I18n.t('Hide info devices')}>\r\n                            <IconButton\r\n                                color={this.state.filter.noInfo ? 'primary' : 'inherit'}\r\n                                onClick={() => this.changeFilter(null, null, null, null, !this.state.filter.noInfo)}>\r\n                                <IconInfo />\r\n                            </IconButton>\r\n                        </Tooltip>\r\n                        <Tooltip title={disabledButtons ? I18n.t('Create new folder in root') : I18n.t('Create new folder')}>\r\n                            <IconButton\r\n                                color={disabledButtons ? 'secondary' : 'primary'}\r\n                                onClick={_ => this.setState({ newFolder: true })}>\r\n                                <CreateNewFolderIcon />\r\n                            </IconButton>\r\n                        </Tooltip>\r\n                        <Tooltip title={I18n.t('Expand all nodes')}>\r\n                            <IconButton\r\n                                color=\"primary\"\r\n                                onClick={() => this.onExpandAll()}>\r\n                                <IconFolderOpened />\r\n                            </IconButton>\r\n                        </Tooltip>\r\n                        <Tooltip title={I18n.t('Collapse all nodes')}>\r\n                            <IconButton\r\n                                color=\"primary\"\r\n                                onClick={() => this.onCollapseAll()}>\r\n                                <IconFolder />\r\n                            </IconButton>\r\n                        </Tooltip>\r\n                        </div>\r\n                        <TextField\r\n                            margin=\"dense\"\r\n                            inputRef={this.inputRef}\r\n                            placeholder={I18n.t('Filter')}\r\n                            InputLabelProps={{ shrink: true }}\r\n                            defaultValue={this.filter}\r\n                            className={classes.hide700}\r\n                            onChange={e => this.setFilter(e.target.value)}\r\n                            InputProps={{\r\n                                endAdornment: (\r\n                                    this.filter ? <InputAdornment position=\"end\">\r\n                                        <IconButton\r\n                                            size=\"small\"\r\n                                            onClick={() => {\r\n                                                this.setFilter('');\r\n                                                this.inputRef.current.value = '';\r\n                                            }}\r\n                                        >\r\n                                            <IconClear />\r\n                                        </IconButton>\r\n                                    </InputAdornment> : <div className={classes.emptyClear} />\r\n                                ),\r\n                            }}\r\n                        />\r\n                        <div className={classes.emptyBlockFlex} />\r\n                        <div className={classes.wrapperName}>\r\n                            <DvrIcon color={this.state.themeName !== 'colored' ? 'primary' : 'inherit'} style={{ marginRight: 5 }} />\r\n                            <span>{I18n.t('Devices')}</span>\r\n                        </div>\r\n                    </Toolbar>\r\n                    {this.renderDevices()}\r\n                    {this.renderMessage()}\r\n                    {this.renderEditDialog()}\r\n                    {this.renderAddDialog()}\r\n                    {this.renderEditEnumDialog()}\r\n                    {this.renderImporterDialog()}\r\n                    {this.renderEditFolder()}\r\n                </div>\r\n            </DndProvider>;\r\n        }\r\n    }\r\n}\r\n\r\nListDevices.propTypes = {\r\n    adapterName: PropTypes.string.isRequired,\r\n    onError: PropTypes.func,\r\n    onLoad: PropTypes.func,\r\n    onChange: PropTypes.func,\r\n    socket: PropTypes.object.isRequired,\r\n    theme: PropTypes.object,\r\n    themeType: PropTypes.string,\r\n};\r\n\r\nexport default withWidth()(withStyles(styles)(ListDevices));\r\n","import React from 'react';\r\nimport { ThemeProvider, withStyles } from '@material-ui/core/styles';\r\n// import I18n from '@iobroker/adapter-react/i18n';\r\n\r\nimport { Paper } from '@material-ui/core';\r\n\r\nimport GenericApp from '@iobroker/adapter-react/GenericApp';\r\nimport Utils from '@iobroker/adapter-react/Components/Utils';\r\nimport Loader from '@iobroker/adapter-react/Components/Loader'\r\n// import ToggleThemeMenu from './Components/ToggleThemeMenu';\r\n\r\nimport TabDevices from './Tabs/ListDevices';\r\n\r\nconst styles = theme => ({\r\n    root: {},\r\n    tabContent: {\r\n        //padding: 10,\r\n        height: '100%',\r\n        overflow: 'auto',\r\n    },\r\n    wrapperMenu: {\r\n        display: 'flex',\r\n        justifyContent: 'space-between'\r\n    },\r\n    wrapperIconHeader: {\r\n\r\n    },\r\n    wrapperName: {\r\n        fontWeight: 800,\r\n        display: 'flex',\r\n        alignItems: 'center'\r\n    }\r\n});\r\n\r\nclass App extends GenericApp {\r\n    constructor(props) {\r\n        const extendedProps = { ...props };\r\n        extendedProps.bottomButtons = false;\r\n        extendedProps.adapterName = 'devices';\r\n        extendedProps.translations = {\r\n            'en': require('./i18n/en'),\r\n            'de': require('./i18n/de'),\r\n            'ru': require('./i18n/ru'),\r\n            'pt': require('./i18n/pt'),\r\n            'nl': require('./i18n/nl'),\r\n            'fr': require('./i18n/fr'),\r\n            'it': require('./i18n/it'),\r\n            'es': require('./i18n/es'),\r\n            'pl': require('./i18n/pl'),\r\n            'zh-cn': require('./i18n/zh-cn'),\r\n        };\r\n        super(props, extendedProps);\r\n\r\n        const theme = this.createTheme();\r\n        this.state = {\r\n            theme,\r\n            themeName: this.getThemeName(theme),\r\n            themeType: this.getThemeType(theme),\r\n        }\r\n    }\r\n\r\n    onHashChanged() {\r\n        //const location = GenericApp.getLocation();\r\n    }\r\n\r\n    getSelectedTab() {\r\n        const tab = this.state.selectedTab;\r\n        if (!tab || tab === 'list') {\r\n            return 0;\r\n        }\r\n    }\r\n    /**\r\n     * Changes the current theme\r\n     */\r\n    toggleTheme = currentThemeName => {\r\n        const themeName = this.state.themeName;\r\n\r\n        // dark => blue => colored => light => dark\r\n        let newThemeName = themeName === 'dark' ? 'blue' :\r\n            (themeName === 'blue' ? 'colored' :\r\n                (themeName === 'colored' ? 'light' : 'dark'));\r\n\r\n        if (currentThemeName) {\r\n            newThemeName = currentThemeName;\r\n        }\r\n\r\n        Utils.setThemeName(newThemeName);\r\n\r\n        const theme = this.createTheme(newThemeName);\r\n\r\n        this.setState({\r\n            theme: theme,\r\n            themeName: this.getThemeName(theme),\r\n            themeType: this.getThemeType(theme)\r\n        });\r\n    }\r\n\r\n    render() {\r\n        if (!this.state.loaded) {\r\n            return <Loader theme={this.state.themeType} />;\r\n        }\r\n\r\n        return <ThemeProvider theme={this.state.theme}>\r\n            {/* <ToggleThemeMenu\r\n                                toggleTheme={this.toggleTheme}\r\n                                themeName={this.state.themeName}\r\n                                t={I18n.t} /> */}\r\n            <Paper square elevation={0} className={this.props.classes.tabContent}>\r\n                {(this.state.selectedTab === 'list' || !this.state.selectedTab) ?\r\n                <TabDevices\r\n                    theme={this.state.theme}\r\n                    themeType={this.state.themeType}\r\n                    key=\"options\"\r\n                    common={this.common}\r\n                    socket={this.socket}\r\n                    native={this.state.native}\r\n                    onError={text => this.setState({ errorText: text })}\r\n                    onLoad={native => this.onLoadConfig(native)}\r\n                    instance={this.instance}\r\n                    adapterName={this.adapterName}\r\n                    onChange={(attr, value) => this.updateNativeValue(attr, value)}\r\n                />\r\n                : null}\r\n\r\n            </Paper>\r\n            {this.renderError()}\r\n            {this.renderSaveCloseButtons()}\r\n        </ThemeProvider>;\r\n    }\r\n}\r\n\r\nexport default withStyles(styles)(App);\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && !contentType.includes('javascript'))\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport {version} from '../package.json';\r\nimport { MuiThemeProvider} from '@material-ui/core/styles';\r\nimport * as Sentry from '@sentry/browser';\r\nimport * as SentryIntegrations from '@sentry/integrations';\r\n\r\nimport theme from '@iobroker/adapter-react/Theme';\r\nimport Utils from '@iobroker/adapter-react/Components/Utils';\r\nimport App from './App';\r\n\r\nimport * as serviceWorker from './serviceWorker';\r\nimport '@iobroker/adapter-react/index.css';\r\n\r\nwindow.adapterName = 'devices';\r\n\r\nconsole.log('iobroker.' + window.adapterName + '@' + version);\r\nlet themeName = Utils.getThemeName();\r\n\r\nfunction build() {\r\n    return ReactDOM.render(<MuiThemeProvider theme={ theme(themeName) }>\r\n        <App onThemeChange={_themeName => {\r\n            themeName = _themeName;\r\n            build();\r\n        }}/>\r\n    </MuiThemeProvider>, document.getElementById('root'));\r\n}\r\n\r\nif (window.location.host !== 'localhost:3000') {\r\n    Sentry.init({\r\n        dsn: 'https://3cedc5ceb5544e2e8248053c817fc98b@sentry.iobroker.net/131',\r\n        integrations: [\r\n            new SentryIntegrations.Dedupe()\r\n        ]\r\n    });\r\n}\r\n\r\nbuild();\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}